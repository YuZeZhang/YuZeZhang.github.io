<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>MAC å†…ç½‘ç©¿é€ cpolar</title>
    <url>/Yuyang/cpolar/</url>
    <content><![CDATA[<blockquote>
<p>ä»‹ç»å¦‚ä½•é€šè¿‡ä½¿ç”¨cpolaræ¥å®Œæˆå°†å†…ç½‘ä¸‹çš„æœ¬åœ°æœåŠ¡å™¨é€šè¿‡å®‰å…¨éš§é“æš´éœ²è‡³å…¬ç½‘ï¼Œå®Œæˆå…¬ç½‘æ­£å¸¸è®¿é—®å†…ç½‘æœåŠ¡ã€‚ç›®å‰æˆ‘çš„æœ¬åœ°webæœåŠ¡åªèƒ½åœ¨å±€åŸŸç½‘å†…è®¿é—®ï¼Œä½¿ç”¨cpolarå†…ç½‘ç©¿é€å¯ä»¥å°†æœ¬åœ°æœåŠ¡æ˜ å°„åˆ°å…¬ç½‘ï¼Œå®ç°å…¬ç½‘ç”¨æˆ·ä¹Ÿå¯ä»¥è®¿é—®åˆ°æœ¬åœ°æœåŠ¡ï¼Œæ— éœ€å…¬ç½‘IPï¼Œä¹Ÿæ— éœ€è®¾ç½®è·¯ç”±å™¨ã€‚<br>cpolarå®˜ç½‘ï¼š<a class="link"   href="https://www.cpolar.com/" >https://www.cpolar.com <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</blockquote>
<h2 id="1ã€å®‰è£…é…ç½®cpolar"><a href="#1ã€å®‰è£…é…ç½®cpolar" class="headerlink" title="1ã€å®‰è£…é…ç½®cpolar"></a>1ã€å®‰è£…é…ç½®cpolar</h2><ul>
<li>é€šè¿‡HomebrewåŒ…ç®¡ç†å™¨å®‰è£…cpolar</li>
</ul>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">brew tap probezy/core &amp;&amp; brew install cpolar</span><br></pre></td></tr></table></figure></div>

<ul>
<li>tokenè®¤è¯ï¼šåœ¨cpolarå®˜ç½‘åå°çš„éªŒè¯åˆå¤åˆ¶è‡ªå·±çš„token</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232255851.png"
                      alt="img"
                ></p>
<p>cpolar authtoken xxx</p>
<p>Â Â Â Â Â Â Â Â Â xxxå¤„ç”¨å¤åˆ¶çš„tokenä»£æ›¿</p>
<ul>
<li><p>å®‰è£…cpolaræœåŠ¡</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo cpolar service install</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="2ã€ä½¿ç”¨cpolar"><a href="#2ã€ä½¿ç”¨cpolar" class="headerlink" title="2ã€ä½¿ç”¨cpolar"></a>2ã€ä½¿ç”¨cpolar</h2><ul>
<li><p>å¯åŠ¨æœåŠ¡</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo cpolar service start</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>cpolar web UIç®¡ç†ç•Œé¢</p>
<p>Â è®¿é—®æœ¬åœ°9200ç«¯å£ã€<a class="link"   href="http://127.0.0.1:9200/%E3%80%91%EF%BC%8C%E4%BD%BF%E7%94%A8cpolar%E8%B4%A6%E5%8F%B7%E7%99%BB%E5%BD%95%E3%80%82" >http://127.0.0.1:9200/ã€‘ï¼Œä½¿ç”¨cpolarè´¦å·ç™»å½•ã€‚ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232257170.png"
                      alt="img"
                ></p>
<p>Â Â Â Â Â Â Â Â Â å¯åœ¨UIç•Œé¢ä¸­æŸ¥çœ‹è‡ªå·±çš„éš§é“ä¿¡æ¯ ä»¥åŠç¼–è¾‘ã€å¯åŠ¨ã€åœæ­¢å’Œåˆ é™¤ã€‚å…¶ä¸­çŠ¶æ€åˆ—è¡¨ä¸‹çš„çš„åœ¨çº¿éš§é“åˆ—è¡¨æ˜¾ç¤ºäº†ç›®å‰çš„å…¬ç½‘åœ°å€å’Œæœ¬åœ°åœ°å€æ˜ å°„å…³ç³»ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232257753.png"
                      alt="img"
                ></p>
<ul>
<li><p>Â å…¬ç½‘è¯·æ±‚æµ‹è¯•ã€‚</p>
<p> Â  Â  å¯å€ŸåŠ©APIFOXåœ¨çº¿æµ‹è¯•ã€‚å®˜ç½‘åœ°å€ï¼š<a class="link"   href="https://apifox.com/" >https://apifox.com <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232258155.png"
                      alt="img"
                ></p>
<p>Â æ ¹æ®è‡ªå·±æƒ…å†µå¡«å†™ã€‚ç¤ºä¾‹ä¸­çš„æ¥å£åœ°å€ä¸º&#x2F;model</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232258116.png"
                      alt="img"
                ></p>
<p>Â Â Â Â Â Â Â Â è¯·æ±‚æˆåŠŸğŸ‰Â </p>
<ul>
<li>Â åœæ­¢æœåŠ¡</li>
</ul>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo cpolar service stop</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>æ³¨æ„âš ï¸ï¼šåœæ­¢åå†å¯åŠ¨ï¼Œå…è´¹ç‰ˆçš„åŸŸåä¼šå‘ç”Ÿå˜åŒ–éœ€è¦é‡æ–°è®¾ç½®ï¼ŒåŠæ—¶æ›´æ–°ã€‚ </p>
</blockquote>
<p>Referenceï¼š<a class="link"   href="https://www.cpolar.com/blog/cpolar-quick-start-tutorial-macos-series" >https://www.cpolar.com/blog/cpolar-quick-start-tutorial-macos-series <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
  </entry>
  <entry>
    <title>å‰ç«¯è·¯ç”±hashå’Œhistory</title>
    <url>/Yuyang/hash_history/</url>
    <content><![CDATA[<p>å‰ç«¯è·¯ç”±hashå’Œhistory</p>
<h2 id="hashæ¨¡å¼"><a href="#hashæ¨¡å¼" class="headerlink" title="hashæ¨¡å¼"></a>hashæ¨¡å¼</h2><p>ä½¿ç”¨window.location.hashå±æ€§ä»¥åŠonhashchangeäº‹ä»¶ï¼Œå®ç°ç›‘å¬æµè§ˆå™¨åœ°å€çš„hashå€¼å˜åŒ–ï¼Œæ‰§è¡Œç›¸åº”çš„jsåˆ‡æ¢ç½‘é¡µ</p>
<table>
<thead>
<tr>
<th align="center">å±æ€§</th>
<th align="center">å«ä¹‰</th>
<th align="center">ä¾‹å­</th>
</tr>
</thead>
<tbody><tr>
<td align="center">location.href</td>
<td align="center">å®Œæ•´çš„URLå­—ç¬¦ä¸²</td>
<td align="center"><a class="link"   href="https://www.example.com:8080/pathname/?search=test#hash" >https://www.example.com:8080/pathname/?search=test#hash <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
</tr>
<tr>
<td align="center">location.protocol</td>
<td align="center">åè®®éƒ¨åˆ†</td>
<td align="center">https:</td>
</tr>
<tr>
<td align="center">location.hostname</td>
<td align="center">ä¸»æœºå</td>
<td align="center"><a class="link"   href="http://www.example.com/" >www.example.com <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
</tr>
<tr>
<td align="center">location.port</td>
<td align="center">ç«¯å£å·</td>
<td align="center">8080</td>
</tr>
<tr>
<td align="center">location.host</td>
<td align="center">ä¸»æœºåå’Œç«¯å£å·</td>
<td align="center"><a class="link"   href="http://www.example.com:8080/" >www.example.com:8080 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
</tr>
<tr>
<td align="center">location.pathname</td>
<td align="center">è·¯å¾„éƒ¨åˆ†</td>
<td align="center">&#x2F;post&#x2F;6993840419041706014</td>
</tr>
<tr>
<td align="center">location.search</td>
<td align="center">æŸ¥è¯¢å­—ç¬¦ä¸²éƒ¨åˆ†</td>
<td align="center">?search&#x3D;test</td>
</tr>
<tr>
<td align="center">location.hash</td>
<td align="center">å“ˆå¸Œå€¼</td>
<td align="center">#hash</td>
</tr>
</tbody></table>
<p>window.locationè¿˜æä¾›äº†ä¸€äº›æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th align="center">æ–¹æ³•</th>
<th align="center">å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center">location.assign(url)</td>
<td align="center">åŠ è½½æŒ‡å®šçš„URL</td>
</tr>
<tr>
<td align="center">location.replace(url)</td>
<td align="center">æ›¿æ¢å½“å‰çš„ URLï¼Œä½†ä¸ä¼šåœ¨å†å²è®°å½•ä¸­åˆ›å»ºæ–°çš„æ¡ç›®ã€‚å³ç”¨æˆ·æ— æ³•é€šè¿‡æµè§ˆå™¨çš„â€œåé€€â€æŒ‰é’®è¿”å›åˆ°ä¹‹å‰çš„é¡µé¢ã€‚</td>
</tr>
<tr>
<td align="center">location.reload(forceReload)</td>
<td align="center">é‡æ–°åŠ è½½å½“å‰é¡µé¢ã€‚forceReload å‚æ•°ä¸º true æ—¶ä¼šå¼ºåˆ¶ä»æœåŠ¡å™¨é‡æ–°åŠ è½½é¡µé¢ï¼ˆè€Œä¸æ˜¯ä»ç¼“å­˜ä¸­åŠ è½½ï¼‰ã€‚</td>
</tr>
<tr>
<td align="center">location.toString()</td>
<td align="center">è¿”å›å½“å‰ URL çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚</td>
</tr>
</tbody></table>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–å½“å‰ URL çš„å„ç§éƒ¨åˆ†</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>);      <span class="comment">// è¾“å‡ºå®Œæ•´çš„ URL</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">protocol</span>);  <span class="comment">// è¾“å‡ºåè®®éƒ¨åˆ†</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">host</span>);      <span class="comment">// è¾“å‡ºä¸»æœºå’Œç«¯å£å·</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">hostname</span>);  <span class="comment">// è¾“å‡ºä¸»æœºå</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">port</span>);      <span class="comment">// è¾“å‡ºç«¯å£å·</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span>);  <span class="comment">// è¾“å‡ºè·¯å¾„</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span>);    <span class="comment">// è¾“å‡ºæŸ¥è¯¢å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">hash</span>);      <span class="comment">// è¾“å‡ºå“ˆå¸Œ</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">origin</span>);    <span class="comment">// è¾“å‡ºæº URL</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ”¹å˜ URL å¹¶é‡æ–°åŠ è½½é¡µé¢</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = <span class="string">&#x27;https://www.example.com&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›¿æ¢å½“å‰ URLï¼Œä¸ä¼šåœ¨å†å²è®°å½•ä¸­åˆ›å»ºæ–°çš„æ¡ç›®</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">location</span>.<span class="title function_">replace</span>(<span class="string">&#x27;https://www.example.com&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡æ–°åŠ è½½é¡µé¢</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">location</span>.<span class="title function_">reload</span>();     <span class="comment">// ä»ç¼“å­˜ä¸­é‡æ–°åŠ è½½</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">location</span>.<span class="title function_">reload</span>(<span class="literal">true</span>); <span class="comment">// å¼ºåˆ¶ä»æœåŠ¡å™¨é‡æ–°åŠ è½½</span></span><br></pre></td></tr></table></figure></div>



<h2 id="historyæ¨¡å¼"><a href="#historyæ¨¡å¼" class="headerlink" title="historyæ¨¡å¼"></a>historyæ¨¡å¼</h2><p>History APIæ˜¯H5æä¾›çš„æ–°ç‰¹æ€§ï¼Œå…è®¸å¼€å‘è€…ç›´æ¥æ›´æ”¹å‰ç«¯è·¯ç”±ï¼Œå³æ›´æ–°æµè§ˆå™¨URLåœ°å€è€Œä¸é‡æ–°å‘èµ·è¯·æ±‚ã€‚å®ƒè¡¨ç¤ºå½“å‰çª—å£çš„æµè§ˆå†å²ã€‚å½“å‘ç”Ÿæ”¹å˜æ—¶ï¼Œåªä¼šæ”¹å˜é¡µé¢çš„è·¯å¾„ï¼Œä¸ä¼šåˆ·æ–°é¡µé¢ã€‚ History å¯¹è±¡ä¿å­˜äº†å½“å‰çª—å£è®¿é—®è¿‡çš„æ‰€æœ‰é¡µé¢ç½‘å€ã€‚é€šè¿‡ history.length å¯ä»¥å¾—å‡ºå½“å‰çª—å£ä¸€å…±è®¿é—®è¿‡å‡ ä¸ªç½‘å€ã€‚ ç”±äºå®‰å…¨åŸå› ï¼Œæµè§ˆå™¨ä¸å…è®¸è„šæœ¬è¯»å–è¿™äº›åœ°å€ï¼Œä½†æ˜¯å…è®¸åœ¨åœ°å€ä¹‹é—´å¯¼èˆªã€‚ æµè§ˆå™¨å·¥å…·æ çš„â€œå‰è¿›â€å’Œâ€œåé€€â€æŒ‰é’®ï¼Œå…¶å®å°±æ˜¯å¯¹ History å¯¹è±¡è¿›è¡Œæ“ä½œã€‚</p>
<table>
<thead>
<tr>
<th align="center">å±æ€§</th>
<th align="center">å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center">history.length</td>
<td align="center">å†å²è®°å½•ä¸­çš„æ¡ç›®æ•°</td>
</tr>
<tr>
<td align="center">history.state</td>
<td align="center">å†å²è®°å½•æ¡ç›®çš„çŠ¶æ€å¯¹è±¡</td>
</tr>
</tbody></table>
<p>window.history è¿˜æä¾›äº†ä¸€äº›æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th align="center">æ–¹æ³•</th>
<th align="center">å«ä¹‰</th>
<th>ä¾‹å­</th>
</tr>
</thead>
<tbody><tr>
<td align="center">history.pushState(state, title, url)</td>
<td align="center">å°†ä¸€ä¸ªçŠ¶æ€å¯¹è±¡æ·»åŠ åˆ°å†å²è®°å½•æ ˆä¸­</td>
<td>window.history.pushState({ page: 1 }, â€œtitle 1â€, â€œ&#x2F;page1â€);</td>
</tr>
<tr>
<td align="center">history.replaceState(state, title, url)</td>
<td align="center">ä¿®æ”¹å½“å‰å†å²è®°å½•æ¡ç›®çš„çŠ¶æ€å¯¹è±¡ã€æ ‡é¢˜å’Œ URL</td>
<td>window.history.replaceState({ page: 2 }, â€œtitle 2â€, â€œ&#x2F;page2â€);</td>
</tr>
<tr>
<td align="center">history.back()</td>
<td align="center">åŠ è½½å†å²è®°å½•åˆ—è¡¨ä¸­çš„å‰ä¸€ä¸ª URLï¼Œä¸ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨çš„åé€€æŒ‰é’®ç›¸åŒã€‚</td>
<td>window.history.back();</td>
</tr>
<tr>
<td align="center">history.forward()</td>
<td align="center">åŠ è½½å†å²è®°å½•åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ª URLï¼Œä¸ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨çš„å‰è¿›æŒ‰é’®ç›¸åŒã€‚</td>
<td>window.history.forward();</td>
</tr>
<tr>
<td align="center">history.go(delta)</td>
<td align="center">æ ¹æ® delta å€¼åŠ è½½å†å²è®°å½•ä¸­çš„ç‰¹å®šé¡µé¢ã€‚delta: ä¸ºæ­£å€¼æ—¶å‰è¿›ï¼Œä¸ºè´Ÿå€¼æ—¶åé€€ã€‚</td>
<td>window.history.go(-1); &#x2F;&#x2F; åé€€ä¸€é¡µ<br/>window.history.go(1);  &#x2F;&#x2F; å‰è¿›ä¸€é¡µ</td>
</tr>
</tbody></table>
<h2 id="historyä»£ç å®ç°"><a href="#historyä»£ç å®ç°" class="headerlink" title="historyä»£ç å®ç°"></a>historyä»£ç å®ç°</h2><div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CustomHistory</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">stack</span> = [];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">currentIndex</span> = -<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">pushState</span>(<span class="params">state, title, url</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">currentIndex</span> &lt; <span class="variable language_">this</span>.<span class="property">stack</span>.<span class="property">length</span> - <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">stack</span> = <span class="variable language_">this</span>.<span class="property">stack</span>.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">currentIndex</span> + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">stack</span>.<span class="title function_">push</span>(&#123; state, title, url &#125;);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">currentIndex</span>++;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">updateUrl</span>(url);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">replaceState</span>(<span class="params">state, title, url</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">currentIndex</span> &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">stack</span>[<span class="variable language_">this</span>.<span class="property">currentIndex</span>] = &#123; state, title, url &#125;;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">updateUrl</span>(url);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">pushState</span>(state, title, url);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">go</span>(<span class="params">index</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> newIndex = <span class="variable language_">this</span>.<span class="property">currentIndex</span> + index;</span><br><span class="line">    <span class="keyword">if</span> (newIndex &gt;= <span class="number">0</span> &amp;&amp; newIndex &lt; <span class="variable language_">this</span>.<span class="property">stack</span>.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">currentIndex</span> = newIndex;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">back</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">currentIndex</span> &gt; <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">currentIndex</span>--;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">applyState</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">forward</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">currentIndex</span> &lt; <span class="variable language_">this</span>.<span class="property">stack</span>.<span class="property">length</span> - <span class="number">1</span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">currentIndex</span>++;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">applyState</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">applyState</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> currentState = <span class="variable language_">this</span>.<span class="property">stack</span>[<span class="variable language_">this</span>.<span class="property">currentIndex</span>];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">updateUrl</span>(currentState.<span class="property">url</span>);</span><br><span class="line">    <span class="comment">// this.dispatchPopStaet(currentState);</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">updateUrl</span>(<span class="params">url</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ CustomHistory ~ updateUrl ~ url:&quot;</span>, url)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">dispatchPopStaet</span>(<span class="params">state</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> event = <span class="keyword">new</span> <span class="title class_">CustomEvent</span>(<span class="string">&#x27;popstate&#x27;</span>, &#123; <span class="attr">detail</span>: state &#125;);</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">dispatchEvent</span>(event);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage example:</span></span><br><span class="line"><span class="keyword">const</span> customHistory = <span class="keyword">new</span> <span class="title class_">CustomHistory</span>();</span><br><span class="line"></span><br><span class="line">customHistory.<span class="title function_">pushState</span>(&#123; <span class="attr">page</span>: <span class="number">1</span> &#125;, <span class="string">&quot;Title 1&quot;</span>, <span class="string">&quot;/page1&quot;</span>);</span><br><span class="line">customHistory.<span class="title function_">pushState</span>(&#123; <span class="attr">page</span>: <span class="number">2</span> &#125;, <span class="string">&quot;Title 2&quot;</span>, <span class="string">&quot;/page2&quot;</span>);</span><br><span class="line">customHistory.<span class="title function_">replaceState</span>(&#123; <span class="attr">page</span>: <span class="number">3</span> &#125;, <span class="string">&quot;Title 3&quot;</span>, <span class="string">&quot;/page3&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// window.addEventListener(&#x27;popstate&#x27;, (event) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//     console.log(&#x27;Popstate event:&#x27;, event.detail);</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line"></span><br><span class="line">customHistory.<span class="title function_">back</span>(); <span class="comment">// Navigating to: /page1</span></span><br><span class="line">customHistory.<span class="title function_">forward</span>(); <span class="comment">// Navigating to: /page3</span></span><br><span class="line">customHistory.<span class="title function_">go</span>(-<span class="number">1</span>); <span class="comment">// Navigating to: /page1</span></span><br></pre></td></tr></table></figure></div>

]]></content>
  </entry>
  <entry>
    <title>å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜</title>
    <url>/Yuyang/cache/</url>
    <content><![CDATA[<h2 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h2><p>ä¸ºäº†å‡å°‘èµ„æºè¯·æ±‚æ¬¡æ•°ï¼ŒåŠ å¿«èµ„æºè®¿é—®é€Ÿåº¦ï¼Œæµè§ˆå™¨ä¼šå¯¹èµ„æºæ–‡ä»¶å¦‚å›¾ç‰‡ã€cssæ–‡ä»¶ã€jsæ–‡ä»¶ç­‰è¿›è¡Œç¼“å­˜ï¼Œè€Œæµè§ˆå™¨ç¼“å­˜ç­–ç•¥åˆåˆ†ä¸ºå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ã€‚</p>
<h2 id="å¼ºç¼“å­˜"><a href="#å¼ºç¼“å­˜" class="headerlink" title="å¼ºç¼“å­˜"></a>å¼ºç¼“å­˜</h2><p>å¼ºç¼“å­˜æ˜¯æŒ‡æµè§ˆå™¨åœ¨ç¼“å­˜æœ‰æ•ˆæœŸå†…ç›´æ¥ä»æœ¬åœ°ç¼“å­˜ä¸­è¯»å–èµ„æºï¼Œè€Œä¸ä¸æœåŠ¡å™¨è¿›è¡Œä»»ä½•é€šä¿¡ã€‚å¼ºç¼“å­˜çš„å®ç°ä¾èµ–äº HTTP å“åº”å¤´ä¸­çš„ Expires æˆ– Cache-Controlã€‚</p>
<h3 id="Expires"><a href="#Expires" class="headerlink" title="Expires"></a>Expires</h3><p><a class="link"   href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expires" >https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expires <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>ä¸€ä¸ªç»å¯¹çš„è¿‡æœŸæ—¶é—´ï¼ˆGMT æ—¶é—´ï¼‰ï¼Œåœ¨æ­¤æ—¶é—´ä¹‹å‰ï¼Œæµè§ˆå™¨ä¼šè®¤ä¸ºç¼“å­˜æ˜¯æœ‰æ•ˆçš„ã€‚</p>
<div class="highlight-container" data-rel="Http"><figure class="iseeu highlight http"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Expires</span><span class="punctuation">: </span>Wed, 21 Oct 2024 07:28:00 GMT</span><br></pre></td></tr></table></figure></div>

<h3 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h3><p>max-ageä»£è¡¨ç¼“å­˜æ—¶é—´ï¼Œå•ä½ä¸ºç§’</p>
<div class="highlight-container" data-rel="Http"><figure class="iseeu highlight http"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>max-age=3600</span><br></pre></td></tr></table></figure></div>

<p><a class="link"   href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control" >https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121558393.webp"
                      alt="img"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121558374.webp"
                      alt="img"
                ></p>
<p>ä½¿ç”¨ç¼“å­˜çš„è¯ï¼ŒçŠ¶æ€ç 200åé¢ä¼šæ ‡æ˜æƒ…å†µã€‚æµè§ˆå™¨ç¼“å­˜èµ„æºçš„åœ°æ–¹æœ‰ä¸¤ä¸ªï¼šç£ç›˜ç¼“å­˜ï¼ˆdisk cacheï¼‰å’Œå†…å­˜ç¼“å­˜ï¼ˆmemory cacheï¼‰ã€‚</p>
<p>å½“ç¼“å­˜æ—¶é—´åˆ°æœŸåå†æ¬¡è®¿é—®æ—¶ï¼ŒçŠ¶æ€ç 200åé¢ä¾¿æ²¡æœ‰æ‹¬å·å†…çš„å†…å®¹äº†ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121558501.webp"
                      alt="img"
                ></p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œæµè§ˆå™¨ä¼šå°†è¾ƒå¤§çš„èµ„æºç¼“å­˜åˆ°disk cacheï¼Œè€Œè¾ƒå°çš„èµ„æºåˆ™è¢«ç¼“å­˜åˆ°memory cacheé‡Œã€‚å†…å­˜ç¼“å­˜ä¸ç£ç›˜ç¼“å­˜ç›¸æ¯”ï¼Œè®¿é—®é€Ÿåº¦è¦æ›´å¿«ä¸€äº›ï¼</p>
<p>Cache-Controlé™¤äº†max-ageå¤–ï¼Œè¿˜å¯ä»¥è®¾ç½®å…¶å®ƒå±æ€§å€¼ï¼š</p>
<ul>
<li>no-cache: ä¸ä½¿ç”¨å¼ºç¼“å­˜ï¼ˆä½†ä»ä¼šä½¿ç”¨åå•†ç¼“å­˜ï¼‰ã€‚</li>
<li>no-store: ä¸ä½¿ç”¨ç¼“å­˜ï¼ˆä¸ä½¿ç”¨å¼ºç¼“å­˜ä¹Ÿä¸ä½¿ç”¨åå•†ç¼“å­˜ï¼‰ï¼Œæ¯æ¬¡éƒ½å‘æœåŠ¡å™¨å‘é€èµ„æºè¯·æ±‚ã€‚</li>
<li>privateï¼š åªå…è®¸å®¢æˆ·ç«¯ä½¿ç”¨ç¼“å­˜ï¼Œä¸å…è®¸å…¶ä»–ä»£ç†æœåŠ¡å™¨è¿›è¡Œç¼“å­˜ã€‚</li>
<li>public: å®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨éƒ½å¯ç¼“å­˜ã€‚</li>
<li>s-maxage: ä¸max-ageç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯s-maxageæ˜¯è®¾å®šä»£ç†æœåŠ¡å™¨çš„ç¼“å­˜æ—¶é—´ã€‚</li>
</ul>
<p>å¦å¤–ï¼ŒCache-controlçš„ä¼˜å…ˆçº§è¦é«˜äºExpiresï¼Œå¦‚æœä¸¤è€…åŒæ—¶è®¾ç½®ï¼Œä¼šä¼˜å…ˆä½¿ç”¨Cache-controlè€Œå¿½ç•¥æ‰Expiresã€‚</p>
<h2 id="åå•†ç¼“å­˜"><a href="#åå•†ç¼“å­˜" class="headerlink" title="åå•†ç¼“å­˜"></a>åå•†ç¼“å­˜</h2><p><strong>åœ¨å¼ºç¼“å­˜é‡Œï¼Œæ˜¯å¦ä½¿ç”¨ç¼“å­˜æ˜¯ç”±æµè§ˆå™¨æ¥ç¡®å®šçš„ï¼Œè€Œåå•†ç¼“å­˜åˆ™æ˜¯ç”±æœåŠ¡å™¨æ¥å‘Šè¯‰æµè§ˆå™¨æ˜¯å¦ä½¿ç”¨ç¼“å­˜èµ„æºï¼Œä¹Ÿå°±æ˜¯æµè§ˆå™¨æ¯ä¸€æ¬¡éƒ½è¦å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨è¯¢é—®æ˜¯å¦ä½¿ç”¨ç¼“å­˜</strong>ï¼Œåå•†ç¼“å­˜çš„å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p>
<p>æµè§ˆå™¨åˆæ¬¡è¯·æ±‚èµ„æºï¼ŒæœåŠ¡å™¨è¿”å›èµ„æºï¼ŒåŒæ—¶ç”Ÿæˆä¸€ä¸ªEtagå€¼æºå¸¦åœ¨å“åº”å¤´é‡Œè¿”å›ç»™æµè§ˆå™¨ï¼Œå½“æµè§ˆå™¨å†æ¬¡è¯·æ±‚èµ„æºæ—¶ä¼šåœ¨è¯·æ±‚å¤´é‡Œæºå¸¦If-None-Matchï¼Œå€¼æ˜¯ä¹‹å‰æœåŠ¡å™¨è¿”å›çš„Etagçš„å€¼ï¼ŒæœåŠ¡å™¨æ”¶åˆ°ä¹‹åæ‹¿è¯¥å€¼ä¸èµ„æºæ–‡ä»¶æœ€æ–°çš„Etagå€¼åšå¯¹æ¯”ã€‚</p>
<ul>
<li>å¦‚æœæ²¡æœ‰å˜åŒ–åˆ™è¿”å›304ï¼Œå‘Šè¯‰æµè§ˆå™¨ç»§ç»­ä½¿ç”¨ç¼“å­˜ï¼ˆä¸è¿”å›èµ„æºæ–‡ä»¶ï¼‰ã€‚</li>
<li>å¦‚æœå‘ç”Ÿå˜åŒ–ï¼Œåˆ™è¿”å›200å’Œæœ€æ–°çš„èµ„æºæ–‡ä»¶ç»™æµè§ˆå™¨ä½¿ç”¨ã€‚</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121603356.webp"
                      alt="img"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121603175.webp"
                      alt="img"
                ></p>
<p>é™¤äº†Etagå¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªLast-Modifiedçš„å±æ€§ï¼Œå®ƒæ˜¯Http1.0è§„èŒƒçš„ï¼ŒæœåŠ¡å™¨è¿”å›Last-Modifiedï¼Œæµè§ˆå™¨è¯·æ±‚å¤´å¯¹åº”æºå¸¦çš„æ˜¯If-Modified-sinceï¼Œä¸Etagä¸åŒçš„æ˜¯ï¼ŒLast-Modifiedçš„å€¼æ˜¯ä¸€ä¸ªæ—¶é—´å€¼ï¼Œä»£è¡¨æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ï¼ŒæœåŠ¡å™¨é€šè¿‡å¯¹æ¯”æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´æ˜¯å¦å‘ç”Ÿæ”¹å˜æ¥åˆ¤æ–­æ˜¯å¦ä½¿ç”¨ç¼“å­˜ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121603459.webp"
                      alt="img"
                ></p>
<p>ç›¸æ¯”Last-Modifiedï¼ŒEtagä¼˜å…ˆçº§æ›´é«˜ï¼Œä½¿ç”¨ä¸Šä¹Ÿæ›´ç²¾ç¡®ä¸€äº›ï¼Œå› ä¸ºæœ‰æ—¶å€™ä¼šå­˜åœ¨æ–‡ä»¶å†…å®¹å¹¶æ²¡æœ‰æ”¹å˜ï¼Œä½†æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´å˜æ›´äº†ï¼ŒLast-Modifiedä¸ä¸€è‡´æ‰€ä»¥æœåŠ¡å™¨ä¼šé‡æ–°è¿”å›èµ„æºæ–‡ä»¶ï¼Œå®é™…ä¸Šè¿˜æ˜¯å¯ä»¥ç»§ç»­ä½¿ç”¨ç¼“å­˜çš„ã€‚</p>
<p>å¼ºç¼“å­˜ä¼˜å…ˆçº§å¤§äºåå•†ç¼“å­˜ï¼Œå³ä¸¤è€…åŒæ—¶å­˜åœ¨æ—¶ï¼Œå¦‚æœå¼ºç¼“å­˜å¼€å¯ä¸”åœ¨æœ‰æ•ˆæœŸå†…ï¼Œåˆ™ä¸ä¼šèµ°åå•†ç¼“å­˜ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å¼ºç¼“å­˜å°±æ˜¯æµè§ˆå™¨æœ¬åœ°æ ¹æ®æœåŠ¡å™¨è®¾ç½®çš„è¿‡æœŸæ—¶é—´æ¥åˆ¤æ–­æ˜¯å¦ä½¿ç”¨ç¼“å­˜ï¼Œæœªè¿‡æœŸåˆ™ä»æœ¬åœ°ç¼“å­˜é‡Œæ‹¿èµ„æºï¼Œå·²è¿‡æœŸåˆ™é‡æ–°è¯·æ±‚æœåŠ¡å™¨è·å–æœ€æ–°èµ„æºã€‚</p>
<p>åå•†ç¼“å­˜åˆ™æ˜¯æµè§ˆå™¨æœ¬åœ°æ¯æ¬¡éƒ½å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç”±æœåŠ¡å™¨æ¥å‘Šè¯‰æµè§ˆå™¨æ˜¯ä»ç¼“å­˜é‡Œæ‹¿èµ„æºè¿˜æ˜¯è¿”å›æœ€æ–°èµ„æºç»™æµè§ˆå™¨ä½¿ç”¨ã€‚</p>
<p>Reference: <a class="link"   href="https://juejin.cn/post/7259298281578889273?searchId=20240712153934B2B3A1160462EB235132" >https://juejin.cn/post/7259298281578889273?searchId=20240712153934B2B3A1160462EB235132 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
  </entry>
  <entry>
    <title>åŸå‹å’ŒåŸå‹é“¾</title>
    <url>/Yuyang/prototype/</url>
    <content><![CDATA[<h2 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h2><p>ä»€ä¹ˆæ˜¯åŸå‹ï¼Ÿä»€ä¹ˆæ˜¯æ„é€ å‡½æ•°ã€å®ä¾‹åŸå‹ã€å®ä¾‹ï¼Ÿå®ƒä»¬çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<h3 id="åŸå‹ï¼ˆPrototypeï¼‰"><a href="#åŸå‹ï¼ˆPrototypeï¼‰" class="headerlink" title="åŸå‹ï¼ˆPrototypeï¼‰"></a>åŸå‹ï¼ˆPrototypeï¼‰</h3><p>æ¯ä¸ª JavaScript å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…éƒ¨é“¾æ¥åˆ°å¦ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œè¿™ä¸ªå¯¹è±¡è¢«ç§°ä¸ºåŸå‹ã€‚å½“è¯•å›¾è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼ŒJavaScript ä¼šé¦–å…ˆåœ¨è¿™ä¸ªå¯¹è±¡è‡ªèº«ä¸Šå¯»æ‰¾è¯¥å±æ€§ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™ä¼šæŸ¥æ‰¾è¯¥å¯¹è±¡çš„åŸå‹ï¼Œå¦‚æ­¤é€’å½’ä¸‹å»ï¼Œç›´åˆ°æ‰¾åˆ°è¯¥å±æ€§æˆ–è¾¾åˆ°åŸå‹é“¾çš„æœ«ç«¯ã€‚</p>
<h3 id="æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰"><a href="#æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰" class="headerlink" title="æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰"></a>æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰</h3><p>æ„é€ å‡½æ•°æ˜¯ç”¨äºåˆ›å»ºå¯¹è±¡çš„å‡½æ•°ã€‚é€šè¿‡ new æ“ä½œç¬¦è°ƒç”¨æ„é€ å‡½æ•°æ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¹¶å°†è¿™ä¸ªæ–°å¯¹è±¡çš„å†…éƒ¨ [[Prototype]] è¿æ¥åˆ°æ„é€ å‡½æ•°çš„ prototype å±æ€§ã€‚</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;Yuyang&#x27;</span>);</span><br></pre></td></tr></table></figure></div>

<p>Personæ˜¯æ„é€ å‡½æ•°ï¼Œpersonæ˜¯åˆ›å»ºçš„å¯¹è±¡</p>
<h3 id="å®ä¾‹åŸå‹ï¼ˆInstance-Prototypeï¼‰"><a href="#å®ä¾‹åŸå‹ï¼ˆInstance-Prototypeï¼‰" class="headerlink" title="å®ä¾‹åŸå‹ï¼ˆInstance Prototypeï¼‰"></a>å®ä¾‹åŸå‹ï¼ˆInstance Prototypeï¼‰</h3><p>å®ä¾‹åŸå‹æ˜¯ç”±æ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§å¼•ç”¨çš„å¯¹è±¡ã€‚æ‰€æœ‰ç”±è¯¥æ„é€ å‡½æ•°åˆ›å»ºçš„å®ä¾‹å¯¹è±¡éƒ½å°†å…±äº«è¿™ä¸ªå®ä¾‹åŸå‹å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">callName</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;zyz&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Yuyang&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> person2 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;YuyangA&quot;</span>);</span><br><span class="line">person1.<span class="property">callName</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">&#125;</span><br><span class="line">person1.<span class="title function_">callName</span>();</span><br><span class="line">person2.<span class="title function_">callName</span>();</span><br></pre></td></tr></table></figure></div>

<h3 id="å®ä¾‹ï¼ˆInstanceï¼‰"><a href="#å®ä¾‹ï¼ˆInstanceï¼‰" class="headerlink" title="å®ä¾‹ï¼ˆInstanceï¼‰"></a>å®ä¾‹ï¼ˆInstanceï¼‰</h3><p>å®ä¾‹æ˜¯é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºçš„å…·ä½“å¯¹è±¡ã€‚æ¯ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ªå†…éƒ¨é“¾æ¥åˆ°å®ƒçš„æ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§çš„å¼•ç”¨ï¼Œè¿™ä¸ªé“¾æ¥å¯ä»¥é€šè¿‡ <code>__proto__</code>ï¼ˆéæ ‡å‡†ï¼‰æˆ– <code>Object.getPrototypeOf</code> æ–¹æ³•æ¥è®¿é—®ã€‚</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> person3 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;Charlie&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person3.<span class="property">__proto__</span> === <span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>); <span class="comment">// è¾“å‡ºï¼štrue</span></span><br></pre></td></tr></table></figure></div>

<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121647943.png"
                      alt="image.png"
                ></p>
<h2 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121648478.png"
                      alt="image.png"
                ></p>
<h2 id="è¯æ³•ä½œç”¨åŸŸ"><a href="#è¯æ³•ä½œç”¨åŸŸ" class="headerlink" title="è¯æ³•ä½œç”¨åŸŸ"></a>è¯æ³•ä½œç”¨åŸŸ</h2><p><strong>JavaScript é‡‡ç”¨è¯æ³•ä½œç”¨åŸŸ(lexical scoping)ï¼Œä¹Ÿå°±æ˜¯é™æ€ä½œç”¨åŸŸã€‚</strong></p>
<h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><p>JavaScriptä¸­çš„thisæ€»æ˜¯æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œå…·ä½“æŒ‡å‘å“ªä¸ªå¯¹è±¡æ˜¯åœ¨è¿è¡Œæ—¶åŸºäºå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒåŠ¨æ€ç»‘å®šçš„ï¼Œè€Œéå‡½æ•°è¢«å£°æ˜æ—¶çš„ç¯å¢ƒã€‚</p>
<h3 id="thisçš„æŒ‡å‘"><a href="#thisçš„æŒ‡å‘" class="headerlink" title="thisçš„æŒ‡å‘"></a>thisçš„æŒ‡å‘</h3><ul>
<li>ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨</li>
<li>ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨</li>
<li>æ„é€ å™¨è°ƒç”¨</li>
<li>Function.prototype.call æˆ– Function.prototype.apply è°ƒç”¨</li>
</ul>
<h4 id="ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼š"><a href="#ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼š" class="headerlink" title="ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼š"></a>ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼š</h4><p>å‡½æ•°ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼ŒthisæŒ‡å‘è¯¥å¯¹è±¡ï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">getA</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="variable language_">this</span> === obj);</span><br><span class="line">        <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="title function_">getA</span>();</span><br></pre></td></tr></table></figure></div>

<h4 id="ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ï¼š"><a href="#ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ï¼š" class="headerlink" title="ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ï¼š"></a>ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ï¼š</h4><p>å½“å‡½æ•°ä¸ä½œä¸ºå¯¹è±¡çš„å±æ€§è¢«è°ƒç”¨æ—¶ï¼Œæ­¤æ—¶çš„thisæ€»æ˜¯æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚åœ¨æµè§ˆå™¨çš„javascripté‡Œï¼Œè¿™ä¸ªå…¨å±€å¯¹è±¡æ˜¯windowå¯¹è±¡ã€‚</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">name</span> = <span class="string">&quot;globalName&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> getName = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getName</span>()); <span class="comment">//è¾“å‡º: globalName</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">name</span> = <span class="string">&quot;globalName&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">	<span class="attr">name</span>: <span class="string">&quot;sven&quot;</span>,</span><br><span class="line">	<span class="attr">getName</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> getName = myObject.<span class="property">getName</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getName</span>()); <span class="comment">// globalName</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>



<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">id</span> = <span class="string">&quot;window&quot;</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, <span class="variable language_">this</span>.<span class="property">id</span>, <span class="variable language_">this</span>)Â </span><br><span class="line">  <span class="keyword">var</span> callback = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, <span class="variable language_">this</span>.<span class="property">id</span>, <span class="variable language_">this</span>)</span><br><span class="line">  &#125;Â  Â  Â  Â  </span><br><span class="line">  <span class="title function_">callback</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// callbackä¸­çš„thisæŒ‡å‘window</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, <span class="variable language_">this</span>.<span class="property">id</span>, <span class="variable language_">this</span>);</span><br><span class="line">  <span class="keyword">var</span> <span class="title function_">callback</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, <span class="variable language_">this</span>.<span class="property">id</span>, <span class="variable language_">this</span>);</span><br><span class="line">  &#125;;Â  Â  Â  Â  </span><br><span class="line">  <span class="title function_">callback</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°æ²¡æœ‰this æ•è·å…¶ä¸Šä¸‹æ–‡çš„thiså€¼</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, <span class="variable language_">this</span>.<span class="property">id</span>, <span class="variable language_">this</span>);</span><br><span class="line">  <span class="keyword">var</span> callback = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, <span class="variable language_">this</span>.<span class="property">id</span>, <span class="variable language_">this</span>);</span><br><span class="line">  &#125;.<span class="title function_">bind</span>(<span class="variable language_">this</span>);Â  Â  Â  Â  </span><br><span class="line">  <span class="title function_">callback</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ bind æ˜¾å¼åœ°å°† this ç»‘å®šåˆ° div1</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, <span class="variable language_">this</span>.<span class="property">id</span>, <span class="variable language_">this</span>);</span><br><span class="line">  <span class="keyword">var</span> self = <span class="variable language_">this</span>;</span><br><span class="line">  <span class="keyword">var</span> callback = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, self.<span class="property">id</span>, self);</span><br><span class="line">  &#125;;Â  Â  Â  Â  </span><br><span class="line">  <span class="title function_">callback</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æš‚å­˜this</span></span><br></pre></td></tr></table></figure></div>

<h4 id="æ„é€ å™¨è°ƒç”¨ï¼š"><a href="#æ„é€ å™¨è°ƒç”¨ï¼š" class="headerlink" title="æ„é€ å™¨è°ƒç”¨ï¼š"></a>æ„é€ å™¨è°ƒç”¨ï¼š</h4><p>ç”¨newè°ƒç”¨å‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæ„é€ å™¨çš„thiså°±ä¼šæŒ‡å‘è¿”å›çš„è¿™ä¸ªå¯¹è±¡ï¼Œ</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">MyClass</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&quot;seven&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">MyClass</span>();</span><br><span class="line"><span class="title function_">alert</span>(obj.<span class="property">name</span>);</span><br></pre></td></tr></table></figure></div>

<p>å½“æ„é€ å™¨æ˜¾å¼çš„è¿”å›ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œé‚£ä¹ˆæ­¤æ¬¡è¿ç®—ç»“æœæœ€ç»ˆä¼šè¿”å›è¿™ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬ä¹‹å‰æœŸå¾…çš„this</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">MyClass</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&quot;sven&quot;</span>;</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		<span class="attr">name</span>: <span class="string">&quot;anne&quot;</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">MyClass</span>();</span><br><span class="line"><span class="title function_">alert</span>(obj.<span class="property">name</span>); <span class="comment">//anne</span></span><br></pre></td></tr></table></figure></div>

<h4 id="Function-prototype-call-æˆ–-Function-prototype-apply-è°ƒç”¨"><a href="#Function-prototype-call-æˆ–-Function-prototype-apply-è°ƒç”¨" class="headerlink" title="Function.prototype.call æˆ– Function.prototype.apply è°ƒç”¨:"></a>Function.prototype.call æˆ– Function.prototype.apply è°ƒç”¨:</h4><div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;seven&#x27;</span>,</span><br><span class="line">  <span class="attr">getName</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;anne&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="title function_">getName</span>()) <span class="comment">// seven</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">getName</span>.<span class="title function_">call</span>(obj2)) <span class="comment">// anne</span></span><br></pre></td></tr></table></figure></div>

<p><code>call</code> æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶æ˜¾å¼åœ°æŒ‡å®š <code>this</code> å€¼å’Œä¼ é€’çš„å‚æ•°ã€‚</p>
<p>callæºç å®ç°ï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myCall</span> = <span class="keyword">function</span>(<span class="params">context, ...args</span>) &#123;</span><br><span class="line">  <span class="comment">// å¦‚æœæ²¡æœ‰æä¾› contextï¼Œé»˜è®¤è®¾ç½®ä¸ºå…¨å±€å¯¹è±¡ï¼ˆåœ¨æµè§ˆå™¨ä¸­æ˜¯ windowï¼‰</span></span><br><span class="line">  context = context || globalThis;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ä¸º context åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„ä¸´æ—¶å±æ€§æ¥å­˜å‚¨å‡½æ•°</span></span><br><span class="line">  <span class="keyword">const</span> fnSymbol = <span class="title class_">Symbol</span>();</span><br><span class="line">  context[fnSymbol] = <span class="variable language_">this</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ä½¿ç”¨ context è°ƒç”¨å‡½æ•°ï¼Œå¹¶ä¼ é€’å‚æ•°</span></span><br><span class="line">  <span class="keyword">const</span> result = context[fnSymbol](...args);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// åˆ é™¤ä¸´æ—¶å±æ€§</span></span><br><span class="line">  <span class="keyword">delete</span> context[fnSymbol];</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ä½¿ç”¨ myCall</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params">greeting, punctuation</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(greeting + <span class="string">&#x27;, &#x27;</span> + <span class="variable language_">this</span>.<span class="property">name</span> + punctuation);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person = &#123; <span class="attr">name</span>: <span class="string">&#x27;Alice&#x27;</span> &#125;;</span><br><span class="line">greet.<span class="title function_">myCall</span>(person, <span class="string">&#x27;Hello&#x27;</span>, <span class="string">&#x27;!&#x27;</span>);  <span class="comment">// è¾“å‡º: &quot;Hello, Alice!&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<p> <strong>call() æ–¹æ³•æ¥å—çš„æ˜¯å‚æ•°åˆ—è¡¨ï¼Œè€Œ apply() æ–¹æ³•æ¥å—çš„æ˜¯ä¸€ä¸ªå‚æ•°æ•°ç»„</strong>ã€‚</p>
<p>callï¼š</p>
<blockquote>
<p><em>function</em>.call(<em>thisArg</em>, <em>arg1</em>, <em>arg2</em>, â€¦)</p>
</blockquote>
<p>applyï¼š</p>
<blockquote>
<p><em>func</em>.apply(<em>thisArg, [argsArray</em>])</p>
</blockquote>
<p><code>bind</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨è°ƒç”¨æ—¶ï¼Œå…¶ <code>this</code> å€¼å’Œä¼ é€’çš„å‚æ•°è¢«é¢„å…ˆè®¾ç½®ã€‚ä¸ <code>call</code> æ–¹æ³•ä¸åŒï¼Œ<code>bind</code> ä¸ä¼šç«‹å³è°ƒç”¨å‡½æ•°ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">  <span class="attr">value</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">bind2</span> = <span class="keyword">function</span>(<span class="params">context</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> _this = <span class="variable language_">this</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    _this.<span class="title function_">apply</span>(context);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bindFoo2 = bar.<span class="title function_">bind2</span>(foo);</span><br></pre></td></tr></table></figure></div>

<h3 id="ä¸¢å¤±çš„this"><a href="#ä¸¢å¤±çš„this" class="headerlink" title="ä¸¢å¤±çš„this"></a>ä¸¢å¤±çš„this</h3>]]></content>
  </entry>
  <entry>
    <title>node_moduleså›°å¢ƒä»¥åŠpnpm</title>
    <url>/Yuyang/pnpm/</url>
    <content><![CDATA[<p>node_modulesçš„è®¾è®¡è™½ç„¶èƒ½æ»¡è¶³å¤§éƒ¨åˆ†çš„åœºæ™¯ï¼Œä½†æ˜¯å…¶ä»ç„¶å­˜åœ¨ç€ç§ç§ç¼ºé™·ç”±äºæ¯ä¸ªé¡¹ç›®å¯èƒ½ä¾èµ–æˆç™¾ä¸Šåƒä¸ªå°æ¨¡å—ï¼Œnode_modules ç›®å½•çš„ä½“ç§¯å¾€å¾€éå¸¸åºå¤§ï¼ŒåŠ¨è¾„å‡ ç™¾MBç”šè‡³è¶…è¿‡1GBã€‚è¿™ä¸ä»…å¢åŠ äº†å­˜å‚¨è´Ÿæ‹…ï¼Œä¹Ÿå½±å“äº†é¡¹ç›®çš„å…‹éš†ã€å¤‡ä»½å’Œéƒ¨ç½²é€Ÿåº¦ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232217640.png"
                      alt="image.png"
                ></p>
<p>pnpm çš„æœºåˆ¶å¯¹äº yarn å’Œ npm æ¥è¯´æ˜¯é™ç»´æ‰“å‡»ã€‚</p>
<p>åŒ…ç®¡ç†å·¥å…·å‘å±•å²ï¼Œnpm2 å¼€å§‹</p>
<h2 id="npm2"><a href="#npm2" class="headerlink" title="npm2"></a>npm2</h2><p>ç”¨ node ç‰ˆæœ¬ç®¡ç†å·¥å…·æŠŠ node ç‰ˆæœ¬é™åˆ° 4ï¼Œé‚£ npm ç‰ˆæœ¬å°±æ˜¯ 2.x äº†ã€‚</p>
<p>ç„¶åæ‰¾ä¸ªç›®å½•ï¼Œæ‰§è¡Œä¸‹ npm init -yï¼Œå¿«é€Ÿåˆ›å»ºä¸ª package.jsonã€‚ç„¶åæ‰§è¡Œ npm install expressï¼Œé‚£ä¹ˆ express åŒ…å’Œå®ƒçš„ä¾èµ–éƒ½ä¼šè¢«ä¸‹è½½ä¸‹æ¥ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232247533.webp"
                      alt="img"
                ></p>
<p>å±•å¼€ expressï¼Œå®ƒä¹Ÿæœ‰ node_modulesï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232247605.webp"
                      alt="img"
                ></p>
<p>å†å±•å¼€å‡ å±‚ï¼Œæ¯ä¸ªä¾èµ–éƒ½æœ‰è‡ªå·±çš„ node_modulesï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232247887.webp"
                      alt="img"
                ></p>
<p>ä¹Ÿå°±æ˜¯è¯´ npm2 çš„ node_modules æ˜¯åµŒå¥—çš„ã€‚</p>
<p><strong>å­˜åœ¨çš„ç¼ºé™·ï¼š</strong></p>
<ul>
<li>åµŒå¥—æ·±åº¦é—®é¢˜ï¼šæ·±å±‚åµŒå¥—ç»“æ„å®¹æ˜“å¯¼è‡´è·¯å¾„è¿‡é•¿ï¼Œç‰¹åˆ«æ˜¯åœ¨ Windows ç³»ç»Ÿä¸­ï¼Œè¿™å¯èƒ½å¯¼è‡´ç³»ç»Ÿè·¯å¾„é•¿åº¦é™åˆ¶é—®é¢˜ã€‚ windows çš„æ–‡ä»¶è·¯å¾„æœ€é•¿æ˜¯ 260 å¤šä¸ªå­—ç¬¦ï¼Œè¿™æ ·åµŒå¥—æ˜¯ä¼šè¶…è¿‡ windows è·¯å¾„çš„é•¿åº¦é™åˆ¶çš„ã€‚</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232247173.png"
                      alt="img"
                ></p>
<ul>
<li>é‡å¤çš„åŒ…ï¼šå¤šå±‚åµŒå¥—æ„å‘³ç€å¤§é‡é‡å¤çš„åŒ…å®ä¾‹ï¼Œè¿™æ— ç–‘å¢åŠ äº†ç£ç›˜ç©ºé—´çš„ä½¿ç”¨ä¸”å½±å“å®‰è£…é€Ÿåº¦ã€‚å¤šä¸ªåŒ…ä¹‹é—´éš¾å…ä¼šæœ‰å…¬å…±çš„ä¾èµ–ï¼Œè¿™æ ·åµŒå¥—çš„è¯ï¼ŒåŒæ ·çš„ä¾èµ–ä¼šå¤åˆ¶å¾ˆå¤šæ¬¡ï¼Œä¼šå æ®æ¯”è¾ƒå¤§çš„ç£ç›˜ç©ºé—´ã€‚</li>
</ul>
<h2 id="YARN-NPM-3"><a href="#YARN-NPM-3" class="headerlink" title="YARN &amp; NPM@3"></a>YARN &amp; NPM@3</h2><p>yarn æ˜¯æ€ä¹ˆè§£å†³ä¾èµ–é‡å¤å¾ˆå¤šæ¬¡ï¼ŒåµŒå¥—è·¯å¾„è¿‡é•¿çš„é—®é¢˜çš„å‘¢ï¼Ÿ</p>
<p><strong>å¤„ç†æ–¹å¼ï¼š</strong></p>
<ul>
<li>æ‰å¹³åŒ–ç»“æ„ï¼šå¤§éƒ¨åˆ†ä¾èµ–è¢«å®‰è£…åœ¨é¡¶å±‚ node_modules ç›®å½•ï¼Œå‡å°‘äº†é‡å¤å®‰è£…ç›¸åŒåŒ…çš„æƒ…å†µã€‚</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232247543.png"
                      alt="img"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232247991.png"
                      alt="img"
                ></p>
<ul>
<li>ç‰ˆæœ¬å†²çªå¤„ç†ï¼šå½“ä¸¤ä¸ªåŒ…éœ€è¦ä¸åŒç‰ˆæœ¬çš„åŒä¸€ä¸ªä¾èµ–æ—¶ï¼Œæ— æ³•è¢«æå‡è‡³é¡¶å±‚çš„ä¾èµ–ä¼šè¢«å®‰è£…åœ¨éœ€è¦å®ƒä»¬çš„åŒ…çš„ node_modules ç›®å½•ä¸‹ã€‚</li>
</ul>
<p><strong>å­˜åœ¨çš„ç¼ºé™·ï¼š</strong></p>
<ul>
<li>ä¾èµ–ç»“æ„çš„ä¸ç¡®å®šæ€§å¯¼è‡´æ‰å¹³åŒ–ç»“æœçš„ä¸ç¡®å®šè§£å†³æ–¹æ³•.lock æ–‡ä»¶</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232247361.png"
                      alt="img"
                ></p>
<ul>
<li>å¹½çµä¾èµ–ï¼šæœ€ä¸»è¦çš„ä¸€ä¸ªé—®é¢˜æ˜¯å¹½çµä¾èµ–ï¼Œä¹Ÿå°±æ˜¯ä½ æ˜æ˜æ²¡æœ‰å£°æ˜åœ¨ dependencies é‡Œçš„ä¾èµ–ï¼Œä½†åœ¨ä»£ç é‡Œå´å¯ä»¥ require è¿›æ¥ã€‚è¿™ä¸ªä¹Ÿå¾ˆå®¹æ˜“ç†è§£ï¼Œå› ä¸ºéƒ½é“ºå¹³äº†å˜›ï¼Œé‚£ä¾èµ–çš„ä¾èµ–ä¹Ÿæ˜¯å¯ä»¥æ‰¾åˆ°çš„ã€‚ä½†æ˜¯è¿™æ ·æ˜¯æœ‰éšæ‚£çš„ï¼Œå› ä¸ºæ²¡æœ‰æ˜¾å¼ä¾èµ–ï¼Œä¸‡ä¸€æœ‰ä¸€å¤©åˆ«çš„åŒ…ä¸ä¾èµ–è¿™ä¸ªåŒ…äº†ï¼Œé‚£ä½ çš„ä»£ç ä¹Ÿå°±ä¸èƒ½è·‘äº†ï¼Œå› ä¸ºä½ ä¾èµ–è¿™ä¸ªåŒ…ï¼Œä½†æ˜¯ç°åœ¨ä¸ä¼šè¢«å®‰è£…äº†ã€‚è¿™å°±æ˜¯å¹½çµä¾èµ–çš„é—®é¢˜ã€‚</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232248078.png"
                      alt="img"
                ><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232248136.png"
                      alt="img"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232248329.png"
                      alt="img"
                ></p>
<ul>
<li>åŒ…é‡å¤å®‰è£…é—®é¢˜ã€‚æå‡æœºåˆ¶ä»ç„¶å¯èƒ½å¯¼è‡´å¤§é‡çš„ä¾èµ–è¢«é‡å¤å®‰è£…ã€‚</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232248172.png"
                      alt="img"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232248183.png"
                      alt="img"
                ></p>
<p>æ‰å¹³åŒ–å¤„ç†ï¼š</p>
<p>æˆ‘ä»¬æŠŠ node_modules åˆ äº†ï¼Œç”¨ yarn å†é‡æ–°å®‰è£…ä¸‹ï¼Œæ‰§è¡Œ yarn add expressï¼š</p>
<p>è¿™æ—¶å€™ node_modules å°±æ˜¯è¿™æ ·äº†ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249070.webp"
                      alt="img"
                ></p>
<p>å…¨éƒ¨é“ºå¹³åœ¨äº†ä¸€å±‚ï¼Œå±•å¼€ä¸‹é¢çš„åŒ…å¤§éƒ¨åˆ†æ˜¯æ²¡æœ‰äºŒå±‚ node_modules çš„ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249644.webp"
                      alt="img"
                ></p>
<p>å½“ç„¶ä¹Ÿæœ‰çš„åŒ…è¿˜æ˜¯æœ‰ node_modules çš„ï¼Œæ¯”å¦‚è¿™æ ·ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249531.webp"
                      alt="img"
                ></p>
<p>ä¸ºä»€ä¹ˆè¿˜æœ‰åµŒå¥—å‘¢ï¼Ÿ</p>
<p>å› ä¸ºä¸€ä¸ªåŒ…æ˜¯å¯èƒ½æœ‰å¤šä¸ªç‰ˆæœ¬çš„ï¼Œæå‡åªèƒ½æå‡ä¸€ä¸ªï¼Œæ‰€ä»¥åé¢å†é‡åˆ°ç›¸åŒåŒ…çš„ä¸åŒç‰ˆæœ¬ï¼Œä¾ç„¶è¿˜æ˜¯ç”¨åµŒå¥—çš„æ–¹å¼ã€‚</p>
<p>npm åæ¥å‡çº§åˆ° 3 ä¹‹åï¼Œä¹Ÿæ˜¯é‡‡ç”¨è¿™ç§é“ºå¹³çš„æ–¹æ¡ˆäº†ï¼Œå’Œ yarn å¾ˆç±»ä¼¼ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249282.webp"
                      alt="img"
                ></p>
<p>å½“ç„¶ï¼Œyarn è¿˜å®ç°äº† yarn.lock æ¥é”å®šä¾èµ–ç‰ˆæœ¬çš„åŠŸèƒ½ï¼Œä¸è¿‡è¿™ä¸ª npm ä¹Ÿå®ç°äº†ã€‚</p>
<p>æ‰å¹³åŒ–çš„æ–¹æ¡ˆä¹Ÿæœ‰ç›¸åº”çš„é—®é¢˜ã€‚è€Œä¸”è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä¸Šé¢æåˆ°çš„ä¾èµ–åŒ…æœ‰å¤šä¸ªç‰ˆæœ¬çš„æ—¶å€™ï¼Œåªä¼šæå‡ä¸€ä¸ªï¼Œé‚£å…¶ä½™ç‰ˆæœ¬çš„åŒ…ä¸è¿˜æ˜¯å¤åˆ¶äº†å¾ˆå¤šæ¬¡ä¹ˆï¼Œä¾ç„¶æœ‰æµªè´¹ç£ç›˜ç©ºé—´çš„é—®é¢˜ã€‚</p>
<p>é‚£ pnpm æ˜¯æ€ä¹ˆè§£å†³è¿™ä¿©é—®é¢˜çš„å‘¢ï¼Ÿ</p>
<h2 id="pnpm"><a href="#pnpm" class="headerlink" title="pnpm"></a>pnpm</h2><p><strong>pnpmï¼š</strong>æ˜¯ä¸€ä¸ªæ›´æ–°çš„åŒ…ç®¡ç†å·¥å…·ï¼Œæ—¨åœ¨æä¾›æ¯” npm å’Œ Yarn æ›´å¥½çš„ç£ç›˜ç©ºé—´æ•ˆç‡å’Œæ›´å¿«çš„å®‰è£…é€Ÿåº¦ã€‚</p>
<p>pnpm é€šè¿‡ä½¿ç”¨è½¯ç¡¬é“¾æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>è½¯é“¾æ¥ï¼šè½¯é“¾æ¥æ˜¯ä¸€ä¸ªæŒ‡å‘æ–‡ä»¶è·¯å¾„çš„å¼•ç”¨ã€‚</p>
<p>ç¡¬é“¾æ¥ï¼šç¡¬é“¾æ¥æ˜¯ä¸€ä¸ªæŒ‡å‘æ–‡ä»¶æ•°æ®çš„ç›´æ¥å¼•ç”¨ã€‚</p>
<p>è¿™æ ·ä¸ä¼šæœ‰å¤åˆ¶å¤šæ¬¡çš„ç£ç›˜ç©ºé—´æµªè´¹ï¼Œè€Œä¸”ä¹Ÿä¸ä¼šæœ‰è·¯å¾„è¿‡é•¿çš„é—®é¢˜ã€‚å› ä¸ºè·¯å¾„è¿‡é•¿çš„é™åˆ¶æœ¬è´¨ä¸Šæ˜¯ä¸èƒ½æœ‰å¤ªæ·±çš„ç›®å½•å±‚çº§ï¼Œç°åœ¨éƒ½æ˜¯å„ä¸ªä½ç½®çš„ç›®å½•çš„ linkï¼Œå¹¶ä¸æ˜¯åŒä¸€ä¸ªç›®å½•ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šæœ‰é•¿åº¦é™åˆ¶ã€‚</p>
<p>æ²¡é”™ï¼Œpnpm å°±æ˜¯é€šè¿‡è¿™ç§æ€è·¯æ¥å®ç°çš„ã€‚</p>
<p>å†æŠŠ node_modules åˆ æ‰ï¼Œç„¶åç”¨ pnpm é‡æ–°è£…ä¸€éï¼Œæ‰§è¡Œ pnpm installã€‚</p>
<p>ä½ ä¼šå‘ç°å®ƒæ‰“å°äº†è¿™æ ·ä¸€å¥è¯ï¼š</p>
<p>åŒ…æ˜¯ä»å…¨å±€ store ç¡¬è¿æ¥åˆ°è™šæ‹Ÿ store çš„ï¼Œè¿™é‡Œçš„è™šæ‹Ÿ store å°±æ˜¯ node_modules&#x2F;.pnpmã€‚</p>
<p>æˆ‘ä»¬æ‰“å¼€ node_modules çœ‹ä¸€ä¸‹ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249706.webp"
                      alt="img"
                ></p>
<p>ç¡®å®ä¸æ˜¯æ‰å¹³åŒ–çš„äº†ï¼Œä¾èµ–äº† expressï¼Œé‚£ node_modules ä¸‹å°±åªæœ‰ expressï¼Œæ²¡æœ‰å¹½çµä¾èµ–ã€‚</p>
<p>å±•å¼€ .pnpm çœ‹ä¸€ä¸‹ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249750.webp"
                      alt="img"
                ></p>
<p>æ‰€æœ‰çš„ä¾èµ–éƒ½åœ¨è¿™é‡Œé“ºå¹³äº†ï¼Œéƒ½æ˜¯ä»å…¨å±€ store ç¡¬è¿æ¥è¿‡æ¥çš„ï¼Œç„¶ååŒ…å’ŒåŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»æ˜¯é€šè¿‡è½¯é“¾æ¥ç»„ç»‡çš„ã€‚</p>
<p>æ¯”å¦‚ .pnpm ä¸‹çš„ expresssï¼Œè¿™äº›éƒ½æ˜¯è½¯é“¾æ¥ï¼Œ</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249099.webp"
                      alt="img"
                ></p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰çš„ä¾èµ–éƒ½æ˜¯ä»å…¨å±€ store ç¡¬è¿æ¥åˆ°äº† node_modules&#x2F;.pnpm ä¸‹ï¼Œç„¶åä¹‹é—´é€šè¿‡è½¯é“¾æ¥æ¥ç›¸äº’ä¾èµ–ã€‚</p>
<p>å®˜æ–¹ç»™äº†ä¸€å¼ åŸç†å›¾ï¼Œé…åˆç€çœ‹ä¸€ä¸‹å°±æ˜ç™½äº†ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249755.webp"
                      alt="img"
                ></p>
<p>è¿™å°±æ˜¯ pnpm çš„å®ç°åŸç†ã€‚</p>
<p>é‚£ä¹ˆå›è¿‡å¤´æ¥çœ‹ä¸€ä¸‹ï¼Œpnpm ä¸ºä»€ä¹ˆä¼˜ç§€å‘¢ï¼Ÿ</p>
<p>é¦–å…ˆï¼Œæœ€å¤§çš„ä¼˜ç‚¹æ˜¯èŠ‚çœç£ç›˜ç©ºé—´å‘€ï¼Œä¸€ä¸ªåŒ…å…¨å±€åªä¿å­˜ä¸€ä»½ï¼Œå‰©ä¸‹çš„éƒ½æ˜¯è½¯ç¡¬è¿æ¥ï¼Œè¿™å¾—èŠ‚çœå¤šå°‘ç£ç›˜ç©ºé—´å‘€ã€‚</p>
<p>å…¶æ¬¡å°±æ˜¯å¿«ï¼Œå› ä¸ºé€šè¿‡é“¾æ¥çš„æ–¹å¼è€Œä¸æ˜¯å¤åˆ¶ï¼Œè‡ªç„¶ä¼šå¿«ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯å®ƒæ‰€æ ‡æ¦œçš„ä¼˜ç‚¹ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232250962.webp"
                      alt="img"
                ></p>
<p>ç›¸æ¯” npm2 çš„ä¼˜ç‚¹å°±æ˜¯ä¸ä¼šè¿›è¡ŒåŒæ ·ä¾èµ–çš„å¤šæ¬¡å¤åˆ¶ã€‚</p>
<p>ç›¸æ¯” yarn å’Œ npm3+ å‘¢ï¼Œé‚£å°±æ˜¯æ²¡æœ‰å¹½çµä¾èµ–ï¼Œä¹Ÿä¸ä¼šæœ‰æ²¡æœ‰è¢«æå‡çš„ä¾èµ–ä¾ç„¶å¤åˆ¶å¤šä»½çš„é—®é¢˜ã€‚</p>
<p>è¿™å°±å·²ç»è¶³å¤Ÿä¼˜ç§€äº†ï¼Œå¯¹ yarn å’Œ npm å¯ä»¥è¯´æ˜¯é™ç»´æ‰“å‡»ã€‚</p>
<p>Referenceï¼š<a class="link"   href="https://juejin.cn/post/7127295203177676837?searchId=20240623222554B51B38FF0362E0D545BE" >https://juejin.cn/post/7127295203177676837?searchId=20240623222554B51B38FF0362E0D545BE <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
  </entry>
  <entry>
    <title>å‰ç«¯åŸ‹ç‚¹ä¸å…¨é“¾è·¯</title>
    <url>/Yuyang/eventTracking/</url>
    <content><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯åŸ‹ç‚¹ï¼š"><a href="#ä»€ä¹ˆæ˜¯åŸ‹ç‚¹ï¼š" class="headerlink" title="ä»€ä¹ˆæ˜¯åŸ‹ç‚¹ï¼š"></a>ä»€ä¹ˆæ˜¯åŸ‹ç‚¹ï¼š</h2><p>â€‹	å‰ç«¯åŸ‹ç‚¹æ˜¯ä¸€ç§ç”¨äºæ”¶é›†ç”¨æˆ·åœ¨ç½‘ç«™æˆ–åº”ç”¨ç¨‹åºä¸Šçš„è¡Œä¸ºæ•°æ®çš„æ–¹æ³•ã€‚è¿™äº›æ•°æ®å¯ä»¥å¸®åŠ©ä¼ä¸šäº†è§£ç”¨æˆ·çš„è¡Œä¸ºæ¨¡å¼ã€ä½¿ç”¨ä¹ æƒ¯ï¼Œå¹¶å¯¹äº§å“è¿›è¡Œä¼˜åŒ–ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆè¦åŸ‹ç‚¹ï¼š"><a href="#ä¸ºä»€ä¹ˆè¦åŸ‹ç‚¹ï¼š" class="headerlink" title="ä¸ºä»€ä¹ˆè¦åŸ‹ç‚¹ï¼š"></a>ä¸ºä»€ä¹ˆè¦åŸ‹ç‚¹ï¼š</h2><ul>
<li>æµé‡ç›‘æµ‹ï¼ˆæŒ‰æ—¶é—´ç©ºé—´ç»´åº¦åˆ†æï¼Œç•™å­˜åˆ†æï¼Œè½¬åŒ–åˆ†æï¼‰ã€‚</li>
<li>æ„å»ºè¡Œä¸ºè·¯å¾„ï¼Œè·å–ç”¨æˆ·çš„å…¨é“¾è·¯ä¿¡æ¯è·å–ï¼Œå®ç°ç”¨æˆ·åˆ†ç¾¤ã€äººç¾¤æ´å¯Ÿã€è¡Œä¸ºç»†æŸ¥ç­‰ï¼Œæ„å»ºç”¨æˆ·ç”»åƒã€‚</li>
<li>é€šè¿‡å¯¹åŸ‹ç‚¹æ•°æ®çš„å¤„ç†ã€åˆ†æã€å»ºæ¨¡ï¼Œåˆ¤æ–­äº§å“çš„æ•ˆæœå’Œæœªæ¥èµ°å‘ã€‚</li>
<li>ä¸ºè¥é”€ç­–ç•¥æä¾›æ•°æ®æ”¯æŒï¼Œåˆ†æè¥é”€æ•ˆæœï¼Œæé«˜æ¸ é“è½¬åŒ–ã€‚</li>
<li>çƒ­åŠ›åˆ†æï¼Œå¸®åŠ©åˆ¤æ–­è®¿å®¢çƒ­è¡·çš„åŒºåŸŸï¼Œè¯„ä¼°ç½‘é¡µè®¾è®¡æ˜¯å¦åˆç†ç­‰ã€‚</li>
<li>å®æ–½AB Testï¼ŒæŒç»­ä¼˜åŒ–äº§å“ï¼Œä½¿äº§å“åœ¨å¸‚åœºä¸Šæ›´å…·æœ‰ç«äº‰åŠ›ã€‚</li>
<li>ç”¨æˆ·è¡Œä¸ºå¼‚å¸¸ç›‘æµ‹ä»¥åŠé—®é¢˜å¿«é€Ÿå®šä½ä¸å“åº”ã€‚</li>
</ul>
<h2 id="åŸ‹ç‚¹çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼š"><a href="#åŸ‹ç‚¹çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼š" class="headerlink" title="åŸ‹ç‚¹çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼š"></a>åŸ‹ç‚¹çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼š</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406250013175.png"
                      alt="image-20240625001317104"
                ></p>
<h2 id="åŸ‹ç‚¹æ–¹å¼ï¼š"><a href="#åŸ‹ç‚¹æ–¹å¼ï¼š" class="headerlink" title="åŸ‹ç‚¹æ–¹å¼ï¼š"></a>åŸ‹ç‚¹æ–¹å¼ï¼š</h2><table>
<thead>
<tr>
<th></th>
<th>ä»£ç åŸ‹ç‚¹</th>
<th>å…¨åŸ‹ç‚¹</th>
<th>å¯è§†åŒ–åŸ‹ç‚¹</th>
</tr>
</thead>
<tbody><tr>
<td>å®šä¹‰</td>
<td><strong>ä»£ç åŸ‹ç‚¹</strong>æ˜¯æŒ‡åœ¨å‰ç«¯ä»£ç ä¸­æ‰‹åŠ¨æ·»åŠ åŸ‹ç‚¹ä»£ç ï¼Œç”¨äºæ•è·ç‰¹å®šç”¨æˆ·è¡Œä¸ºäº‹ä»¶ã€‚è¿™ç§æ–¹æ³•çµæ´»ä¸”ç²¾ç¡®ï¼Œé€‚ç”¨äºéœ€è¦ç»†ç²’åº¦æ•°æ®æ”¶é›†çš„åœºæ™¯ã€‚</td>
<td><strong>å…¨åŸ‹ç‚¹</strong>æ˜¯ä¸€ç§è‡ªåŠ¨åŒ–çš„åŸ‹ç‚¹æ–¹å¼ï¼Œæ—¨åœ¨æ•è·é¡µé¢ä¸Šçš„æ‰€æœ‰ç”¨æˆ·è¡Œä¸ºäº‹ä»¶ã€‚é€šè¿‡å…¨åŸ‹ç‚¹ï¼Œå¯ä»¥è‡ªåŠ¨è®°å½•ç”¨æˆ·åœ¨é¡µé¢ä¸Šçš„æ‰€æœ‰æ“ä½œï¼Œå¦‚ç‚¹å‡»ã€æ»‘åŠ¨ã€è¾“å…¥ç­‰ï¼Œå‡å°‘äº†æ‰‹åŠ¨æ·»åŠ åŸ‹ç‚¹çš„å·¥ä½œé‡ã€‚</td>
<td><strong>å¯è§†åŒ–åŸ‹ç‚¹</strong>æ˜¯é€šè¿‡å¯è§†åŒ–ç•Œé¢é…ç½®åŸ‹ç‚¹ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ä»£ç ã€‚é€šè¿‡å¯è§†åŒ–å·¥å…·ï¼ŒéæŠ€æœ¯äººå‘˜ä¹Ÿå¯ä»¥æ–¹ä¾¿åœ°é…ç½®å’Œç®¡ç†åŸ‹ç‚¹ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>â€¢	ç²¾ç¡®æ§åˆ¶åŸ‹ç‚¹çš„ä½ç½®å’Œäº‹ä»¶ã€‚	<br />â€¢	å¯ä»¥æ”¶é›†è¯¦ç»†çš„äº‹ä»¶ä¿¡æ¯ã€‚</td>
<td>â€¢	è¦†ç›–å…¨é¢ï¼Œæ— éœ€æ‰‹åŠ¨æ·»åŠ åŸ‹ç‚¹ä»£ç ã€‚<br />â€¢	èƒ½å¤Ÿæ•è·æ‰€æœ‰ç”¨æˆ·è¡Œä¸ºï¼Œæ•°æ®æ›´å®Œæ•´</td>
<td>â€¢	æ— éœ€ä¿®æ”¹ä»£ç ï¼Œé…ç½®æ–¹ä¾¿ã€‚<br />â€¢	éæŠ€æœ¯äººå‘˜ä¹Ÿå¯ä»¥é…ç½®å’Œç®¡ç†åŸ‹ç‚¹ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>â€¢	æ‰‹åŠ¨ç»´æŠ¤åŸ‹ç‚¹ä»£ç ï¼Œå·¥ä½œé‡å¤§ï¼Œå®¹æ˜“å‡ºé”™ã€‚<br />â€¢	éœ€è¦å¼€å‘äººå‘˜ä»‹å…¥ï¼Œç»´æŠ¤æˆæœ¬é«˜ã€‚</td>
<td>â€¢	æ•°æ®é‡å¤§ï¼Œå¯èƒ½å¸¦æ¥å­˜å‚¨å’Œå¤„ç†çš„å‹åŠ›ã€‚<br />â€¢	éœ€è¦åœ¨æ•°æ®æ¸…æ´—å’Œåˆ†æé˜¶æ®µè¿›è¡Œå¤§é‡å¤„ç†ã€‚</td>
<td>â€¢	å¯èƒ½æ— æ³•æ»¡è¶³æ‰€æœ‰ç»†ç²’åº¦çš„åŸ‹ç‚¹éœ€æ±‚ã€‚<br />â€¢	é…ç½®ä¸å½“å¯èƒ½å¯¼è‡´æ•°æ®ä¸å‡†ç¡®ã€‚</td>
</tr>
</tbody></table>
<h2 id="åŸ‹ç‚¹ä¾‹å­ï¼š"><a href="#åŸ‹ç‚¹ä¾‹å­ï¼š" class="headerlink" title="åŸ‹ç‚¹ä¾‹å­ï¼š"></a>åŸ‹ç‚¹ä¾‹å­ï¼š</h2><p>ä»£ç åŸ‹ç‚¹ä¾‹å­ï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&#x27;#button&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// æ„å»ºåŸ‹ç‚¹æ•°æ®</span></span><br><span class="line">    <span class="keyword">var</span> eventData = &#123;</span><br><span class="line">        <span class="attr">eventType</span>: <span class="string">&#x27;button_click&#x27;</span>,</span><br><span class="line">        <span class="attr">buttonId</span>: <span class="string">&#x27;button&#x27;</span>,</span><br><span class="line">        <span class="attr">timestamp</span>: <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">toISOString</span>()</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å‘é€æ•°æ®åˆ°æœåŠ¡å™¨</span></span><br><span class="line">    $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;https://example.com/track&#x27;</span>,</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">        <span class="attr">contentType</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(eventData),</span><br><span class="line">        <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">response</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;åŸ‹ç‚¹æ•°æ®å‘é€æˆåŠŸ&#x27;</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">error</span>: <span class="keyword">function</span>(<span class="params">error</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;åŸ‹ç‚¹æ•°æ®å‘é€å¤±è´¥&#x27;</span>, error);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div>

<p>å…¨åŸ‹ç‚¹ä¾‹å­ï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å…¨åŸ‹ç‚¹è„šæœ¬</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// äº‹ä»¶ç›‘å¬å™¨</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">eventListener</span>(<span class="params">event</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> eventData = &#123;</span><br><span class="line">            <span class="attr">eventType</span>: event.<span class="property">type</span>,</span><br><span class="line">            <span class="attr">timestamp</span>: <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">toISOString</span>(),</span><br><span class="line">            <span class="attr">element</span>: event.<span class="property">target</span>.<span class="property">tagName</span>,</span><br><span class="line">            <span class="attr">id</span>: event.<span class="property">target</span>.<span class="property">id</span>,</span><br><span class="line">            <span class="attr">className</span>: event.<span class="property">target</span>.<span class="property">className</span>,</span><br><span class="line">            <span class="attr">pageX</span>: event.<span class="property">pageX</span>,</span><br><span class="line">            <span class="attr">pageY</span>: event.<span class="property">pageY</span>,</span><br><span class="line">            <span class="attr">url</span>: <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span></span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å‘é€æ•°æ®åˆ°æœåŠ¡å™¨</span></span><br><span class="line">        <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">        xhr.<span class="title function_">open</span>(<span class="string">&quot;POST&quot;</span>, <span class="string">&quot;https://example.com/track&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">        xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;application/json;charset=UTF-8&quot;</span>);</span><br><span class="line">        xhr.<span class="title function_">send</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(eventData));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›‘å¬ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, eventListener, <span class="literal">true</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;input&#x27;</span>, eventListener, <span class="literal">true</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, eventListener, <span class="literal">true</span>);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></div>

<h2 id="åŸ‹ç‚¹æ¨¡å‹ï¼š"><a href="#åŸ‹ç‚¹æ¨¡å‹ï¼š" class="headerlink" title="åŸ‹ç‚¹æ¨¡å‹ï¼š"></a>åŸ‹ç‚¹æ¨¡å‹ï¼š</h2><blockquote>
<p>åŸ‹ç‚¹æ¨¡å‹åŒ…å«ä¸¤ä¸ªä¸»è¦æ¦‚å¿µï¼š<strong>äº‹ä»¶(event)</strong> ã€<strong>å±æ€§(params)</strong></p>
<p><strong>äº‹ä»¶</strong>ï¼šé€šè¿‡åŸ‹ç‚¹å®šä¹‰çš„ç”¨æˆ·è¡Œä¸ºæˆ–ä¸šåŠ¡æ“ä½œï¼Œæ¯”å¦‚é¡µé¢æ‰“å¼€ï¼Œé¡µé¢ç¦»å¼€ï¼Œæ¨¡å—æ›å…‰ï¼Œæ¨¡å—ç‚¹å‡»</p>
<p><strong>å±æ€§</strong>ï¼šäº‹ä»¶é™„å¸¦çš„å„ç§ç»´åº¦ä¿¡æ¯ï¼Œæ¯”å¦‚ç”¨æˆ·ä¿¡æ¯ï¼Œç½‘ç»œä¿¡æ¯ï¼Œè®¾å¤‡ä¿¡æ¯ï¼Œäº‹ä»¶å…·ä½“ç»´åº¦ä¿¡æ¯ç­‰</p>
</blockquote>
<p>ä¸€ä¸ªè®¾è®¡çš„ç›¸å¯¹å®Œå–„çš„æ¨¡å‹,ä¸€èˆ¬åŒ…å«ç”¨æˆ·è¡Œä¸ºäº”å…ƒç´ </p>
<p>é€šè¿‡è¿™ä¸ªå¯ä»¥è¯¦ç»†çš„åˆ†ææ˜¯è°åœ¨ä»€ä¹ˆåœ°æ–¹ä»€ä¹ˆæ—¶é—´ï¼Œæ€ä¹ˆæ ·è¿›è¡Œäº†ä»€ä¹ˆæ“ä½œ</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406250041129.png"
                      alt="image-20240625004123315"
                ></p>
<p>æ¨¡å‹äº‹ä»¶ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406250047727.png"
                      alt="image-20240625004727426"
                ></p>
<p>æ¨¡å‹ä¿¡æ¯ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406250053185.png"
                      alt="image-20240625005335046"
                ></p>
<h2 id="åŸ‹ç‚¹ä¸ŠæŠ¥ï¼š"><a href="#åŸ‹ç‚¹ä¸ŠæŠ¥ï¼š" class="headerlink" title="åŸ‹ç‚¹ä¸ŠæŠ¥ï¼š"></a>åŸ‹ç‚¹ä¸ŠæŠ¥ï¼š</h2><p>æ•°æ®é˜Ÿåˆ—å¤„ç†ï¼šå½“éœ€è¦ä¸ŠæŠ¥çš„æ•°æ®é‡é€æ¸å˜å¤šæ—¶ï¼Œå°±éœ€è¦è€ƒè™‘è¿›è¡Œæ‰¹é‡ä¸ŠæŠ¥å’Œå»¶è¿Ÿä¸ŠæŠ¥ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯ä¸ºäº†ä¸é˜»å¡ä¸šåŠ¡ç¨‹åºçš„æ‰§è¡Œï¼Œä¸ŠæŠ¥æœ¬æ¥å°±æ˜¯ç”¨æˆ·æ— æ„ŸçŸ¥çš„äº‹æƒ…ï¼Œç”¨æˆ·ä¸èƒ½ä¸ºæ­¤è€—æ—¶ä¹°å•ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406250115952.png"
                      alt="image-20240625011532834"
                ></p>
<p>å¯¹äºæ•°æ®è¯·æ±‚å¤„ç†ï¼Œä¸»è¦è€ƒè™‘çš„æœ‰ä¸‰ä¸ªå› ç´ </p>
<ul>
<li>è·¨åŸŸçš„é—®é¢˜</li>
<li>é¡µé¢é”€æ¯æ—¶ï¼Œå¦‚ä½•ä¿éšœè¿˜æœªæˆåŠŸä¸Šä¼ çš„æ•°æ®å®Œæˆæ•°æ®ä¸Šä¼ è¯·æ±‚</li>
<li>å¤§æ•°æ®é‡çš„ä¸Šä¼ </li>
</ul>
<p>è¾ƒä¸ºæ ‡å‡†çš„é’ˆå¯¹æ¨¡å—æ›å…‰çš„å®šä¹‰ï¼šçª—å£å¯è§†åŒºåŸŸå†… &amp;&amp; ç»„ä»¶çŸ©å½¢ä¸è§†çª—åŒºåŸŸå‘ç”Ÿäº¤é›† &amp;&amp; äº¤é›†å‚çº¿è·ç¦» &gt;&#x3D; 1px &amp;&amp; åœç•™æ—¶é—´ &gt;&#x3D; XXms</p>
<p>Referenceï¼š<a class="link"   href="https://juejin.cn/post/7324334380373426227?searchId=202406242342178A14CCB0DE15106BCCCB" >https://juejin.cn/post/7324334380373426227?searchId=202406242342178A14CCB0DE15106BCCCB <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>å¤‡æ³¨ï¼šè¿‘å‡ ä¸ªæœˆæ¥çœ‹åˆ°ğŸ‘€è¿‡è´¨é‡æœ€é«˜çš„æ–‡ç« ï¼å­¦åˆ°äº†ï¼</p>
]]></content>
  </entry>
  <entry>
    <title>AST-æŠ½è±¡è¯­æ³•æ ‘</title>
    <url>/Yuyang/ast/</url>
    <content><![CDATA[<h2 id="ç¼–è¯‘å™¨çš„åº•å±‚åŸç†-AST"><a href="#ç¼–è¯‘å™¨çš„åº•å±‚åŸç†-AST" class="headerlink" title="ç¼–è¯‘å™¨çš„åº•å±‚åŸç† AST"></a>ç¼–è¯‘å™¨çš„åº•å±‚åŸç† AST</h2><p>ç¼–è¯‘å™¨ä»‹ç»ï¼šå®ƒä¼šå°†ç”¨æŸç§ç¼–ç¨‹è¯­è¨€å†™æˆçš„æºä»£ç ï¼Œè½¬æ¢æˆå¦ä¸€ç§ç¼–ç¨‹è¯­è¨€ã€‚ç¼–è¯‘å™¨ï¼ˆcompilerï¼‰æ˜¯ä¸€ç§ç”¨äºå°†æºä»£ç ï¼ˆé€šå¸¸æ˜¯é«˜çº§ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„ä»£ç ï¼‰ç¿»è¯‘æˆç›®æ ‡ä»£ç ï¼ˆå¦‚æœºå™¨è¯­è¨€æˆ–ä¸­é—´ä»£ç ï¼‰çš„è½¯ä»¶å·¥å…·ã€‚ç›®æ ‡ä»£ç é€šå¸¸å¯ä»¥ç›´æ¥åœ¨è®¡ç®—æœºä¸Šæ‰§è¡Œï¼Œæˆ–è€…åœ¨ç‰¹å®šçš„è¿è¡Œç¯å¢ƒä¸­æ‰§è¡Œã€‚ç¼–è¯‘å™¨çš„ä¸»è¦ç›®çš„æ˜¯ä½¿ç¨‹åºå‘˜ç¼–å†™çš„æºä»£ç èƒ½å¤Ÿåœ¨è®¡ç®—æœºç¡¬ä»¶ä¸Šè¿è¡Œã€‚</p>
<h2 id="ç¼–è¯‘å™¨å®ç°çš„æ€è·¯"><a href="#ç¼–è¯‘å™¨å®ç°çš„æ€è·¯" class="headerlink" title="ç¼–è¯‘å™¨å®ç°çš„æ€è·¯"></a>ç¼–è¯‘å™¨å®ç°çš„æ€è·¯</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407142153107.png"
                      alt="image-20240714215346889"
                ></p>
<h3 id="Parsing"><a href="#Parsing" class="headerlink" title="Parsing"></a>Parsing</h3><p>è¿™ä¸€éƒ¨åˆ†ä¸»è¦å®ç°çš„åŠŸèƒ½æ˜¯å°†æºç è½¬æ¢ä¸ºæŠ½è±¡è¯­æ³•æ ‘</p>
<p>è§£æé€šå¸¸åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼šè¯æ³•åˆ†æï¼ˆLexical Analysisï¼‰å’Œè¯­æ³•åˆ†æï¼ˆSyntactic Analysisï¼‰ã€‚</p>
<ol>
<li><p><strong>è¯æ³•åˆ†æ</strong> å°†åŸå§‹ä»£ç æ‹†åˆ†æˆç§°ä¸ºæ ‡è®°ï¼ˆtokensï¼‰çš„éƒ¨åˆ†ï¼Œè¿™ä¸ªè¿‡ç¨‹ç”±ä¸€ä¸ªç§°ä¸ºåˆ†è¯å™¨ï¼ˆtokenizerï¼‰æˆ–è¯æ³•åˆ†æå™¨ï¼ˆlexerï¼‰çš„ä¸œè¥¿å®Œæˆã€‚</p>
<p>æ ‡è®°æ˜¯æè¿°è¯­æ³•ä¸­ç‹¬ç«‹éƒ¨åˆ†çš„å°å¯¹è±¡çš„æ•°ç»„ã€‚å®ƒä»¬å¯ä»¥æ˜¯æ•°å­—ã€æ ‡ç­¾ã€æ ‡ç‚¹ç¬¦å·ã€æ“ä½œç¬¦ç­‰ã€‚</p>
</li>
<li><p><strong>è¯­æ³•åˆ†æ</strong> å°†æ ‡è®°é‡æ–°æ ¼å¼åŒ–ä¸ºæè¿°è¯­æ³•å„éƒ¨åˆ†åŠå…¶ç›¸äº’å…³ç³»çš„è¡¨ç¤ºå½¢å¼ã€‚è¿™è¢«ç§°ä¸ºä¸­é—´è¡¨ç¤ºæˆ–æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ã€‚</p>
<p>æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰æ˜¯ä¸€ä¸ªæ·±åº¦åµŒå¥—çš„å¯¹è±¡ï¼Œå®ƒä»¥ä¸€ç§æ˜“äºå¤„ç†å¹¶åŒ…å«å¤§é‡ä¿¡æ¯çš„æ–¹å¼è¡¨ç¤ºä»£ç ã€‚</p>
</li>
</ol>
<p>å¯¹äºä»¥ä¸‹è¯­æ³•ï¼š</p>
<p>  <code>(add 2 (subtract 4 2))</code></p>
<p>Tokensåº”è¯¥æ˜¯è¿™æ ·çš„è¿™æ ·ï¼š</p>
  <div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123; type: &#x27;paren&#x27;,  value: &#x27;(&#x27;        &#125;,</span><br><span class="line">  &#123; type: &#x27;name&#x27;,   value: &#x27;add&#x27;      &#125;,</span><br><span class="line">  &#123; type: &#x27;number&#x27;, value: &#x27;2&#x27;        &#125;,</span><br><span class="line">  &#123; type: &#x27;paren&#x27;,  value: &#x27;(&#x27;        &#125;,</span><br><span class="line">  &#123; type: &#x27;name&#x27;,   value: &#x27;subtract&#x27; &#125;,</span><br><span class="line">  &#123; type: &#x27;number&#x27;, value: &#x27;4&#x27;        &#125;,</span><br><span class="line">  &#123; type: &#x27;number&#x27;, value: &#x27;2&#x27;        &#125;,</span><br><span class="line">  &#123; type: &#x27;paren&#x27;,  value: &#x27;)&#x27;        &#125;,</span><br><span class="line">  &#123; type: &#x27;paren&#x27;,  value: &#x27;)&#x27;        &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure></div>

<p>è€ŒæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰å¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p>
  <div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  type: &#x27;Program&#x27;,</span><br><span class="line">  body: [&#123;</span><br><span class="line">    type: &#x27;CallExpression&#x27;,</span><br><span class="line">    name: &#x27;add&#x27;,</span><br><span class="line">    params: [&#123;</span><br><span class="line">      type: &#x27;NumberLiteral&#x27;,</span><br><span class="line">      value: &#x27;2&#x27;,</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      type: &#x27;CallExpression&#x27;,</span><br><span class="line">      name: &#x27;subtract&#x27;,</span><br><span class="line">      params: [&#123;</span><br><span class="line">        type: &#x27;NumberLiteral&#x27;,</span><br><span class="line">        value: &#x27;4&#x27;,</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        type: &#x27;NumberLiteral&#x27;,</span><br><span class="line">        value: &#x27;2&#x27;,</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="Transformation"><a href="#Transformation" class="headerlink" title="Transformation"></a>Transformation</h3><p>è¿™ä¸€éƒ¨åˆ†ä¸»è¦å®ç°çš„åŠŸèƒ½æ˜¯å¯¹åˆå§‹çš„æŠ½è±¡è¯­æ³•æ ‘è¿›è¡Œæ“ä½œä½¿å…¶å˜æˆæˆ‘ä»¬æ‰€æœŸæœ›çš„æŠ½è±¡è¯­æ³•æ ‘ã€‚</p>
<p>åŒæ ·ï¼Œè¿™ä¸ªé˜¶æ®µåªæ˜¯æ¥æ”¶ä¸Šä¸€æ­¥ç”Ÿæˆçš„ASTå¹¶å¯¹å…¶è¿›è¡Œæ›´æ”¹ã€‚å®ƒå¯ä»¥åœ¨ç›¸åŒçš„è¯­è¨€ä¸­æ“ä½œASTï¼Œä¹Ÿå¯ä»¥å°†å…¶è½¬æ¢ä¸ºå®Œå…¨æ–°çš„è¯­è¨€ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•è½¬æ¢ä¸€ä¸ªASTã€‚</p>
<p>ä½ å¯èƒ½ä¼šæ³¨æ„åˆ°ï¼Œæˆ‘ä»¬çš„ASTä¸­æœ‰ä¸€äº›çœ‹èµ·æ¥éå¸¸ç›¸ä¼¼çš„å…ƒç´ ã€‚è¿™äº›å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªtypeå±æ€§ã€‚æ¯ä¸ªè¿™æ ·çš„å¯¹è±¡éƒ½è¢«ç§°ä¸ºASTèŠ‚ç‚¹ã€‚è¿™äº›èŠ‚ç‚¹ä¸Šæœ‰å®šä¹‰çš„å±æ€§ï¼Œç”¨æ¥æè¿°æ ‘çš„ä¸€ä¸ªç‹¬ç«‹éƒ¨åˆ†ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æœ‰ä¸€ä¸ªè¡¨ç¤ºâ€œNumberLiteralâ€ï¼ˆæ•°å­—å­—é¢é‡ï¼‰çš„èŠ‚ç‚¹ï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;NumberLiteral&#x27;</span>,</span><br><span class="line">  <span class="attr">value</span>: <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>æˆ–è€…ä¸€ä¸ªè¡¨ç¤ºâ€œCallExpressionâ€ï¼ˆè°ƒç”¨è¡¨è¾¾å¼ï¼‰çš„èŠ‚ç‚¹ï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;CallExpression&#x27;</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;subtract&#x27;</span>,</span><br><span class="line">  <span class="attr">params</span>: [...åµŒå¥—èŠ‚ç‚¹åœ¨è¿™é‡Œ...],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>åœ¨è½¬æ¢ASTæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ &#x2F;ç§»é™¤&#x2F;æ›¿æ¢å±æ€§æ¥æ“ä½œèŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ æ–°èŠ‚ç‚¹ï¼Œç§»é™¤èŠ‚ç‚¹ï¼Œæˆ–è€…ä¿ç•™ç°æœ‰çš„ASTä¸å˜ï¼ŒåŸºäºå®ƒåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ASTã€‚</p>
<p>ç”±äºæˆ‘ä»¬ç›®æ ‡æ˜¯ä¸€ç§æ–°è¯­è¨€ï¼Œå› æ­¤æˆ‘ä»¬å°†ä¸“æ³¨äºåˆ›å»ºä¸€ä¸ªç‰¹å®šäºç›®æ ‡è¯­è¨€çš„å…¨æ–°ASTã€‚</p>
<h3 id="Code-Generation"><a href="#Code-Generation" class="headerlink" title="Code Generation"></a>Code Generation</h3><p>å°†æ–°çš„è¯­æ³•æ ‘è½¬æ¢æˆæ–°çš„ä»£ç </p>
]]></content>
  </entry>
  <entry>
    <title>è‡ªåŠ¨åŒ–</title>
    <url>/Yuyang/autoBuild/</url>
    <content><![CDATA[<h2 id="è‡ªåŠ¨åŒ–æ„å»ºæ–¹æ¡ˆ"><a href="#è‡ªåŠ¨åŒ–æ„å»ºæ–¹æ¡ˆ" class="headerlink" title="è‡ªåŠ¨åŒ–æ„å»ºæ–¹æ¡ˆ"></a>è‡ªåŠ¨åŒ–æ„å»ºæ–¹æ¡ˆ</h2><p>é€šè¿‡è‡ªåŠ¨åŒ–æ‰‹æ®µ æé«˜æ•ˆç‡ å¯é æ€§</p>
<p>æ„å»ºå·¥å…·ï¼š grunt webpack gulp vite rollup esbuild swc turbopack</p>
<p>ç¼–è¯‘ æµ‹è¯• éƒ¨ç½² åŒºåˆ†ç¯å¢ƒ</p>
<h2 id="æ„å»ºçš„æ•´ä½“è®¾è®¡æ€è·¯"><a href="#æ„å»ºçš„æ•´ä½“è®¾è®¡æ€è·¯" class="headerlink" title="æ„å»ºçš„æ•´ä½“è®¾è®¡æ€è·¯"></a>æ„å»ºçš„æ•´ä½“è®¾è®¡æ€è·¯</h2><ul>
<li><p>æ„å»ºå·¥å…·çš„é€‰æ‹©</p>
<p>å®é™…ä¸šåŠ¡è§¦å‘</p>
<ul>
<li>UI rollup</li>
<li>å°å‹é¡¹ç›® vite</li>
<li>å¤§å‹é¡¹ç›® vite webpack</li>
<li>swc swc-loader å¯¹æ ‡ babel-loader &#x3D;&gt; ast</li>
</ul>
</li>
<li><p>ç¡®å®šæ„å»ºæµç¨‹</p>
<ul>
<li>loaderï¼ˆè§£æ ç¼–è¯‘ æ–‡ä»¶å¤„ç†ï¼‰webpack éœ€è¦äº†è§£ åŸºç¡€</li>
<li>plugin  å¢å¼º æœ€åé˜¶æ®µè¿›è¡Œè¾“å‡º webpack</li>
</ul>
</li>
<li><p>ç¡®å®šæ„å»ºäº§ç‰©çš„è¾“å‡º</p>
<ul>
<li>åˆ†chunkè¾“å‡º å¯ä»¥å¯¹å†…å®¹è¿›è¡ŒæŒ‰éœ€åŠ è½½</li>
</ul>
</li>
<li><p>ä¼˜åŒ–æ‰“åŒ…æ„å»ºæµç¨‹</p>
<ul>
<li>reviewæ„å»ºè¿‡ç¨‹ ä¼˜åŒ–éƒ¨åˆ†é˜¶æ®µ</li>
<li>æ€ä¹ˆè®©æ‰“å‡ºæ¥çš„åŒ…ä½“ç§¯æ›´å°ï¼Ÿ</li>
<li>tree shaking webpack é™æ€ç¼–è¯‘çš„æ—¶å€™<ul>
<li>å°½é‡å‡å°‘commonjsåº“çš„ä½¿ç”¨ï¼Œå°½é‡ä½¿ç”¨esmçš„åº“ï¼Ÿ</li>
</ul>
</li>
<li>æŒ‰éœ€åŠ è½½ï¼ˆå¼‚æ­¥ç»„ä»¶ï¼‰æŠŠéé¦–å±çš„ç»„ä»¶å¼‚æ­¥å‡ºæ¥</li>
<li>é…åˆç¼“å­˜ splitChunks<ul>
<li>ä¸æ€ä¹ˆå˜åŠ¨çš„åŒ…æ‰“åŒ…åˆ°ä¸€èµ· vue pinia vue-router vrender.js<ul>
<li>ä¼˜åŠ¿ å‡å°å…¥å£jsä½“ç§¯</li>
<li>vender åˆ©ç”¨ç¼“å­˜ æ— éœ€è·Ÿæ–°</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>â€¦.</p>
<ul>
<li><p>externals é€šè¿‡è¿™ç§æ–¹å¼å¯¼å…¥ç¬¬ä¸‰æ–¹èµ„æº</p>
<ul>
<li>å¾®å‰ç«¯ å¼•ç”¨å…¬å…±èµ„æº</li>
</ul>
</li>
<li><p>æå‡æ„å»ºé€Ÿåº¦</p>
<ul>
<li>ç©ºé—´ æ—¶é—´<ul>
<li>ç¼“å­˜ cache</li>
<li>åˆ©ç”¨å¥½è®¡ç®—æœºç®—åŠ›</li>
<li>å¤šçº¿ç¨‹æ‰“åŒ… happy-pack thread-loader</li>
</ul>
</li>
</ul>
</li>
<li><p>æ„å»ºçš„æŠ€æœ¯é€‰å‹å’Œæ–¹æ¡ˆ</p>
</li>
<li><p>åˆå§‹åŒ–å·¥ç¨‹</p>
</li>
<li><p>ä¾èµ–ç›˜ç‚¹ä¸å®‰è£…</p>
</li>
<li><p>ç¡®å®šä¸€äº›å·¥ç¨‹åŒ–è„šæœ¬</p>
</li>
<li><p>start build</p>
</li>
<li><p>test lint type-check</p>
</li>
<li><p>åŸºäºgité’©å­ commit pre-commit</p>
</li>
<li><p>å‰ç«¯ä»£ç è§„èŒƒ ç¡®å®šä»£ç è§„èŒƒ ts eslint spellcheck git flow è§„èŒƒ</p>
<h2 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h2><p>tapbale ç»„ç»‡è¿™æ¡å¤æ‚çš„ç”Ÿäº§çº¿</p>
</li>
<li><p>äº‹ä»¶å‘å¸ƒè®¢é˜…æœºåˆ¶</p>
</li>
<li><p>å¹¿æ’­äº‹ä»¶</p>
<h3 id="tapbale"><a href="#tapbale" class="headerlink" title="tapbale"></a>tapbale</h3><div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆå§‹åŒ–é’©å­</span></span><br><span class="line"><span class="keyword">const</span> hook = <span class="keyword">new</span> <span class="title class_">SyncHook</span>([<span class="string">&#x27;compilation&#x27;</span>])</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>äº‹ä»¶æ³¨å†Œ</p>
</li>
</ul>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line">hook.<span class="title function_">tap</span>(<span class="string">&quot;flag1&quot;</span>,<span class="function">(<span class="params">compilation</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(compilation)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div>

<ul>
<li>äº‹ä»¶æ‰§è¡Œ</li>
</ul>
<p>call()</p>
<h3 id="compilation"><a href="#compilation" class="headerlink" title="compilation"></a>compilation</h3><p>compilation å¯¹è±¡åŒ…å«å½“å‰çš„æ¨¡å—èµ„æº ç¼–è¯‘ç”Ÿæˆçš„èµ„æº å˜åŒ–çš„æ–‡ä»¶</p>
<p>compiler åŒ…å« webpackæ‰€æœ‰é…ç½®ä¿¡æ¯ options loaders pluginså…¨å±€å”¯ä¸€çš„</p>
<p>compiler &#x3D;&gt; compilation</p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/undefined/autoTest/</url>
    <content><![CDATA[<h4 id="title-è‡ªåŠ¨åŒ–æµ‹è¯•"><a href="#title-è‡ªåŠ¨åŒ–æµ‹è¯•" class="headerlink" title="title: è‡ªåŠ¨åŒ–æµ‹è¯•"></a>title: è‡ªåŠ¨åŒ–æµ‹è¯•</h4><p>author: Yuyang</p>
<h2 id="è‡ªåŠ¨åŒ–æµ‹è¯•ä¸æŠ€æœ¯é€‰å‹"><a href="#è‡ªåŠ¨åŒ–æµ‹è¯•ä¸æŠ€æœ¯é€‰å‹" class="headerlink" title="è‡ªåŠ¨åŒ–æµ‹è¯•ä¸æŠ€æœ¯é€‰å‹"></a>è‡ªåŠ¨åŒ–æµ‹è¯•ä¸æŠ€æœ¯é€‰å‹</h2><h3 id="è®¤è¯†å¹¶ä½¿ç”¨jest"><a href="#è®¤è¯†å¹¶ä½¿ç”¨jest" class="headerlink" title="è®¤è¯†å¹¶ä½¿ç”¨jest"></a>è®¤è¯†å¹¶ä½¿ç”¨jest</h3><h3 id="e2eæµ‹è¯•"><a href="#e2eæµ‹è¯•" class="headerlink" title="e2eæµ‹è¯•"></a>e2eæµ‹è¯•</h3><h3 id="devops"><a href="#devops" class="headerlink" title="devops"></a>devops</h3><h3 id="è‡ªåŠ¨åŒ–æµ‹è¯•"><a href="#è‡ªåŠ¨åŒ–æµ‹è¯•" class="headerlink" title="è‡ªåŠ¨åŒ–æµ‹è¯•"></a>è‡ªåŠ¨åŒ–æµ‹è¯•</h3><h4 id="ä¸ºä»€ä¹ˆéœ€è¦æµ‹è¯•"><a href="#ä¸ºä»€ä¹ˆéœ€è¦æµ‹è¯•" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦æµ‹è¯•"></a>ä¸ºä»€ä¹ˆéœ€è¦æµ‹è¯•</h4><p>è®©ç¨‹åºç¨³å®šå¥å£®ï¼Œæé«˜ä»£ç è´¨é‡ï¼Œå‡å°‘bugï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p>
<ul>
<li>é¢‘ç¹å˜åŠ¨çš„éœ€æ±‚</li>
<li>äººåŠ›æˆæœ¬</li>
<li>ä¸å¤ªé‡è§†</li>
</ul>
<h4 id="ä»€ä¹ˆæ—¶å€™-æˆ–è€…ä»€ä¹ˆåœºæ™¯éœ€è¦è€ƒè™‘è‡ªåŠ¨åŒ–æµ‹è¯•"><a href="#ä»€ä¹ˆæ—¶å€™-æˆ–è€…ä»€ä¹ˆåœºæ™¯éœ€è¦è€ƒè™‘è‡ªåŠ¨åŒ–æµ‹è¯•" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ æˆ–è€…ä»€ä¹ˆåœºæ™¯éœ€è¦è€ƒè™‘è‡ªåŠ¨åŒ–æµ‹è¯•"></a>ä»€ä¹ˆæ—¶å€™ æˆ–è€…ä»€ä¹ˆåœºæ™¯éœ€è¦è€ƒè™‘è‡ªåŠ¨åŒ–æµ‹è¯•</h4><ul>
<li>å…¬å…±åº“é¡¹ç›®å¼€å‘ç»´æŠ¤ vue react babel</li>
<li>ä¸­é•¿æœŸé¡¹ç›®</li>
<li>éœ€æ±‚è¶‹äºç¨³å®šåçš„ç³»ç»Ÿ</li>
</ul>
<h4 id="æµ‹è¯•ç±»å‹"><a href="#æµ‹è¯•ç±»å‹" class="headerlink" title="æµ‹è¯•ç±»å‹"></a>æµ‹è¯•ç±»å‹</h4><ul>
<li>å•å…ƒæµ‹è¯• Unit Test å°çš„åŠŸèƒ½çš„æµ‹è¯• Jest @vue&#x2F;test-utils Mocha</li>
<li>é›†æˆæµ‹è¯• Integration Test å°çš„æ¨¡å—æµ‹è¯•</li>
<li>ç«¯åˆ°ç«¯æµ‹è¯• End-to-End Test ä»é¡µé¢å‡ºå‘å»æµ‹è¯•ä¸€äº›åŠŸèƒ½</li>
<li>E2Eæµ‹è¯• End-to-End Test (UI+æ¥å£) puppeteer</li>
</ul>
<p>æ–­è¨€åº“ Assert</p>
<h2 id="å•å…ƒæµ‹è¯•åŸç†"><a href="#å•å…ƒæµ‹è¯•åŸç†" class="headerlink" title="å•å…ƒæµ‹è¯•åŸç†"></a>å•å…ƒæµ‹è¯•åŸç†</h2><p>é€šè¿‡ä¸€äº›æµ‹è¯•ç”¨ä¾‹ æ¥ç¼–å†™æµ‹è¯•ä»£ç  ä¿è¯æµ‹è¯•ç”¨ä¾‹é€šè¿‡</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> chalk = <span class="built_in">require</span>(<span class="string">&#x27;chalk&#x27;</span>)</span><br><span class="line"><span class="comment">// import chalk from &#x27;chalk&#x27;</span></span><br><span class="line"><span class="comment">// æè¿°æµ‹è¯•åœºæ™¯</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">describe</span>(<span class="params">desc, fn</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(chalk.<span class="title function_">green</span>(desc))</span><br><span class="line">  <span class="title function_">fn</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å•å…ƒæµ‹è¯•çš„æµ‹è¯•æè¿°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">it</span>(<span class="params">desc, fn</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(chalk.<span class="title function_">yellow</span>(desc))</span><br><span class="line">  <span class="title function_">fn</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–­è¨€</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">expect</span>(<span class="params">result</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="title function_">toBe</span>(<span class="params">actual</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (result != actual) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(chalk.<span class="title function_">red</span>(<span class="string">&#x27;FAIL&#x27;</span>, result, actual))</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`é¢„æœŸå€¼å’Œå®é™…å€¼ä¸ç›¸ç­‰ï¼Œé¢„æœŸ<span class="subst">$&#123;actual&#125;</span>,å®é™…æ˜¯<span class="subst">$&#123;result&#125;</span>`</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;success&#x27;</span>, result, actual)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">toEqual</span>(<span class="params">actual</span>) &#123;</span><br><span class="line">      <span class="comment">//   if (result != actual) &#123;</span></span><br><span class="line">      <span class="comment">//     console.log(chalk.red(&#x27;FAIL&#x27;, result, actual))</span></span><br><span class="line">      <span class="comment">//     throw new Error(`é¢„æœŸå€¼å’Œå®é™…å€¼ä¸ç›¸ç­‰ï¼Œé¢„æœŸ$&#123;actual&#125;,å®é™…æ˜¯$&#123;result&#125;`)</span></span><br><span class="line">      <span class="comment">//   &#125;</span></span><br><span class="line">      <span class="comment">//   console.log(&#x27;success&#x27;, result, actual)</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  describe,</span><br><span class="line">  it,</span><br><span class="line">  expect,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; expect, describe, it &#125; = <span class="built_in">require</span>(<span class="string">&quot;./test&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">describe</span>(<span class="string">&quot;ç”¨æ¥æµ‹è¯•sumå‡½æ•°&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">it</span>(<span class="string">&quot;1 + 1 = 2&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">expect</span>(<span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">1</span>)).<span class="title function_">toBe</span>(<span class="number">2</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="title function_">it</span>(<span class="string">&quot;1 + 2 = 3&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">expect</span>(<span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>)).<span class="title function_">toBe</span>(<span class="number">3</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="title function_">it</span>(<span class="string">&quot;2 + 3 = 5&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">expect</span>(<span class="title function_">sum</span>(<span class="number">2</span>, <span class="number">3</span>)).<span class="title function_">toBe</span>(<span class="number">5</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div>

<h3 id="JEST"><a href="#JEST" class="headerlink" title="JEST"></a>JEST</h3><ul>
<li>å¿«ç…§æµ‹è¯•</li>
<li>æµ‹è¯•è¦†ç›–ç‡</li>
<li>åŸºæœ¬ä½¿ç”¨<ul>
<li>åŸºæœ¬æ–¹æ³•æµ‹è¯•</li>
</ul>
</li>
</ul>
<h4 id="å¸¸ç”¨çš„API"><a href="#å¸¸ç”¨çš„API" class="headerlink" title="å¸¸ç”¨çš„API"></a>å¸¸ç”¨çš„API</h4><ul>
<li>describe å°†å¤šä¸ªç›¸å…³çš„æµ‹è¯•è¿›è¡Œç»„åˆ ç»„åˆåˆ°ä¸€å—</li>
<li>it </li>
<li>expect æ–­è¨€</li>
</ul>
<h4 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h4><ul>
<li>beforeAll æ‰€æœ‰ç”¨ä¾‹æ‰§è¡Œå‰è°ƒç”¨</li>
<li>beforeEach æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æ‰§è¡Œå‰è°ƒç”¨</li>
<li>after All æ‰§è¡Œç»“æŸåè°ƒç”¨</li>
<li>afterEach æ¯ä¸ªæ‰§è¡Œåè°ƒç”¨</li>
</ul>
<h4 id="æ–­è¨€é’©å­"><a href="#æ–­è¨€é’©å­" class="headerlink" title="æ–­è¨€é’©å­"></a>æ–­è¨€é’©å­</h4><ul>
<li>toBe ä¸¥æ ¼æ¯”å¯¹ &#x3D;&#x3D;&#x3D; å†…å­˜ç©ºé—´éƒ½æ˜¯ä¸€è‡´çš„</li>
<li>toEqual å€¼æ¯”å¯¹ å¯¹è±¡ é€’å½’éå† æ¯”å¯¹å€¼</li>
</ul>
<h4 id="å¿«ç…§æµ‹è¯•"><a href="#å¿«ç…§æµ‹è¯•" class="headerlink" title="å¿«ç…§æµ‹è¯•"></a>å¿«ç…§æµ‹è¯•</h4><p>ç¡®ä¿UIä¸ä¼šæœ‰æ„å¤–çš„æ”¹å˜</p>
<h4 id="æµ‹è¯•è¦†ç›–ç‡"><a href="#æµ‹è¯•è¦†ç›–ç‡" class="headerlink" title="æµ‹è¯•è¦†ç›–ç‡"></a>æµ‹è¯•è¦†ç›–ç‡</h4><ul>
<li>stmts è¯­å¥è¦†ç›–ç‡</li>
<li>branch æ˜¯å¦æ‰§è¡Œäº†æ¯ä¸ªåˆ†æ”¯</li>
<li>funcs å‡½æ•°è¦†ç›–ç‡</li>
<li>lines æ˜¯å¦æ‰§è¡Œæ¯ä¸€è¡Œä»£ç </li>
</ul>
<h2 id="E2Eæµ‹è¯•"><a href="#E2Eæµ‹è¯•" class="headerlink" title="E2Eæµ‹è¯•"></a>E2Eæµ‹è¯•</h2><p>puppeteer æ— å¤´æµè§ˆå™¨</p>
<p>cypress</p>
<h3 id="puppeteer"><a href="#puppeteer" class="headerlink" title="puppeteer"></a>puppeteer</h3><p>nodeåº“ chrome</p>
<p>åœ¨nodeç¯å¢ƒä¸‹é¢å¯¹æµè§ˆå™¨è¡Œä¸ºè¿›è¡Œæ§åˆ¶</p>
<ul>
<li>ç”Ÿæˆé¡µé¢å¿«ç…§ å›¾ç‰‡ pdf</li>
<li>æŠ“å–spa</li>
<li>ä»ç½‘ç«™ä¸ŠæŠ“å–éœ€è¦çš„å†…å®¹</li>
<li>è‡ªåŠ¨è¡¨å•æäº¤ UI æµ‹è¯• é”®ç›˜è¾“å…¥</li>
<li>æµ‹è¯•chromeæ‰©å±•</li>
<li>æŠ“å–åº”ç”¨çš„æ€§èƒ½æ•°æ®</li>
</ul>
<h4 id="æŠ€æœ¯ç‚¹"><a href="#æŠ€æœ¯ç‚¹" class="headerlink" title="æŠ€æœ¯ç‚¹"></a>æŠ€æœ¯ç‚¹</h4><ul>
<li>browser æµè§ˆå™¨å®ä¾‹</li>
<li>pageé¡µé¢</li>
<li>executionContext jsæ‰§è¡Œç¯å¢ƒ</li>
<li>elementhandle å¯¹åº”domçš„å…ƒç´ å€Ÿç‚¹</li>
<li>jshandler jså¯¹è±¡</li>
</ul>
<h4 id="æµ‹è¯•åœºæ™¯"><a href="#æµ‹è¯•åœºæ™¯" class="headerlink" title="æµ‹è¯•åœºæ™¯"></a>æµ‹è¯•åœºæ™¯</h4><ul>
<li>è¡¨å•è¾“å…¥ ç”¨æˆ·å å¯†ç  æäº¤ é¡µé¢è·³è½¬</li>
<li>ä½“éªŒä¼˜åŒ– ç”Ÿæˆéª¨æ¶å± ç›´æ¥ä½¿ç”¨å¯¹åº”çš„é¡µé¢æˆªå›¾</li>
</ul>
<p>puppteer åˆ¶å®šä¸€äº›è§„åˆ™ img ç°è‰²ä»£ç å—æ›¿æ¢</p>
<h4 id="CI-CD"><a href="#CI-CD" class="headerlink" title="CI&#x2F;CD"></a>CI&#x2F;CD</h4><p>å·¥ç¨‹åŒ– &#x3D;&gt; ç ”å‘å·¥ä½œå° &#x3D;&gt; ç®¡ç†ç»´æŠ¤ å‘å¸ƒ è¿ç»´</p>
<p>ci </p>
<p>æ„å»º &#x3D;&gt; ç”Ÿæˆæœ€ç»ˆæ„å»ºäº§ç‰©</p>
<p>Test &#x3D;&gt; ä¿è¯äº§ç‰©å¥å£®æ€§</p>
<p>cd</p>
<p>æœ€åé˜¶æ®µ &#x3D;&gt; å‘å¸ƒåˆ°å¯¹åº”çš„ç¯å¢ƒä¸Š &#x3D;&gt; çº¿ä¸ŠæœåŠ¡å™¨ nginx</p>
<h4 id="git-action-è‡ªåŠ¨åŒ–éƒ¨ç½²"><a href="#git-action-è‡ªåŠ¨åŒ–éƒ¨ç½²" class="headerlink" title="git action è‡ªåŠ¨åŒ–éƒ¨ç½²"></a>git action è‡ªåŠ¨åŒ–éƒ¨ç½²</h4><p>workflow å·¥ä½œæµç¨‹</p>
<ul>
<li><p>é…ç½®æ–‡ä»¶</p>
</li>
<li><p>   .github&#x2F;workflows</p>
</li>
<li><p>   xxx.yml</p>
<ul>
<li>   name workflowåç§°</li>
<li>   on:[push pull_request]</li>
</ul>
</li>
<li><p>job ä»»åŠ¡ å¯ä»¥é…ç½®ä¸€é¡¹æˆ–è€…å¤šé¡¹ä»»åŠ¡</p>
<ul>
<li>name åç§° ä»»åŠ¡è¯´æ˜</li>
<li>needs è¿è¡Œé¡ºåº<ul>
<li>jobs:<ul>
<li>job1:</li>
<li>job2:<ul>
<li>needs: job1</li>
</ul>
</li>
<li><h2 id="job3-needs-job1-job2-runs-on-ubuntuxx"><a href="#job3-needs-job1-job2-runs-on-ubuntuxx" class="headerlink" title="job3:- needs: [job1, job2]  - runs-on: ubuntuxx"></a>job3:<br>- needs: [job1, job2]<br>  - runs-on: ubuntuxx</h2></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>step æ­¥éª¤</p>
<ul>
<li>name æ­¥éª¤åç§°</li>
<li>run æ‰§è¡Œçš„å‘½ä»¤ action</li>
<li>env ç¯å¢ƒå˜é‡</li>
</ul>
</li>
<li><p>action åŠ¨ä½œ</p>
</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>å‰ç«¯å·¥ç¨‹åŒ–</title>
    <url>/Yuyang/engineering/</url>
    <content><![CDATA[<h1 id="å‰ç«¯å·¥ç¨‹åŒ–è®²è§£-åŒ…ç®¡ç†å·¥å…·"><a href="#å‰ç«¯å·¥ç¨‹åŒ–è®²è§£-åŒ…ç®¡ç†å·¥å…·" class="headerlink" title="å‰ç«¯å·¥ç¨‹åŒ–è®²è§£&amp;åŒ…ç®¡ç†å·¥å…·"></a>å‰ç«¯å·¥ç¨‹åŒ–è®²è§£&amp;åŒ…ç®¡ç†å·¥å…·</h1><h2 id="å·¥ç¨‹åŒ–ä½“ç³»"><a href="#å·¥ç¨‹åŒ–ä½“ç³»" class="headerlink" title="å·¥ç¨‹åŒ–ä½“ç³»"></a>å·¥ç¨‹åŒ–ä½“ç³»</h2><p>å‰ç«¯å·¥ç¨‹åŒ–ï¼š å‰ç«¯+è½¯ä»¶å·¥ç¨‹</p>
<p>æ•´ä¸ªå‰ç«¯çš„ç ”å‘å‘¨æœŸå½“ä¸­ æˆ‘ä»¬å¯ä»¥å¹²é¢„çš„è¡Œä¸º</p>
<h3 id="å‰ç«¯å·¥ç¨‹åŒ–å¼€å±•"><a href="#å‰ç«¯å·¥ç¨‹åŒ–å¼€å±•" class="headerlink" title="å‰ç«¯å·¥ç¨‹åŒ–å¼€å±•"></a>å‰ç«¯å·¥ç¨‹åŒ–å¼€å±•</h3><ul>
<li>æ¨¡å—åŒ–ï¼šæ¨¡å—å¤ç”¨</li>
<li>è‡ªåŠ¨åŒ–ï¼šCI&#x2F;CD ç ”å‘å¹³å°</li>
<li>æ™ºèƒ½åŒ–ï¼šAI code</li>
</ul>
<h3 id="è„šæ‰‹æ¶èƒ½åŠ›"><a href="#è„šæ‰‹æ¶èƒ½åŠ›" class="headerlink" title="è„šæ‰‹æ¶èƒ½åŠ›"></a>è„šæ‰‹æ¶èƒ½åŠ›</h3><p>é€šè¿‡æ›´å¤šçš„è§„èŒƒ çº¦æŸå¼€å‘äººå‘˜çš„ç ”å‘æµç¨‹</p>
<p>ç‹­ä¹‰ï¼šå‘½ä»¤è¡Œ<br>å¹¿ä¹‰ï¼šçº¦æŸ</p>
<p>å‡†å¤‡é˜¶æ®µï¼š</p>
<ul>
<li>éœ€æ±‚</li>
<li>æŠ€æœ¯é€‰å‹</li>
<li>ä»£ç è§„èŒƒ<ul>
<li>lint è§„èŒƒ</li>
</ul>
</li>
<li>ç”Ÿæ€è§„èŒƒ<ul>
<li>UIåº“</li>
<li>é™æ€ç«™ç‚¹ npm github readme types</li>
</ul>
</li>
<li>ä¸‰æ–¹è§„èŒƒ<ul>
<li>npm å‘å¸ƒ</li>
<li>github ci cd</li>
</ul>
</li>
</ul>
<h4 id="å¼€å‘é˜¶æ®µ"><a href="#å¼€å‘é˜¶æ®µ" class="headerlink" title="å¼€å‘é˜¶æ®µ"></a>å¼€å‘é˜¶æ®µ</h4><p>ç¡®å®šè§„èŒƒå†…å®¹<br>è§„èŒƒ eslint md stylelint</p>
<p>æµ‹è¯•</p>
<ul>
<li>å•å…ƒæµ‹è¯•</li>
<li>e2eæµ‹è¯•</li>
</ul>
<h3 id="æ‰“åŒ…æµç¨‹"><a href="#æ‰“åŒ…æµç¨‹" class="headerlink" title="æ‰“åŒ…æµç¨‹"></a>æ‰“åŒ…æµç¨‹</h3><ul>
<li>webpack</li>
<li>rollup</li>
<li>vite</li>
</ul>
<h3 id="ä½“éªŒåº¦é‡"><a href="#ä½“éªŒåº¦é‡" class="headerlink" title="ä½“éªŒåº¦é‡"></a>ä½“éªŒåº¦é‡</h3><p>å®šä¹‰ä¸€äº›æŒ‡æ ‡ è¡¡é‡å½“å‰ç³»ç»Ÿå¥½ä¸å¥½ç”¨</p>
<p>åŸ‹ç‚¹ï¼šç”¨æˆ·è¡Œä¸ºç»Ÿè®¡<br>perfomanceï¼šæ€§èƒ½æŒ‡æ ‡</p>
<h3 id="ç ”å‘æ•ˆèƒ½æµç¨‹"><a href="#ç ”å‘æ•ˆèƒ½æµç¨‹" class="headerlink" title="ç ”å‘æ•ˆèƒ½æµç¨‹"></a>ç ”å‘æ•ˆèƒ½æµç¨‹</h3><h3 id="ç¨³å®šæ€§å»ºè®¾"><a href="#ç¨³å®šæ€§å»ºè®¾" class="headerlink" title="ç¨³å®šæ€§å»ºè®¾"></a>ç¨³å®šæ€§å»ºè®¾</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407220023631.png"
                      alt="image-20240722002317481"
                ></p>
<p>pdd:<br>é«˜ç«¯æœº 2s &#x3D;&gt; 0.8s<br>0.5s<br>ä½ç«¯æœº 1.2s</p>
<h2 id="npmåŒ…"><a href="#npmåŒ…" class="headerlink" title="npmåŒ…"></a>npmåŒ…</h2><p>æŸ¥çœ‹åŒ…ç‰ˆæœ¬ npm view xxx</p>
<p>peerDependencies<br>åŸºç¡€åŒ…çº¦æŸä¾èµ–åŒ…ç‰ˆæœ¬</p>
<h3 id="æ‰“åŒ…å·¥å…·å¯¹æ¯”"><a href="#æ‰“åŒ…å·¥å…·å¯¹æ¯”" class="headerlink" title="æ‰“åŒ…å·¥å…·å¯¹æ¯”"></a>æ‰“åŒ…å·¥å…·å¯¹æ¯”</h3><p>yarn npm</p>
<ul>
<li>é—®é¢˜ï¼Ÿ</li>
<li>æ…¢</li>
<li>ä½“ç§¯å¤§</li>
</ul>
<p>pnpm æ¨è</p>
<ul>
<li>å¿«</li>
<li>ä½“ç§¯å°</li>
</ul>
<h3 id="å‰ç«¯ä»“åº“ç®¡ç†å¯¹æ¯”"><a href="#å‰ç«¯ä»“åº“ç®¡ç†å¯¹æ¯”" class="headerlink" title="å‰ç«¯ä»“åº“ç®¡ç†å¯¹æ¯”"></a>å‰ç«¯ä»“åº“ç®¡ç†å¯¹æ¯”</h3><ul>
<li>Multirepo</li>
<li>Monorepo</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>JSæ¨¡å—åŒ–</title>
    <url>/Yuyang/jsModule/</url>
    <content><![CDATA[<p>JSæ¨¡å—åŒ–</p>
<h2 id="æ¨¡å—åŒ–çš„ç†è§£"><a href="#æ¨¡å—åŒ–çš„ç†è§£" class="headerlink" title="æ¨¡å—åŒ–çš„ç†è§£"></a>æ¨¡å—åŒ–çš„ç†è§£</h2><p>æ¨¡å—åŒ–ä¸»è¦è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼šå‘½åå†²çªå’Œæ–‡ä»¶ä¾èµ–ã€‚</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"> ç”Ÿæ€             è¯ç”Ÿæ—¶é—´</span><br><span class="line"> <span class="title class_">CommonJS</span>         <span class="number">2009</span>å¹´</span><br><span class="line"> <span class="title class_">Node</span>.<span class="property">js</span>          <span class="number">2009</span>å¹´   </span><br><span class="line"> <span class="variable constant_">NPM</span>              <span class="number">2010</span>å¹´   </span><br><span class="line"> requireJS(<span class="variable constant_">AMD</span>)   <span class="number">2010</span>å¹´	å¼‚æ­¥æ¨¡å—å®šä¹‰ <span class="keyword">async</span> <span class="variable language_">module</span> definition</span><br><span class="line"> <span class="title function_">seaJS</span>(<span class="variable constant_">CMD</span>)       <span class="number">2011</span>å¹´	common <span class="variable language_">module</span> define</span><br><span class="line"> broswerify       <span class="number">2011</span>å¹´</span><br><span class="line"> webpack          <span class="number">2012</span>å¹´</span><br><span class="line"> grunt            <span class="number">2012</span>å¹´ </span><br><span class="line"> gulp             <span class="number">2013</span>å¹´</span><br><span class="line"> react            <span class="number">2013</span>å¹´ </span><br><span class="line"> vue              <span class="number">2014</span>å¹´</span><br><span class="line"> <span class="title class_">ES6</span>(<span class="title class_">Module</span>)      <span class="number">2015</span>å¹´</span><br><span class="line"> angular          <span class="number">2016</span>å¹´</span><br><span class="line"> redux            <span class="number">2015</span>å¹´ </span><br><span class="line"> vite             <span class="number">2020</span>å¹´</span><br><span class="line"> snowpack         <span class="number">2020</span>å¹´  </span><br><span class="line">è·¨ç«¯ rollup truopack</span><br></pre></td></tr></table></figure></div>

<h2 id="æ¨¡å—åŒ–çš„è¿›ç¨‹"><a href="#æ¨¡å—åŒ–çš„è¿›ç¨‹" class="headerlink" title="æ¨¡å—åŒ–çš„è¿›ç¨‹"></a>æ¨¡å—åŒ–çš„è¿›ç¨‹</h2><h3 id="å…¨å±€functionæ¨¡å¼"><a href="#å…¨å±€functionæ¨¡å¼" class="headerlink" title="å…¨å±€functionæ¨¡å¼"></a>å…¨å±€functionæ¨¡å¼</h3><p>å°†ä¸åŒçš„åŠŸèƒ½å°è£…æˆä¸åŒçš„å…¨å±€å‡½æ•°<br>é—®é¢˜ï¼šæ±¡æŸ“å…¨å±€å‘½åç©ºé—´ï¼Œå®¹æ˜“å¼•èµ·å‘½åå†²çª</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">m1</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">m2</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="namespaceæ¨¡å¼"><a href="#namespaceæ¨¡å¼" class="headerlink" title="namespaceæ¨¡å¼"></a>namespaceæ¨¡å¼</h3><p>ç®€å•å¯¹è±¡å°è£…<br>ä½œç”¨ï¼šå‡å°‘äº†å…¨å±€å˜é‡ï¼Œè§£å†³å‘½åå†²çª<br>é—®é¢˜ï¼šæ•°æ®ä¸å®‰å…¨(å¤–éƒ¨å¯ä»¥ç›´æ¥ä¿®æ”¹æ¨¡å—å†…éƒ¨çš„æ•°æ®)</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> myModule = &#123;</span><br><span class="line">  <span class="attr">data</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>,</span><br><span class="line">  <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`foo() <span class="subst">$&#123;<span class="variable language_">this</span>.data&#125;</span>`</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`bar() <span class="subst">$&#123;<span class="variable language_">this</span>.data&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">myModule.<span class="property">data</span> = <span class="string">&#x27;other data&#x27;</span> <span class="comment">//èƒ½ç›´æ¥ä¿®æ”¹æ¨¡å—å†…éƒ¨çš„æ•°æ®</span></span><br><span class="line">myModule.<span class="title function_">foo</span>() <span class="comment">// foo() other data</span></span><br></pre></td></tr></table></figure></div>


<h3 id="IIFEæ¨¡å¼"><a href="#IIFEæ¨¡å¼" class="headerlink" title="IIFEæ¨¡å¼"></a>IIFEæ¨¡å¼</h3><p>immediately-invoked function expression åŒ¿åå‡½æ•°è‡ªè°ƒç”¨(é—­åŒ…)<br>ä½œç”¨ï¼šæ•°æ®æ˜¯ç§æœ‰çš„, å¤–éƒ¨åªèƒ½é€šè¿‡æš´éœ²çš„æ–¹æ³•æ“ä½œã€‚å°†æ•°æ®å’Œè¡Œä¸ºå°è£…åˆ°ä¸€ä¸ªå‡½æ•°å†…éƒ¨, é€šè¿‡ç»™windowæ·»åŠ å±æ€§æ¥å‘å¤–æš´éœ²æ¥å£<br>é—®é¢˜ï¼šå¦‚æœå½“å‰è¿™ä¸ªæ¨¡å—ä¾èµ–å¦ä¸€ä¸ªæ¨¡å—æ€ä¹ˆåŠ?</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// index.htmlæ–‡ä»¶</span></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;module.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    myModule.<span class="title function_">foo</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    myModule.<span class="title function_">bar</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">console</span>.<span class="title function_">log</span>(myModule.<span class="property">data</span>) <span class="comment">//undefined ä¸èƒ½è®¿é—®æ¨¡å—å†…éƒ¨æ•°æ®</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    myModule.<span class="property">data</span> = <span class="string">&#x27;xxxx&#x27;</span> <span class="comment">//ä¸æ˜¯ä¿®æ”¹çš„æ¨¡å—å†…éƒ¨çš„data</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    myModule.<span class="title function_">foo</span>() <span class="comment">//æ²¡æœ‰æ”¹å˜</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// module.jsæ–‡ä»¶</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> data = <span class="string">&#x27;www.baidu.com&#x27;</span></span><br><span class="line">  <span class="comment">//æ“ä½œæ•°æ®çš„å‡½æ•°</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//ç”¨äºæš´éœ²æœ‰å‡½æ•°</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`foo() <span class="subst">$&#123;data&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//ç”¨äºæš´éœ²æœ‰å‡½æ•°</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`bar() <span class="subst">$&#123;data&#125;</span>`</span>)</span><br><span class="line">    <span class="title function_">otherFun</span>() <span class="comment">//å†…éƒ¨è°ƒç”¨</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">otherFun</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//å†…éƒ¨ç§æœ‰çš„å‡½æ•°</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;otherFun()&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//æš´éœ²è¡Œä¸º</span></span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">myModule</span> = &#123; foo, bar &#125; <span class="comment">//ES6å†™æ³•</span></span><br><span class="line">&#125;)(<span class="variable language_">window</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// foo() www.baidu.com</span></span><br><span class="line"><span class="comment">// bar() www.baidu.com</span></span><br><span class="line"><span class="comment">// otehrFun()</span></span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="comment">// foo() www.baidu.com</span></span><br></pre></td></tr></table></figure></div>

<h3 id="IIFEæ¨¡å¼å¢å¼º"><a href="#IIFEæ¨¡å¼å¢å¼º" class="headerlink" title="IIFEæ¨¡å¼å¢å¼º"></a>IIFEæ¨¡å¼å¢å¼º</h3><div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// module.jsæ–‡ä»¶</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span>, $</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> data = <span class="string">&#x27;www.baidu.com&#x27;</span></span><br><span class="line">  <span class="comment">//æ“ä½œæ•°æ®çš„å‡½æ•°</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//ç”¨äºæš´éœ²æœ‰å‡½æ•°</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`foo() <span class="subst">$&#123;data&#125;</span>`</span>)</span><br><span class="line">    $(<span class="string">&#x27;body&#x27;</span>).<span class="title function_">css</span>(<span class="string">&#x27;background&#x27;</span>, <span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//ç”¨äºæš´éœ²æœ‰å‡½æ•°</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`bar() <span class="subst">$&#123;data&#125;</span>`</span>)</span><br><span class="line">    <span class="title function_">otherFun</span>() <span class="comment">//å†…éƒ¨è°ƒç”¨</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">otherFun</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//å†…éƒ¨ç§æœ‰çš„å‡½æ•°</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;otherFun()&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//æš´éœ²è¡Œä¸º</span></span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">myModule</span> = &#123; foo, bar &#125;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>, jQuery)</span><br><span class="line"></span><br><span class="line"> <span class="comment">// index.htmlæ–‡ä»¶</span></span><br><span class="line">&lt;!-- å¼•å…¥çš„jså¿…é¡»æœ‰ä¸€å®šé¡ºåº --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;jquery-1.10.1.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;module.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  myModule.foo()</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></div>
<p>è¿™æ ·åšé™¤äº†ä¿è¯æ¨¡å—çš„ç‹¬ç«‹æ€§ï¼Œè¿˜ä½¿å¾—æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»å˜å¾—æ˜æ˜¾ã€‚</p>
<h2 id="æ¨¡å—åŒ–çš„å¥½å¤„"><a href="#æ¨¡å—åŒ–çš„å¥½å¤„" class="headerlink" title="æ¨¡å—åŒ–çš„å¥½å¤„"></a>æ¨¡å—åŒ–çš„å¥½å¤„</h2><ul>
<li>é¿å…å‘½åå†²çªï¼ˆå‡å°‘å‘½åç©ºé—´æ±¡æŸ“ï¼‰</li>
<li>æ›´å¥½çš„åˆ†ç¦»ï¼ŒæŒ‰éœ€åŠ è½½</li>
<li>æ›´é«˜çš„å¤ç”¨æ€§</li>
<li>æ›´é«˜çš„å¯ç»´æŠ¤æ€§</li>
</ul>
<h3 id="å¼•å…¥å¤šä¸ªçš„é—®é¢˜"><a href="#å¼•å…¥å¤šä¸ªçš„é—®é¢˜" class="headerlink" title="å¼•å…¥å¤šä¸ªçš„é—®é¢˜"></a>å¼•å…¥å¤šä¸ª<script>çš„é—®é¢˜</h3><ul>
<li>ä¾èµ–å¼•ç”¨é¡ºåºã€ä¾èµ–æ¨¡ç³Šã€éš¾ä»¥ç»´æŠ¤<br>å› æ­¤æ‰æœ‰äº†åç»­çš„commonjs, AMD, ESM, CMDè§„èŒƒã€‚</li>
</ul>
<h2 id="æ¨¡å—åŒ–è§„èŒƒ"><a href="#æ¨¡å—åŒ–è§„èŒƒ" class="headerlink" title="æ¨¡å—åŒ–è§„èŒƒ"></a>æ¨¡å—åŒ–è§„èŒƒ</h2><h3 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h3><p>Node.jsçš„æ¨¡å—è§„èŒƒï¼ŒåŒæ­¥åŠ è½½æ¨¡å—ã€‚æ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ªæ¨¡å—æœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œæ¨¡å—å¯ä»¥é€šè¿‡module.exportså¯¼å‡ºå˜é‡ï¼Œé€šè¿‡require()æ¥å¯¼å…¥å…¶ä»–æ¨¡å—çš„è¾“å‡ºåˆ°å½“å‰æ¨¡å—ä½œç”¨åŸŸä¸­ã€‚å…¶é‡Œé¢å®šä¹‰çš„å˜é‡ã€å‡½æ•°ã€ç±»éƒ½æ˜¯ç§æœ‰çš„ï¼Œä¸ä¼šæ±¡æŸ“å…¨å±€ä½œç”¨åŸŸã€‚åœ¨æœåŠ¡å™¨ç«¯ï¼Œæ¨¡å—çš„åŠ è½½æ—¶è¿è¡Œæ—¶åŒæ­¥åŠ è½½çš„ï¼›åœ¨æµè§ˆå™¨ç«¯ï¼Œæ¨¡å—éœ€è¦æå‰ç¼–è¯‘æ‰“åŒ…ã€‚</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// example.js</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">var</span> addX = <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> value + x;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">x</span> = x;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">addX</span> = addX;</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> example = <span class="built_in">require</span>(<span class="string">&#x27;./example.js&#x27;</span>);<span class="comment">//å¦‚æœå‚æ•°å­—ç¬¦ä¸²ä»¥â€œ./â€å¼€å¤´ï¼Œåˆ™è¡¨ç¤ºåŠ è½½çš„æ˜¯ä¸€ä¸ªä½äºç›¸å¯¹è·¯å¾„</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(example.<span class="property">x</span>); <span class="comment">// 5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(example.<span class="title function_">addX</span>(<span class="number">1</span>)); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure></div>

<h4 id="æ¨¡å—çš„åŠ è½½æœºåˆ¶"><a href="#æ¨¡å—çš„åŠ è½½æœºåˆ¶" class="headerlink" title="æ¨¡å—çš„åŠ è½½æœºåˆ¶"></a>æ¨¡å—çš„åŠ è½½æœºåˆ¶</h4><p>CommonJSæ¨¡å—çš„åŠ è½½æœºåˆ¶æ˜¯ï¼Œè¾“å…¥çš„æ˜¯è¢«è¾“å‡ºçš„å€¼çš„æ‹·è´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦è¾“å‡ºä¸€ä¸ªå€¼ï¼Œæ¨¡å—å†…éƒ¨çš„å˜åŒ–å°±å½±å“ä¸åˆ°è¿™ä¸ªå€¼ã€‚</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// lib.js</span></span><br><span class="line"><span class="keyword">var</span> counter = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">incCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  counter++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">counter</span>: counter,</span><br><span class="line">  <span class="attr">incCounter</span>: incCounter,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">var</span> counter = <span class="built_in">require</span>(<span class="string">&#x27;./lib&#x27;</span>).<span class="property">counter</span>;</span><br><span class="line"><span class="keyword">var</span> incCounter = <span class="built_in">require</span>(<span class="string">&#x27;./lib&#x27;</span>).<span class="property">incCounter</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter);  <span class="comment">// 3</span></span><br><span class="line"><span class="title function_">incCounter</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure></div>

<p>å¦‚æœéœ€è¦è·å–åˆ°æ¨¡å—å†…éƒ¨å˜åŒ–åçš„å€¼ï¼Œå¯ä»¥é€šè¿‡getterå‡½æ•°æ¥è·å–ã€‚</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// lib.js</span></span><br><span class="line"><span class="keyword">var</span> counter = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">incCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  counter++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCounter</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> counter;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">counter</span>: counter,</span><br><span class="line">  <span class="attr">incCounter</span>: incCounter,</span><br><span class="line">  <span class="attr">getCounter</span>: getCounter</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">var</span> counter = <span class="built_in">require</span>(<span class="string">&#x27;./example&#x27;</span>).<span class="property">counter</span>;</span><br><span class="line"><span class="keyword">var</span> incCounter = <span class="built_in">require</span>(<span class="string">&#x27;./example&#x27;</span>).<span class="property">incCounter</span>;</span><br><span class="line"><span class="keyword">var</span> getCounter = <span class="built_in">require</span>(<span class="string">&#x27;./example&#x27;</span>).<span class="property">getCounter</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter);  <span class="comment">// 3</span></span><br><span class="line"><span class="title function_">incCounter</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter); <span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ require(&#x27;./example&#x27;).counter:&quot;</span>, <span class="title function_">getCounter</span>() ) <span class="comment">// 4</span></span><br></pre></td></tr></table></figure></div>

<h3 id="AMD-Asynchronous-Module-Definition"><a href="#AMD-Asynchronous-Module-Definition" class="headerlink" title="AMD(Asynchronous Module Definition)"></a>AMD(Asynchronous Module Definition)</h3><p>CommonJSè§„èŒƒåŠ è½½æ¨¡å—æ˜¯åŒæ­¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åŠ è½½å®Œæˆï¼Œæ‰èƒ½æ‰§è¡Œåé¢çš„æ“ä½œã€‚AMDè§„èŒƒåˆ™æ˜¯éåŒæ­¥åŠ è½½æ¨¡å—ï¼Œå…è®¸æŒ‡å®šå›è°ƒå‡½æ•°ã€‚ç”±äºNode.jsä¸»è¦ç”¨äºæœåŠ¡å™¨ç¼–ç¨‹ï¼Œæ¨¡å—æ–‡ä»¶ä¸€èˆ¬éƒ½å·²ç»å­˜åœ¨äºæœ¬åœ°ç¡¬ç›˜ï¼Œæ‰€ä»¥åŠ è½½èµ·æ¥æ¯”è¾ƒå¿«ï¼Œä¸ç”¨è€ƒè™‘éåŒæ­¥åŠ è½½çš„æ–¹å¼ï¼Œæ‰€ä»¥CommonJSè§„èŒƒæ¯”è¾ƒé€‚ç”¨ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ˜¯æµè§ˆå™¨ç¯å¢ƒï¼Œè¦ä»æœåŠ¡å™¨ç«¯åŠ è½½æ¨¡å—ï¼Œè¿™æ—¶å°±å¿…é¡»é‡‡ç”¨éåŒæ­¥æ¨¡å¼ï¼Œå› æ­¤æµè§ˆå™¨ç«¯ä¸€èˆ¬é‡‡ç”¨AMDè§„èŒƒã€‚æ­¤å¤–AMDè§„èŒƒæ¯”CommonJSè§„èŒƒåœ¨æµè§ˆå™¨ç«¯å®ç°è¦æ¥ç€æ—©ã€‚</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰æ²¡æœ‰ä¾èµ–çš„æ¨¡å—</span></span><br><span class="line"><span class="title function_">define</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">   <span class="keyword">return</span> æ¨¡å—</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰æœ‰ä¾èµ–çš„æ¨¡å—</span></span><br><span class="line"><span class="title function_">define</span>([<span class="string">&#x27;module1&#x27;</span>, <span class="string">&#x27;module2&#x27;</span>], <span class="keyword">function</span>(<span class="params">m1, m2</span>)&#123;</span><br><span class="line">   <span class="keyword">return</span> æ¨¡å—</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">require</span>([<span class="string">&#x27;module1&#x27;</span>, <span class="string">&#x27;module2&#x27;</span>], <span class="keyword">function</span>(<span class="params">m1, m2</span>)&#123;</span><br><span class="line">   ä½¿ç”¨m1/m2</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div>

<h3 id="CMD-Common-Module-Definition"><a href="#CMD-Common-Module-Definition" class="headerlink" title="CMD(Common Module Definition)"></a>CMD(Common Module Definition)</h3><p>CMDè§„èŒƒæ˜¯Sea.jsæ¨å¹¿è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ï¼ŒSea.jsæ˜¯é˜¿é‡Œçš„ç‰ä¼¯å¤§ç¥æ¨å‡ºçš„ï¼ŒSea.jsçš„æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–äº§ç”Ÿäº†å½±å“ï¼ŒCMDæ˜¯Sea.jsæ¨å¹¿è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ã€‚CMDè§„èŒƒæ˜¯ä¾èµ–å°±è¿‘ï¼Œç”¨çš„æ—¶å€™å†requireã€‚CMDè§„èŒƒæ˜¯ä¾èµ–å°±è¿‘ï¼Œç”¨çš„æ—¶å€™å†requireã€‚CMDè§„èŒƒæ˜¯ä¾èµ–å°±è¿‘ï¼Œç”¨çš„æ—¶å€™å†requireã€‚</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰æ²¡æœ‰ä¾èµ–çš„æ¨¡å—</span></span><br><span class="line"><span class="title function_">define</span>(<span class="keyword">function</span>(<span class="params"><span class="built_in">require</span>, <span class="built_in">exports</span>, <span class="variable language_">module</span></span>)&#123;</span><br><span class="line">  <span class="built_in">exports</span>.<span class="property">xxx</span> = value</span><br><span class="line">  <span class="variable language_">module</span>.<span class="property">exports</span> = value</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰æœ‰ä¾èµ–çš„æ¨¡å—</span></span><br><span class="line"><span class="title function_">define</span>(<span class="keyword">function</span>(<span class="params"><span class="built_in">require</span>, <span class="built_in">exports</span>, <span class="variable language_">module</span></span>)&#123;</span><br><span class="line">  <span class="comment">//å¼•å…¥ä¾èµ–æ¨¡å—(åŒæ­¥)</span></span><br><span class="line">  <span class="keyword">var</span> module2 = <span class="built_in">require</span>(<span class="string">&#x27;./module2&#x27;</span>)</span><br><span class="line">  <span class="comment">//å¼•å…¥ä¾èµ–æ¨¡å—(å¼‚æ­¥)</span></span><br><span class="line">    <span class="built_in">require</span>.<span class="title function_">async</span>(<span class="string">&#x27;./module3&#x27;</span>, <span class="keyword">function</span> (<span class="params">m3</span>) &#123;</span><br><span class="line">    &#125;)</span><br><span class="line">  <span class="comment">//æš´éœ²æ¨¡å—</span></span><br><span class="line">  <span class="built_in">exports</span>.<span class="property">xxx</span> = value</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥ä½¿ç”¨çš„æ¨¡å—</span></span><br><span class="line"><span class="title function_">define</span>(<span class="keyword">function</span> (<span class="params"><span class="built_in">require</span></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> m1 = <span class="built_in">require</span>(<span class="string">&#x27;./module1&#x27;</span>)</span><br><span class="line">  <span class="keyword">var</span> m4 = <span class="built_in">require</span>(<span class="string">&#x27;./module4&#x27;</span>)</span><br><span class="line">  m1.<span class="title function_">show</span>()</span><br><span class="line">  m4.<span class="title function_">show</span>()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div>

<h3 id="ES6-Module"><a href="#ES6-Module" class="headerlink" title="ES6 Module"></a>ES6 Module</h3><p>ES6æ¨¡å—æ˜¯ECMAScript 6æ ‡å‡†æ–°å¢çš„åŠŸèƒ½ï¼Œå®ƒæ˜¯JavaScriptæ¨¡å—çš„æ ‡å‡†å†™æ³•ï¼Œæ˜¯æœªæ¥JSæ¨¡å—çš„ä¸»æµæ ‡å‡†ã€‚ES6æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡exportå‘½ä»¤æ˜¾ç¤ºæŒ‡å®šè¾“å‡ºçš„ä»£ç ï¼Œå†é€šè¿‡importå‘½ä»¤è¾“å…¥ã€‚ES6æ¨¡å—è‡ªåŠ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œä¸ç®¡ä½ æœ‰æ²¡æœ‰åœ¨æ¨¡å—å¤´éƒ¨åŠ ä¸Š"use strict"ã€‚</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/** å®šä¹‰æ¨¡å— math.js /</span></span><br><span class="line"><span class="comment">var basicNum = 0;</span></span><br><span class="line"><span class="comment">var add = function (a, b) &#123;</span></span><br><span class="line"><span class="comment">    return a + b;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">export &#123; basicNum, add &#125;;</span></span><br><span class="line"><span class="comment">/ å¼•ç”¨æ¨¡å— **/</span></span><br><span class="line"><span class="keyword">import</span> &#123; basicNum, add &#125; <span class="keyword">from</span> <span class="string">&#x27;./math&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">ele</span>) &#123;</span><br><span class="line">    ele.<span class="property">textContent</span> = <span class="title function_">add</span>(<span class="number">99</span> + basicNum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// export-default.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// import-default.js</span></span><br><span class="line"><span class="keyword">import</span> customName <span class="keyword">from</span> <span class="string">&#x27;./export-default&#x27;</span>;</span><br><span class="line"><span class="title function_">customName</span>(); <span class="comment">// &#x27;foo&#x27;</span></span><br></pre></td></tr></table></figure></div>

<p>ES6æ¨¡å—ä¸CommonJSæ¨¡å—çš„å·®å¼‚ï¼š</p>
<ul>
<li>CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ŒES6 æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ã€‚</li>
<li>CommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ã€‚<br>ç¬¬äºŒä¸ªå·®å¼‚æ˜¯å› ä¸º CommonJS åŠ è½½çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆå³module.exportså±æ€§ï¼‰ï¼Œè¯¥å¯¹è±¡åªæœ‰åœ¨è„šæœ¬è¿è¡Œå®Œæ‰ä¼šç”Ÿæˆã€‚è€Œ ES6 æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œå®ƒçš„å¯¹å¤–æ¥å£åªæ˜¯ä¸€ç§é™æ€å®šä¹‰ï¼Œåœ¨ä»£ç é™æ€è§£æé˜¶æ®µå°±ä¼šç”Ÿæˆã€‚</li>
</ul>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// lib.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> counter = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">incCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  counter++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; counter, incCounter &#125; <span class="keyword">from</span> <span class="string">&#x27;./lib&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter); <span class="comment">// 3</span></span><br><span class="line"><span class="title function_">incCounter</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter); <span class="comment">// 4</span></span><br></pre></td></tr></table></figure></div>

<p>TreeShakingæ˜¯æŒ‡åœ¨æ‰“åŒ…æ—¶å»é™¤æ— ç”¨çš„ä»£ç ï¼Œåªæ‰“åŒ…éœ€è¦çš„ä»£ç ã€‚ES6æ¨¡å—é™æ€å¼•å…¥çš„ç‰¹æ€§ï¼Œä½¿å¾—TreeShakingæˆä¸ºå¯èƒ½ã€‚</p>
<h3 id="UMD-Universal-Module-Definition"><a href="#UMD-Universal-Module-Definition" class="headerlink" title="UMD(Universal Module Definition)"></a>UMD(Universal Module Definition)</h3><p>UMDæ˜¯AMDå’ŒCommonJSçš„ç³…åˆï¼Œæ—¢å¯ä»¥æ”¯æŒæµè§ˆå™¨ç«¯ï¼Œåˆå¯ä»¥æ”¯æŒæœåŠ¡å™¨ç«¯ã€‚UMDè§„èŒƒé€šå¸¸åœ¨æ¨¡å—å®šä¹‰ä¸­å…ˆåˆ¤æ–­æ˜¯å¦æ”¯æŒNode.jsæ¨¡å—ï¼ˆexportsï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™ä½¿ç”¨Node.jsæ¨¡å—æ¨¡å¼ï¼Œä¸å­˜åœ¨åˆ™åˆ¤æ–­æ˜¯å¦æ”¯æŒAMDï¼ˆdefineæ˜¯å¦å­˜åœ¨ï¼‰ï¼Œå­˜åœ¨åˆ™ä½¿ç”¨AMDæ–¹å¼åŠ è½½æ¨¡å—ã€‚</p>
<div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params">root, factory</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">module</span> === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="keyword">typeof</span> <span class="variable language_">module</span>.<span class="property">exports</span> === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ˜¯commonjsæ¨¡å—è§„èŒƒï¼Œnodejsç¯å¢ƒ&#x27;</span>)</span><br><span class="line">        <span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">factory</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> define === <span class="string">&#x27;function&#x27;</span> &amp;&amp; define.<span class="property">amd</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ˜¯AMDæ¨¡å—è§„èŒƒï¼Œå¦‚require.js&#x27;</span>)</span><br><span class="line">        <span class="title function_">define</span>(factory)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> define === <span class="string">&#x27;function&#x27;</span> &amp;&amp; define.<span class="property">cmd</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ˜¯CMDæ¨¡å—è§„èŒƒï¼Œå¦‚sea.js&#x27;</span>)</span><br><span class="line">        <span class="title function_">define</span>(<span class="keyword">function</span>(<span class="params"><span class="built_in">require</span>, <span class="built_in">exports</span>, <span class="variable language_">module</span></span>) &#123;</span><br><span class="line">            <span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">factory</span>()</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ²¡æœ‰æ¨¡å—ç¯å¢ƒï¼Œç›´æ¥æŒ‚è½½åœ¨å…¨å±€å¯¹è±¡ä¸Š&#x27;</span>)</span><br><span class="line">        root.<span class="property">umdModule</span> = <span class="title function_">factory</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;(<span class="variable language_">this</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;æˆ‘æ˜¯ä¸€ä¸ªumdæ¨¡å—&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure></div>]]></content>
  </entry>
  <entry>
    <title>RSAå‰ç«¯jsåŠ å¯† åç«¯javaè§£å¯†</title>
    <url>/Yuyang/rsa/</url>
    <content><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯RSAåŠ å¯†"><a href="#ä»€ä¹ˆæ˜¯RSAåŠ å¯†" class="headerlink" title="ä»€ä¹ˆæ˜¯RSAåŠ å¯†"></a>ä»€ä¹ˆæ˜¯RSAåŠ å¯†</h1><p>RSAåŠ å¯†æ˜¯ä¸€ç§éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œå…¶å…·ä½“å®ç°å¦‚ä¸‹ï¼š<br>1ã€é€‰æ‹©ä¸¤ä¸ªä¸ç›¸ç­‰çš„è´¨æ•°på’Œqï¼Œè®¡ç®—n&#x3D;p<em>q<br>2ã€è®¡ç®—nçš„æ¬§æ‹‰å‡½æ•°Ï†(n)&#x3D;(p-1)</em>(q-1)<br>3ã€é€‰æ‹©ä¸€ä¸ªæ•´æ•°eï¼Œ1&lt;e&lt;Ï†(n)ï¼Œä¸”eä¸Ï†(n)äº’è´¨<br>4ã€è®¡ç®—d, ä½¿å¾—(d*e)modÏ†(n)&#x3D;1<br>5ã€å…¬é’¥æ˜¯(n, e)ï¼Œç§é’¥æ˜¯(n, d)<br>6ã€åŠ å¯†æ—¶ï¼Œå°†æ˜æ–‡m^e mod nï¼Œè§£å¯†æ—¶ï¼Œå°†å¯†æ–‡c^d mod n</p>
<p>ä¾‹å¦‚å…¬é’¥(n, e) &#x3D; (33, 3)ï¼Œç§é’¥(n, d) &#x3D; (33, 7)ï¼Œæ˜æ–‡m &#x3D; 24ï¼ŒåŠ å¯†åçš„å¯†æ–‡c &#x3D; 24^3 mod 33 &#x3D; 24ï¼Œè§£å¯†åçš„æ˜æ–‡m &#x3D; 24^7 mod 33 &#x3D; 24</p>
<p>p &#x3D; 11, q &#x3D; 3, n &#x3D; 33, Ï†(n) &#x3D; 20, e &#x3D; 3, d &#x3D; 7</p>
<h2 id="å‰ç«¯jsåŠ å¯†"><a href="#å‰ç«¯jsåŠ å¯†" class="headerlink" title="å‰ç«¯jsåŠ å¯†"></a>å‰ç«¯jsåŠ å¯†</h2><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">npm install jsencrypt</span><br><span class="line">npm install node-forge</span><br></pre></td></tr></table></figure></div>
<h3 id="ç”Ÿæˆå…¬é’¥å’Œç§é’¥"><a href="#ç”Ÿæˆå…¬é’¥å’Œç§é’¥" class="headerlink" title="ç”Ÿæˆå…¬é’¥å’Œç§é’¥"></a>ç”Ÿæˆå…¬é’¥å’Œç§é’¥</h3><div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> forge <span class="keyword">from</span> <span class="string">&#x27;node-forge&#x27;</span></span><br><span class="line"><span class="comment">// ç”ŸæˆRSAå¯†é’¥å¯¹</span></span><br><span class="line"><span class="keyword">const</span> &#123; privateKey, publicKey &#125; = forge.<span class="property">pki</span>.<span class="property">rsa</span>.<span class="title function_">generateKeyPair</span>(<span class="number">1024</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è½¬æ¢å…¬é’¥å’Œç§é’¥ä¸ºPEMæ ¼å¼å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">const</span> publicKeyPem = forge.<span class="property">pki</span>.<span class="title function_">publicKeyToPem</span>(publicKey);</span><br><span class="line"><span class="keyword">const</span> privateKeyPem = forge.<span class="property">pki</span>.<span class="title function_">privateKeyToPem</span>(privateKey);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Public Key:&#x27;</span>, publicKeyPem);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Private Key:&#x27;</span>, privateKeyPem);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆçš„å…¬é’¥å’Œç§é’¥</span></span><br><span class="line"><span class="comment">// å…¬é’¥</span></span><br><span class="line"><span class="comment">// -----BEGIN PUBLIC KEY-----</span></span><br><span class="line"><span class="comment">// MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCjXq96Iz4+TShUSGkPO2LpCWue</span></span><br><span class="line"><span class="comment">// C56FQoEFGZqx/7F6JIqLdF8qA773iPk1qbqSbtYPzu3lCOXWxDl99bI+aIKEJPDp</span></span><br><span class="line"><span class="comment">// cGM4QbMwDhYN2WgUHbnaAPJOLpCvf2S+COG3HRQMarMvTX2PVujIhi44EfOPPJ5f</span></span><br><span class="line"><span class="comment">// lf6KAddjsiCBi85x7wIDAQAB</span></span><br><span class="line"><span class="comment">// -----END PUBLIC KEY-----</span></span><br><span class="line"><span class="comment">// ç§é’¥</span></span><br><span class="line"><span class="comment">// -----BEGIN RSA PRIVATE KEY-----</span></span><br><span class="line"><span class="comment">// MIICXAIBAAKBgQCjXq96Iz4+TShUSGkPO2LpCWueC56FQoEFGZqx/7F6JIqLdF8q</span></span><br><span class="line"><span class="comment">// A773iPk1qbqSbtYPzu3lCOXWxDl99bI+aIKEJPDpcGM4QbMwDhYN2WgUHbnaAPJO</span></span><br><span class="line"><span class="comment">// LpCvf2S+COG3HRQMarMvTX2PVujIhi44EfOPPJ5flf6KAddjsiCBi85x7wIDAQAB</span></span><br><span class="line"><span class="comment">// AoGAUfw9gcTYAroD6DAikSNTYvF4UWsxVVznlKCh0nwoG8zkvlFbRKF2n5Dcx8Jy</span></span><br><span class="line"><span class="comment">// v/PhdzN4jX0mot38oCrCFbGq9UoohUYo0tKKroWjV6Tz2Cbfv/9/GGi6I3nrn409</span></span><br><span class="line"><span class="comment">// hh9LzyRoIddLRaBBL91bZZ7OKF9G98Ya27y3teUM1MfX5uECQQDcD6dtZsNTjqFm</span></span><br><span class="line"><span class="comment">// haWKlcvEB3z/+brgwMFU53g0PLhfCTD7dXfh83Sc9zcrMDMYAnM6bDBTKrMet6LV</span></span><br><span class="line"><span class="comment">// M33OmyURAkEAvgzf6luLFHlQZ8T8CpPRMOcfYrn6qnVBeZ5FsQx+Le84rqk3Tcv+</span></span><br><span class="line"><span class="comment">// mXqhjJia49J2n6qlSRyiY5loos6A64Qm/wJASY5p9mWNEJbyWCSACuy7KZEfNSiy</span></span><br><span class="line"><span class="comment">// UIHdnZWpVjydnBakasj/A2WvKvBvXl5EFdhrz7FuDb6OFMxo/z6w5KhzIQJAZVHB</span></span><br><span class="line"><span class="comment">// 0lRpikm+twPKhu0VOmgNUHnsDBIlDOx3JROO9XgylNM726rkmfhJxgXZlZmviiHU</span></span><br><span class="line"><span class="comment">// qmysmkLACQPksSqsCwJBAJVEcG3gonm0BGmZiMDmwwP0M7grYTOUHDAVDJV1u1cB</span></span><br><span class="line"><span class="comment">// hYoV6mr5ZDBOMMIMroIHorcuYdqEKfiV8ulHc8hxBmo=</span></span><br><span class="line"><span class="comment">// -----END RSA PRIVATE KEY-----</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h3 id="å‰ç«¯åŠ å¯†"><a href="#å‰ç«¯åŠ å¯†" class="headerlink" title="å‰ç«¯åŠ å¯†"></a>å‰ç«¯åŠ å¯†</h3><div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Encrypt</span> <span class="keyword">from</span> <span class="string">&#x27;jsencrypt&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> publulicKey = <span class="string">`-----BEGIN PUBLIC KEY-----</span></span><br><span class="line"><span class="string">MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCjXq96Iz4+TShUSGkPO2LpCWue</span></span><br><span class="line"><span class="string">C56FQoEFGZqx/7F6JIqLdF8qA773iPk1qbqSbtYPzu3lCOXWxDl99bI+aIKEJPDp</span></span><br><span class="line"><span class="string">cGM4QbMwDhYN2WgUHbnaAPJOLpCvf2S+COG3HRQMarMvTX2PVujIhi44EfOPPJ5f</span></span><br><span class="line"><span class="string">lf6KAddjsiCBi85x7wIDAQAB</span></span><br><span class="line"><span class="string">-----END PUBLIC KEY-----`</span>;</span><br><span class="line"><span class="keyword">const</span> encryptor = <span class="keyword">new</span> <span class="title class_">Encrypt</span>();</span><br><span class="line">encryptor.<span class="title function_">setPublicKey</span>(publulicKey);</span><br><span class="line"><span class="keyword">const</span> data = &#123;</span><br><span class="line">  <span class="attr">password</span>: <span class="string">&#x27;123456&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> encrypted = encryptor.<span class="title function_">encrypt</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ encrypted:&quot;</span>, encrypted)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ğŸš€ ~ encrypted: HFzmziwImUXYOfVDy2RnlFm73rjWRQ/sacZ/hV7/XEATCaIjQdTbIPeH3iy+Kc6rIRJRp42LKMWLGq0x2pBdHauCEbJeKDGF3t3RXKk+AM/CFsODv3rXwXt4ArDMkhrtDg7ha6Zgr4jIqvkhauV9hVrB34RUK4jRBw8gBO9rmoM=</span></span><br></pre></td></tr></table></figure></div>

<h3 id="åç«¯è§£å¯†"><a href="#åç«¯è§£å¯†" class="headerlink" title="åç«¯è§£å¯†"></a>åç«¯è§£å¯†</h3><div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> org.bouncycastle.jce.provider.BouncyCastleProvider;</span><br><span class="line"><span class="keyword">import</span> org.bouncycastle.util.io.pem.PemObject;</span><br><span class="line"><span class="keyword">import</span> org.bouncycastle.util.io.pem.PemReader;</span><br><span class="line"><span class="keyword">import</span> javax.crypto.Cipher;</span><br><span class="line"><span class="keyword">import</span> java.io.StringReader;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"><span class="keyword">import</span> java.security.KeyFactory;</span><br><span class="line"><span class="keyword">import</span> java.security.PrivateKey;</span><br><span class="line"><span class="keyword">import</span> java.security.Security;</span><br><span class="line"><span class="keyword">import</span> java.security.spec.PKCS8EncodedKeySpec;</span><br><span class="line"><span class="keyword">import</span> java.util.Base64;</span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EncryptService</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">RSA_KEY_SIZE</span> <span class="operator">=</span> <span class="number">1024</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">CHUNK_SIZE</span> <span class="operator">=</span> RSA_KEY_SIZE / <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testRsa</span><span class="params">(String encryptedData)</span>&#123;</span><br><span class="line">        System.out.println(encryptedData);</span><br><span class="line">        Security.addProvider(<span class="keyword">new</span> <span class="title class_">BouncyCastleProvider</span>());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">privateKeyStr</span> <span class="operator">=</span> <span class="string">&quot; -----BEGIN RSA PRIVATE KEY-----\n&quot;</span> +</span><br><span class="line">                    <span class="string">&quot; MIICXAIBAAKBgQCjXq96Iz4+TShUSGkPO2LpCWueC56FQoEFGZqx/7F6JIqLdF8q\n&quot;</span> +</span><br><span class="line">                    <span class="string">&quot; A773iPk1qbqSbtYPzu3lCOXWxDl99bI+aIKEJPDpcGM4QbMwDhYN2WgUHbnaAPJO\n&quot;</span> +</span><br><span class="line">                    <span class="string">&quot; LpCvf2S+COG3HRQMarMvTX2PVujIhi44EfOPPJ5flf6KAddjsiCBi85x7wIDAQAB\n&quot;</span> +</span><br><span class="line">                    <span class="string">&quot; AoGAUfw9gcTYAroD6DAikSNTYvF4UWsxVVznlKCh0nwoG8zkvlFbRKF2n5Dcx8Jy\n&quot;</span> +</span><br><span class="line">                    <span class="string">&quot; v/PhdzN4jX0mot38oCrCFbGq9UoohUYo0tKKroWjV6Tz2Cbfv/9/GGi6I3nrn409\n&quot;</span> +</span><br><span class="line">                    <span class="string">&quot; hh9LzyRoIddLRaBBL91bZZ7OKF9G98Ya27y3teUM1MfX5uECQQDcD6dtZsNTjqFm\n&quot;</span> +</span><br><span class="line">                    <span class="string">&quot; haWKlcvEB3z/+brgwMFU53g0PLhfCTD7dXfh83Sc9zcrMDMYAnM6bDBTKrMet6LV\n&quot;</span> +</span><br><span class="line">                    <span class="string">&quot; M33OmyURAkEAvgzf6luLFHlQZ8T8CpPRMOcfYrn6qnVBeZ5FsQx+Le84rqk3Tcv+\n&quot;</span> +</span><br><span class="line">                    <span class="string">&quot; mXqhjJia49J2n6qlSRyiY5loos6A64Qm/wJASY5p9mWNEJbyWCSACuy7KZEfNSiy\n&quot;</span> +</span><br><span class="line">                    <span class="string">&quot; UIHdnZWpVjydnBakasj/A2WvKvBvXl5EFdhrz7FuDb6OFMxo/z6w5KhzIQJAZVHB\n&quot;</span> +</span><br><span class="line">                    <span class="string">&quot; 0lRpikm+twPKhu0VOmgNUHnsDBIlDOx3JROO9XgylNM726rkmfhJxgXZlZmviiHU\n&quot;</span> +</span><br><span class="line">                    <span class="string">&quot; qmysmkLACQPksSqsCwJBAJVEcG3gonm0BGmZiMDmwwP0M7grYTOUHDAVDJV1u1cB\n&quot;</span> +</span><br><span class="line">                    <span class="string">&quot; hYoV6mr5ZDBOMMIMroIHorcuYdqEKfiV8ulHc8hxBmo=\n&quot;</span> +</span><br><span class="line">                    <span class="string">&quot; -----END RSA PRIVATE KEY-----&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="type">PrivateKey</span> <span class="variable">privateKey</span> <span class="operator">=</span> getPrivateKeyFromPem(privateKeyStr);</span><br><span class="line">            <span class="type">String</span> <span class="variable">decryptedData</span> <span class="operator">=</span> decryptData(encryptedData, privateKey);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å°†è§£å¯†åçš„ Base64 ç¼–ç å­—ç¬¦ä¸²è½¬æ¢å›åŸå§‹çš„ JSON å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">//            byte[] decodedBytes = Base64.getDecoder().decode(decryptedData);</span></span><br><span class="line"><span class="comment">//            String jsonString = new String(decodedBytes, StandardCharsets.UTF_8);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//            System.out.println(&quot;Decrypted Data: &quot; + jsonString);</span></span><br><span class="line">            System.out.println(<span class="string">&quot;Decrypted Data: &quot;</span> + decryptedData);</span><br><span class="line"><span class="comment">//            System.out.println(java.net.URLDecoder.decode(decryptedData ,&quot;UTF-8&quot;));</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> PrivateKey <span class="title function_">getPrivateKeyFromPem</span><span class="params">(String pemString)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"><span class="comment">//        PemReader pemReader = new PemReader(new StringReader(pemString));</span></span><br><span class="line"><span class="comment">//        PemObject pemObject = pemReader.readPemObject();</span></span><br><span class="line"><span class="comment">//        byte[] keyBytes = pemObject.getContent();</span></span><br><span class="line"><span class="comment">//        pemReader.close();</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(keyBytes);</span></span><br><span class="line"><span class="comment">//        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);</span></span><br><span class="line"><span class="comment">//        return keyFactory.generatePrivate(keySpec);</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">privateKeyPEM</span> <span class="operator">=</span> pemString</span><br><span class="line">                .replace(<span class="string">&quot;-----BEGIN RSA PRIVATE KEY-----&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">                .replace(<span class="string">&quot;-----END RSA PRIVATE KEY-----&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">                .replaceAll(<span class="string">&quot;\\s&quot;</span>, <span class="string">&quot;&quot;</span>); <span class="comment">// åˆ é™¤æ‰€æœ‰ç©ºæ ¼å’Œæ¢è¡Œ</span></span><br><span class="line"></span><br><span class="line">        <span class="type">byte</span>[] encoded = Base64.getDecoder().decode(privateKeyPEM);</span><br><span class="line">        <span class="type">KeyFactory</span> <span class="variable">keyFactory</span> <span class="operator">=</span> KeyFactory.getInstance(<span class="string">&quot;RSA&quot;</span>);</span><br><span class="line">        <span class="type">PKCS8EncodedKeySpec</span> <span class="variable">keySpec</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PKCS8EncodedKeySpec</span>(encoded);</span><br><span class="line">        <span class="keyword">return</span> keyFactory.generatePrivate(keySpec);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">decryptData</span><span class="params">(String encryptedData, PrivateKey privateKey)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Cipher</span> <span class="variable">cipher</span> <span class="operator">=</span> Cipher.getInstance(<span class="string">&quot;RSA/ECB/PKCS1Padding&quot;</span>);</span><br><span class="line">        cipher.init(Cipher.DECRYPT_MODE, privateKey);</span><br><span class="line"></span><br><span class="line">        <span class="type">byte</span>[] encryptedBytes = Base64.getDecoder().decode(encryptedData);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Ensure the buffer is large enough to hold all decrypted chunks</span></span><br><span class="line">        <span class="type">byte</span>[] decryptedBytes = <span class="keyword">new</span> <span class="title class_">byte</span>[encryptedBytes.length];</span><br><span class="line">        <span class="type">int</span> <span class="variable">decryptedLength</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; encryptedBytes.length; i += CHUNK_SIZE) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">chunkLength</span> <span class="operator">=</span> Math.min(CHUNK_SIZE, encryptedBytes.length - i);</span><br><span class="line">            <span class="type">byte</span>[] chunk = <span class="keyword">new</span> <span class="title class_">byte</span>[chunkLength];</span><br><span class="line">            System.arraycopy(encryptedBytes, i, chunk, <span class="number">0</span>, chunkLength);</span><br><span class="line">            <span class="type">byte</span>[] decryptedChunk = cipher.doFinal(chunk);</span><br><span class="line">            System.arraycopy(decryptedChunk, <span class="number">0</span>, decryptedBytes, decryptedLength, decryptedChunk.length);</span><br><span class="line">            decryptedLength += decryptedChunk.length;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(decryptedBytes, <span class="number">0</span>, decryptedLength, StandardCharsets.UTF_8);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h4 id="å­˜åœ¨çš„é—®é¢˜-å½“å‰ç«¯è§£å¯†ä¿¡æ¯è¶…é•¿æ—¶jsencryptåº“æ— æ³•åˆ†æ®µåŠ å¯†"><a href="#å­˜åœ¨çš„é—®é¢˜-å½“å‰ç«¯è§£å¯†ä¿¡æ¯è¶…é•¿æ—¶jsencryptåº“æ— æ³•åˆ†æ®µåŠ å¯†" class="headerlink" title="å­˜åœ¨çš„é—®é¢˜ å½“å‰ç«¯è§£å¯†ä¿¡æ¯è¶…é•¿æ—¶jsencryptåº“æ— æ³•åˆ†æ®µåŠ å¯†"></a>å­˜åœ¨çš„é—®é¢˜ å½“å‰ç«¯è§£å¯†ä¿¡æ¯è¶…é•¿æ—¶jsencryptåº“æ— æ³•åˆ†æ®µåŠ å¯†</h4><div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å°†æ•°æ®æ›¿æ¢ä¸ºä»¥ä¸‹æ•°æ®å³ä¼šæ˜¾ç¤ºMessage too long for RSA åŸå› ï¼šRSA åŠ å¯†ç®—æ³•å¯¹å•ä¸ªæ¶ˆæ¯å—çš„é•¿åº¦æœ‰é™åˆ¶ã€‚è¿™æ˜¯å› ä¸º RSA åŠ å¯†ä½¿ç”¨å…¬é’¥å¯¹æ¶ˆæ¯è¿›è¡ŒåŠ å¯†ï¼Œè€Œæ¶ˆæ¯çš„é•¿åº¦ä¸èƒ½è¶…è¿‡å¯†é’¥çš„é•¿åº¦å‡å»å¡«å……å­—èŠ‚æ•°ã€‚å› æ­¤å¯¹äº 1024 ä½ï¼ˆ128 å­—èŠ‚ï¼‰çš„ RSA å¯†é’¥ï¼Œæœ€å¤§æ¶ˆæ¯é•¿åº¦ä¸ºï¼š128 - 11 - 3 = 128 - 14 = 117</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = &#123;</span><br><span class="line">  <span class="attr">code</span>: <span class="number">200</span>,</span><br><span class="line">  <span class="attr">result</span>: &#123;</span><br><span class="line">    <span class="attr">timestamp</span>: <span class="number">1572321851823</span>,</span><br><span class="line">    <span class="attr">inter1</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">inter2</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">inter3</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">inter4</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">inter5</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123s123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">inter6</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">stream</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">caton</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">card</span>: [],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>

<p>è§£å†³æ–¹æ³•ä½¿ç”¨encryptlongåº“</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">npm install encryptlong</span><br></pre></td></tr></table></figure></div>

<p>éªŒè¯</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">JSEncrypt</span> <span class="keyword">from</span> <span class="string">&#x27;encryptlong&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> publulicKey = <span class="string">`-----BEGIN PUBLIC KEY-----</span></span><br><span class="line"><span class="string">MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCjXq96Iz4+TShUSGkPO2LpCWue</span></span><br><span class="line"><span class="string">C56FQoEFGZqx/7F6JIqLdF8qA773iPk1qbqSbtYPzu3lCOXWxDl99bI+aIKEJPDp</span></span><br><span class="line"><span class="string">cGM4QbMwDhYN2WgUHbnaAPJOLpCvf2S+COG3HRQMarMvTX2PVujIhi44EfOPPJ5f</span></span><br><span class="line"><span class="string">lf6KAddjsiCBi85x7wIDAQAB</span></span><br><span class="line"><span class="string">-----END PUBLIC KEY-----`</span>;</span><br><span class="line"><span class="keyword">const</span> encryptor = <span class="keyword">new</span> <span class="title class_">JSEncrypt</span>();</span><br><span class="line">encryptor.<span class="title function_">setPublicKey</span>(publulicKey);</span><br><span class="line"><span class="comment">// const data = &#123;</span></span><br><span class="line"><span class="comment">//   password: &#x27;123456&#x27;,</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">  <span class="attr">code</span>: <span class="number">200</span>,</span><br><span class="line">  <span class="attr">result</span>: &#123;</span><br><span class="line">    <span class="attr">timestamp</span>: <span class="number">1572321851823</span>,</span><br><span class="line">    <span class="attr">inter1</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">inter2</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">inter3</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">inter4</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">inter5</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123s123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">inter6</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">stream</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">caton</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">card</span>: [],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> encrypted = encryptor.<span class="title function_">encryptLong</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ encrypted:&quot;</span>, encrypted)</span><br></pre></td></tr></table></figure></div>

<p>åç«¯å¯ä»¥è§£æ but å½“å†…å®¹è¿‡é•¿ä¸”å‡ºç°ä¸­æ–‡æ—¶åç«¯å°±ä¼šè§£æå¤±è´¥ğŸ˜­ ä¾‹å¦‚åŠ å¯†è¾“å…¥æ”¹ä¸ºï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">  <span class="attr">code</span>: <span class="number">200</span>,</span><br><span class="line">  <span class="attr">result</span>: &#123;</span><br><span class="line">    <span class="attr">timestamp</span>: <span class="number">1572321851823</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;å®‡é˜³&quot;</span>,</span><br><span class="line">    <span class="attr">inter1</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">inter2</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">inter3</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">inter4</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">inter5</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123s123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">inter6</span>: [</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;123123123&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">stream</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">caton</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">card</span>: [],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>

<p>åç«¯è§£ææŠ¥é”™</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202408042344886.png"
                      alt="image-20240804234409275"
                ></p>
<p>åŸå› æ’æŸ¥ æºç è§£æ</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202408050036985.png"
                      alt="image-20240805001758724"
                ></p>
<p><strong>PKCS#1 v1.5 å¡«å……æ–¹æ¡ˆ</strong></p>
<p>PKCS#1 v1.5 æ˜¯ä¸€ç§å¡«å……æ–¹æ¡ˆï¼Œç”¨äºç¡®ä¿ RSA åŠ å¯†çš„å®‰å…¨æ€§å’Œä¸€è‡´æ€§ã€‚å®ƒåœ¨åŠ å¯†å‰å¯¹æ•°æ®è¿›è¡Œå¡«å……ï¼Œä»¥ç¡®ä¿å¡«å……åçš„æ•°æ®é•¿åº¦ä¸ RSA å¯†é’¥é•¿åº¦ç›¸åŒ¹é…ã€‚å…·ä½“å¡«å……æ ¼å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">0x00</span> || <span class="number">0x02</span> || <span class="variable constant_">PS</span> || <span class="number">0x00</span> || D</span><br></pre></td></tr></table></figure></div>

<p>ä»£ç ä¸­ä½“ç°</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202408050036260.png"
                      alt="image-20240805001918947"
                ></p>
<p>ä¸­æ–‡é—®é¢˜ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202408050036574.png"
                      alt="image-20240805003508983"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202408050037323.png"
                      alt="image-20240805003620646"
                ></p>
<p>å½“å‡ºç°ä¸­æ–‡æ—¶ç”±äºå…¶å 3ä¸ªå­—ç¬¦ æ‰€ä»¥ä¼šå¯¼è‡´ä¼ å…¥çš„baæ•°ç»„å‡ºç°è´Ÿç´¢å¼•çš„æƒ…å†µ å¯¼è‡´åç»­è§£å¯†å¤±è´¥</p>
<p><a class="link"   href="https://www.npmjs.com/package/jsencrypt-ext" >https://www.npmjs.com/package/jsencrypt-ext <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>ä½¿ç”¨è¿™ä½å¤§å“¥æ”¹è¿›çš„ä»£ç å°±å¯ä»¥ï¼Œä½†æ˜¯æˆ‘åœ¨ä½¿ç”¨å…¶æ‰“åŒ…æ„å»ºåçš„æ–‡ä»¶scriptå¯¼å…¥ä»æœ‰é—®é¢˜ã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>æ­£åˆ™è¡¨è¾¾å¼</title>
    <url>/Yuyang/reg/</url>
    <content><![CDATA[<h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h2><p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§ç”¨æ¥åŒ¹é…å­—ç¬¦ä¸²çš„å¼ºæœ‰åŠ›çš„æ­¦å™¨ã€‚å®ƒçš„è®¾è®¡æ€æƒ³æ˜¯ç”¨ä¸€ç§æè¿°æ€§çš„è¯­è¨€æ¥ç»™å­—ç¬¦ä¸²å®šä¹‰ä¸€ä¸ªè§„åˆ™ï¼Œå‡¡æ˜¯ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºå®ƒâ€œåŒ¹é…â€äº†ï¼Œå¦åˆ™ï¼Œè¯¥å­—ç¬¦ä¸²å°±æ˜¯ä¸åˆæ³•çš„ã€‚å…·æœ‰å¼ºå¤§çš„æ¨¡å¼åŒ¹é…å’Œæ–‡æœ¬æ£€ç´¢ä¸æ›¿æ¢åŠŸèƒ½ã€‚</p>
<h2 id="æ­£åˆ™è¡¨è¾¾å¼çš„å®šä¹‰"><a href="#æ­£åˆ™è¡¨è¾¾å¼çš„å®šä¹‰" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼çš„å®šä¹‰"></a>æ­£åˆ™è¡¨è¾¾å¼çš„å®šä¹‰</h2><p>åœ¨ JavaScript ä¸­ï¼Œå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼ï¼š</p>
<ol>
<li><p><strong>æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡</strong>ï¼š ä½¿ç”¨ä¸€å¯¹æ–œæ ï¼ˆ<code>/</code>ï¼‰åŒ…å›´æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ã€‚</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="regexp">/pattern/</span>flags;</span><br></pre></td></tr></table></figure></div>

<p>ä¾‹å¦‚ï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="regexp">/hello/i</span>;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p><strong>RegExp æ„é€ å‡½æ•°</strong>ï¼š ä½¿ç”¨ <code>RegExp</code> æ„é€ å‡½æ•°æ¥åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;pattern&#x27;</span>, <span class="string">&#x27;flags&#x27;</span>);</span><br></pre></td></tr></table></figure></div>

<p>ä¾‹å¦‚ï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;i&#x27;</span>);</span><br></pre></td></tr></table></figure></div></li>
</ol>
<h2 id="æ­£åˆ™è¡¨è¾¾å¼çš„æ ‡å¿—ï¼ˆFlagsï¼‰"><a href="#æ­£åˆ™è¡¨è¾¾å¼çš„æ ‡å¿—ï¼ˆFlagsï¼‰" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼çš„æ ‡å¿—ï¼ˆFlagsï¼‰"></a>æ­£åˆ™è¡¨è¾¾å¼çš„æ ‡å¿—ï¼ˆFlagsï¼‰</h2><p>æ­£åˆ™è¡¨è¾¾å¼æ ‡å¿—ç”¨äºä¿®æ”¹æ­£åˆ™è¡¨è¾¾å¼çš„è¡Œä¸ºã€‚å¸¸è§çš„æ ‡å¿—åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>g</code>ï¼šå…¨å±€æœç´¢ï¼ˆglobal searchï¼‰ã€‚</li>
<li><code>i</code>ï¼šä¸åŒºåˆ†å¤§å°å†™æœç´¢ï¼ˆcase-insensitive searchï¼‰ã€‚</li>
<li><code>m</code>ï¼šå¤šè¡Œæœç´¢ï¼ˆmulti-line searchï¼‰ã€‚</li>
<li><code>s</code>ï¼šå…è®¸ç‚¹å·ï¼ˆ<code>.</code>ï¼‰åŒ¹é…æ¢è¡Œç¬¦ï¼ˆnewline charactersï¼‰ã€‚</li>
<li><code>u</code>ï¼šå¯ç”¨ Unicode åŒ¹é…ã€‚</li>
<li><code>y</code>ï¼šç²˜æ€§åŒ¹é…ï¼ˆsticky searchï¼‰ï¼Œä»ç›®æ ‡å­—ç¬¦ä¸²çš„å½“å‰ä½ç½®å¼€å§‹åŒ¹é…ã€‚</li>
</ul>
<h2 id="å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æ–¹æ³•"><a href="#å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æ–¹æ³•" class="headerlink" title="å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æ–¹æ³•"></a>å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æ–¹æ³•</h2><p>1ã€**<code>test()</code>**ï¼š æµ‹è¯•å­—ç¬¦ä¸²ä¸­æ˜¯å¦å­˜åœ¨ä¸æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼åŒ¹é…çš„æ–‡æœ¬ï¼Œè¿”å›å¸ƒå°”å€¼ã€‚</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="regexp">/hello/</span>;</span><br><span class="line"><span class="keyword">let</span> result = regex.<span class="title function_">test</span>(<span class="string">&#x27;hello world&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></div>

<p>2ã€**<code>exec()</code>**ï¼š æœç´¢å­—ç¬¦ä¸²ä¸­ä¸æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼åŒ¹é…çš„æ–‡æœ¬ï¼Œè¿”å›ä¸€ä¸ªç»“æœæ•°ç»„æˆ– <code>null</code>ã€‚</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="regexp">/hello/</span>;</span><br><span class="line"><span class="keyword">let</span> result = regex.<span class="title function_">exec</span>(<span class="string">&#x27;hello world&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">// [&quot;hello&quot;]</span></span><br></pre></td></tr></table></figure></div>

<h2 id="æ­£åˆ™è¡¨è¾¾å¼çš„åŸºæœ¬æ¨¡å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼çš„åŸºæœ¬æ¨¡å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼çš„åŸºæœ¬æ¨¡å¼"></a>æ­£åˆ™è¡¨è¾¾å¼çš„åŸºæœ¬æ¨¡å¼</h2><p><strong>å­—ç¬¦ç±»</strong>ï¼š</p>
<ul>
<li><code>.</code>ï¼šåŒ¹é…é™¤æ¢è¡Œç¬¦å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚</li>
<li><code>\d</code>ï¼šåŒ¹é…ä¸€ä¸ªæ•°å­—ï¼ˆ0-9ï¼‰ã€‚</li>
<li><code>\D</code>ï¼šåŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦ã€‚</li>
<li><code>\w</code>ï¼šåŒ¹é…ä¸€ä¸ªå­—æ¯ã€æ•°å­—æˆ–ä¸‹åˆ’çº¿å­—ç¬¦ã€‚</li>
<li><code>\W</code>ï¼šåŒ¹é…ä¸€ä¸ªéå­—æ¯ã€æ•°å­—æˆ–ä¸‹åˆ’çº¿å­—ç¬¦ã€‚</li>
<li><code>\s</code>ï¼šåŒ¹é…ä¸€ä¸ªç©ºç™½å­—ç¬¦ï¼ˆåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ç­‰ï¼‰ã€‚</li>
<li><code>\S</code>ï¼šåŒ¹é…ä¸€ä¸ªéç©ºç™½å­—ç¬¦ã€‚</li>
</ul>
<p><strong>è¾¹ç•ŒåŒ¹é…</strong>ï¼š</p>
<ul>
<li><code>^</code>ï¼šåŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹ã€‚</li>
<li><code>$</code>ï¼šåŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸã€‚</li>
<li><code>\b</code>ï¼šåŒ¹é…å•è¯è¾¹ç•Œã€‚</li>
<li><code>\B</code>ï¼šåŒ¹é…éå•è¯è¾¹ç•Œã€‚</li>
</ul>
<p><strong>é‡è¯</strong>ï¼š</p>
<ul>
<li><code>*</code>ï¼šåŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦ 0 æ¬¡æˆ–å¤šæ¬¡ã€‚</li>
<li><code>+</code>ï¼šåŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦ 1 æ¬¡æˆ–å¤šæ¬¡ã€‚</li>
<li><code>?</code>ï¼šåŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦ 0 æ¬¡æˆ– 1 æ¬¡ã€‚</li>
<li><code>&#123;n&#125;</code>ï¼šåŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦æ°å¥½ n æ¬¡ã€‚</li>
<li><code>&#123;n,&#125;</code>ï¼šåŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦è‡³å°‘ n æ¬¡ã€‚</li>
<li><code>&#123;n,m&#125;</code>ï¼šåŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦è‡³å°‘ n æ¬¡ï¼Œä½†ä¸è¶…è¿‡ m æ¬¡ã€‚</li>
</ul>
<p><strong>ä»€ä¹ˆæ˜¯è´ªå©ªåŒ¹é…å’Œéè´ªå©ªåŒ¹é…</strong>ï¼š</p>
<h3 id="è´ªå©ªåŒ¹é…"><a href="#è´ªå©ªåŒ¹é…" class="headerlink" title="è´ªå©ªåŒ¹é…"></a>è´ªå©ªåŒ¹é…</h3><p><strong>è´ªå©ªåŒ¹é…ï¼ˆGreedy Matchingï¼‰</strong> ä¼šå°½å¯èƒ½å¤šåœ°åŒ¹é…å­—ç¬¦ã€‚è¿™æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„é»˜è®¤è¡Œä¸ºã€‚</p>
<p>ä¾‹å¦‚ï¼Œè€ƒè™‘ä»¥ä¸‹æ­£åˆ™è¡¨è¾¾å¼å’Œå­—ç¬¦ä¸²ï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="regexp">/a.*b/</span>;</span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;aabab&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> match = str.<span class="title function_">match</span>(regex);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(match[<span class="number">0</span>]); <span class="comment">// &quot;aabab&quot;</span></span><br></pre></td></tr></table></figure></div>

<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>.*</code> æ˜¯è´ªå©ªçš„ï¼Œå®ƒä¼šå°è¯•åŒ¹é…å°½å¯èƒ½å¤šçš„å­—ç¬¦ï¼Œä»¥ä½¿æ•´ä¸ªè¡¨è¾¾å¼åŒ¹é…æˆåŠŸã€‚å› æ­¤ï¼Œå®ƒä»ç¬¬ä¸€ä¸ª <code>a</code> å¼€å§‹ï¼Œç›´åˆ°æœ€åä¸€ä¸ª <code>b</code> æ‰åœæ­¢åŒ¹é…ã€‚</p>
<p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œâ€œè´ªå©ªåŒ¹é…â€å’Œâ€œéè´ªå©ªåŒ¹é…â€æ˜¯ç”¨äºæè¿°é‡å¤é‡è¯ï¼ˆå¦‚ <code>*</code>, <code>+</code>, <code>?</code>, <code>&#123;&#125;</code>ï¼‰çš„ä¸¤ç§ä¸åŒè¡Œä¸ºã€‚</p>
<h3 id="è´ªå©ªåŒ¹é…-1"><a href="#è´ªå©ªåŒ¹é…-1" class="headerlink" title="è´ªå©ªåŒ¹é…"></a>è´ªå©ªåŒ¹é…</h3><p><strong>è´ªå©ªåŒ¹é…ï¼ˆGreedy Matchingï¼‰</strong> ä¼šå°½å¯èƒ½å¤šåœ°åŒ¹é…å­—ç¬¦ã€‚è¿™æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„é»˜è®¤è¡Œä¸ºã€‚</p>
<p>ä¾‹å¦‚ï¼Œè€ƒè™‘ä»¥ä¸‹æ­£åˆ™è¡¨è¾¾å¼å’Œå­—ç¬¦ä¸²ï¼š</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">javascript</span><br><span class="line">å¤åˆ¶ä»£ç </span><br><span class="line">let regex = /a.*b/;</span><br><span class="line">let str = &quot;aabab&quot;;</span><br><span class="line">let match = str.match(regex);</span><br><span class="line">console.log(match[0]); // &quot;aabab&quot;</span><br></pre></td></tr></table></figure></div>

<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>.*</code> æ˜¯è´ªå©ªçš„ï¼Œå®ƒä¼šå°è¯•åŒ¹é…å°½å¯èƒ½å¤šçš„å­—ç¬¦ï¼Œä»¥ä½¿æ•´ä¸ªè¡¨è¾¾å¼åŒ¹é…æˆåŠŸã€‚å› æ­¤ï¼Œå®ƒä»ç¬¬ä¸€ä¸ª <code>a</code> å¼€å§‹ï¼Œç›´åˆ°æœ€åä¸€ä¸ª <code>b</code> æ‰åœæ­¢åŒ¹é…ã€‚</p>
<h3 id="éè´ªå©ªåŒ¹é…"><a href="#éè´ªå©ªåŒ¹é…" class="headerlink" title="éè´ªå©ªåŒ¹é…"></a>éè´ªå©ªåŒ¹é…</h3><p><strong>éè´ªå©ªåŒ¹é…ï¼ˆNon-Greedy Matchingï¼‰</strong>ï¼Œä¹Ÿç§°ä¸ºâ€œæ‡’æƒ°åŒ¹é…ï¼ˆLazy Matchingï¼‰â€ï¼Œä¼šå°½å¯èƒ½å°‘åœ°åŒ¹é…å­—ç¬¦ã€‚ä½¿ç”¨ <code>?</code> æ¥è¡¨ç¤ºéè´ªå©ªåŒ¹é…ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè€ƒè™‘ä»¥ä¸‹æ­£åˆ™è¡¨è¾¾å¼å’Œå­—ç¬¦ä¸²ï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="regexp">/a.*?b/</span>;</span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;aabab&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> match = str.<span class="title function_">match</span>(regex);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(match[<span class="number">0</span>]); <span class="comment">// &quot;aab&quot;</span></span><br></pre></td></tr></table></figure></div>

<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>.*?</code> æ˜¯éè´ªå©ªçš„ï¼Œå®ƒä¼šå°½å¯èƒ½å°‘åœ°åŒ¹é…å­—ç¬¦ã€‚å› æ­¤ï¼Œå®ƒä»ç¬¬ä¸€ä¸ª <code>a</code> å¼€å§‹ï¼ŒåŒ¹é…åˆ°ç¬¬ä¸€ä¸ª <code>b</code> å°±åœæ­¢åŒ¹é…ã€‚</p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3>]]></content>
  </entry>
  <entry>
    <title>webpack ä¸ æ‰“åŒ…å·¥å…·å¼€å‘</title>
    <url>/Yuyang/webpack/</url>
    <content><![CDATA[<h1 id="webpack-ä¸-æ‰“åŒ…å·¥å…·å¼€å‘"><a href="#webpack-ä¸-æ‰“åŒ…å·¥å…·å¼€å‘" class="headerlink" title="webpack ä¸ æ‰“åŒ…å·¥å…·å¼€å‘"></a>webpack ä¸ æ‰“åŒ…å·¥å…·å¼€å‘</h1><h2 id="webpackæ ¸å¿ƒé…ç½®"><a href="#webpackæ ¸å¿ƒé…ç½®" class="headerlink" title="webpackæ ¸å¿ƒé…ç½®"></a>webpackæ ¸å¿ƒé…ç½®</h2><h3 id="Entry"><a href="#Entry" class="headerlink" title="Entry"></a>Entry</h3><h3 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h3><h3 id="Plugin"><a href="#Plugin" class="headerlink" title="Plugin"></a>Plugin</h3><h3 id="MiniCssExtractPlugin"><a href="#MiniCssExtractPlugin" class="headerlink" title="MiniCssExtractPlugin"></a>MiniCssExtractPlugin</h3><p>ç”¨äºæå–cssæ ·å¼å†…å®¹</p>
<h3 id="Resolve"><a href="#Resolve" class="headerlink" title="Resolve"></a>Resolve</h3><p>ç”¨äºè§£æ</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><h2 id="gruntã€gulp-15ã€16å¹´"><a href="#gruntã€gulp-15ã€16å¹´" class="headerlink" title="gruntã€gulp 15ã€16å¹´"></a>gruntã€gulp 15ã€16å¹´</h2><h2 id="æ–°æ™‹æ‰“åŒ…å·¥å…·"><a href="#æ–°æ™‹æ‰“åŒ…å·¥å…·" class="headerlink" title="æ–°æ™‹æ‰“åŒ…å·¥å…·"></a>æ–°æ™‹æ‰“åŒ…å·¥å…·</h2><h3 id="å‘å±•å²"><a href="#å‘å±•å²" class="headerlink" title="å‘å±•å²"></a>å‘å±•å²</h3><p>1ã€2009ï¼Œcommonjsï¼ŒModules&#x2F;1.0ï¼›<br>2ã€2011ï¼Œä¸ºcommonjså¼•å…¥å¼‚æ­¥åŠ è½½ç‰¹æ€§ï¼ŒModule&#x2F;Transfer&#x2F;C ææ¡ˆï¼Œç‹¬ç«‹æˆAMDè§„èŒƒï¼›<br>3ã€2013ï¼Œgruntã€gulpï¼ŒåŸºäºä»»åŠ¡çš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼›<br>4ã€2014ï¼Œå®šä¹‰è·¨å¹³å°çš„æ¨¡å—è§„èŒƒï¼Œå®šä¹‰äº†ä¸€ä¸ªæ–°çš„è§„èŒƒï¼Œå«åšUMDï¼›<br>5ã€2014ï¼Œå°†ES6 -&gt; ES5çš„å·¥å…·ï¼Œå‘½åä¸ºbabelï¼›<br>6ã€2014ï¼Œsystemjsé—®ä¸–ï¼Œç®€åŒ–äº†æ¨¡å—åŠ è½½å’Œå¤„ç†çš„è¿‡ç¨‹ï¼›<br>7ã€2014ï¼ŒWebpacké—®ä¸–ï¼ŒåŸºäºæ¨¡å—åŒ–çš„æ‰“åŒ…å·¥å…·ï¼›<br>8ã€2015ï¼Œæ­£å¼ES6ï¼ˆECMAScript 2015ï¼‰è§„èŒƒæ­£å¼å‘å¸ƒ<br>9ã€2015ï¼ŒRollupï¼Œå› ä¸ºES6çš„å‘å¸ƒï¼Œå€Ÿç”¨ESModulï¼Œæå‡ºäº†tree-shakingçš„æ¦‚å¿µï¼›<br>10ã€2017ï¼Œwebpacké€æ¸è®©äººåŒå€¦ï¼ŒParcelé—®ä¸–ï¼Œé›¶é…ç½®çš„æ‰“åŒ…å·¥å…·ï¼›<br>11ã€2019ï¼Œsnowpackå‡ºç° node_modulesè½¬ESMæ„å»ºå·¥å…·å‡ºç°ï¼›<br>12ã€2020ï¼Œæµè§ˆå™¨å¯¹äºESMå’ŒHTTP2çš„æ›´å…¨é¢åŒ–æ”¯æŒï¼Œbundlelessæ€è·¯å‡ºç°ï¼ŒESBuildï¼Œå‡ºç°åœ¨å¤§ä¼—è§†é‡<br>13ã€2021ï¼ŒViteå‘å¸ƒ</p>
<p>é˜¶æ®µåˆ†ä¸ºï¼š<br>1ã€åˆç‰ˆæ„å»ºå·¥å…·ï¼šgruntï¼ˆtaskï¼‰ã€gulpï¼ˆflowï¼‰<br>2ã€webpack<br>3ã€åŸºäºwebpackæ€ç»´ï¼Œæ‰©å±•ä¸€äº›æ–°å…´æ„å»ºå·¥å…·<br>4ã€bundlelessæ„å»ºå·¥å…·<br>5ã€æ­£åœ¨è¿›è¡Œæ—¶ï¼ŒåŸºäºRustçš„å‰ç«¯å·¥å…·é“¾é‡æ„ï¼ˆswcã€rspackï¼‰</p>
<h3 id="grunt-11å¹´"><a href="#grunt-11å¹´" class="headerlink" title="grunt 11å¹´"></a>grunt 11å¹´</h3><p>åŸºäºTaskçš„æ„å»ºå·¥å…·ï¼Œå¯¹åº”ä»»åŠ¡çš„é…ç½®ï¼Œæˆ‘ä»¬é€šè¿‡Pluginsæ¥å®Œæˆ</p>
<h3 id="gulp"><a href="#gulp" class="headerlink" title="gulp"></a>gulp</h3><p>é€šè¿‡å®šä¹‰Taskä¸Flowï¼Œè‡ªå®šä¹‰æ‰“åŒ…æ„å»ºæµç¨‹</p>
<h2 id="æ„å»ºåŸºçŸ³-Webpack"><a href="#æ„å»ºåŸºçŸ³-Webpack" class="headerlink" title="æ„å»ºåŸºçŸ³ Webpack"></a>æ„å»ºåŸºçŸ³ Webpack</h2><h2 id="è¡ç”Ÿå‡ºrollupã€parcel"><a href="#è¡ç”Ÿå‡ºrollupã€parcel" class="headerlink" title="è¡ç”Ÿå‡ºrollupã€parcel"></a>è¡ç”Ÿå‡ºrollupã€parcel</h2><p>çªç ´æ€§çš„æ„å»ºå·¥å…·<br>goã€rustæ¥å»ç¼–å†™æ„å»ºå·¥å…·<br>webpack+babel æ¯”è¾ƒå—äººè¯Ÿç—…</p>
<h3 id="ESBuild"><a href="#ESBuild" class="headerlink" title="ESBuild"></a>ESBuild</h3><p>jsç¼–è¯‘å¼•æ“v8ï¼Œv8å¼•æ“æ˜¯åŸºäºC++ç¼–å†™çš„<br>jså±äºè§£é‡Šæ€§è¯­è¨€ï¼Œgoè¯­è¨€æ˜¯ç¼–è¯‘å‹è¯­è¨€ä¸å­˜åœ¨ç¼–è¯‘æ—¶çš„å¼€é”€ï¼Œåªæœ‰è¿è¡Œæ—¶ï¼Œæ‰€ä»¥é€Ÿåº¦å¿«<br>åŸºäºGoè¯­è¨€ï¼Œé€Ÿåº¦å¿«ï¼Œä½†æ˜¯åŠŸèƒ½ä¸å¤Ÿå®Œå–„ å¤šçº¿ç¨‹</p>
<p>åœ¨webpackã€rollupä½¿ç”¨ä¸­ï¼Œç›¸å…³çš„ä¾èµ–æˆ‘ä»¬éœ€è¦ç¬¬ä¸‰æ–¹åº“æ¥æ”¯æŒ</p>
<ul>
<li>babelæ¥å»è½¬è¯‘å’Œæ£€æŸ¥</li>
<li>eslintæ¥å»æ£€æŸ¥</li>
<li>tsc å®ç°tsçš„è½¬è¯‘å’Œæ£€æŸ¥</li>
<li>lessã€sassè¿™äº›éƒ½éœ€è¦é¢„å¤„ç†å™¨å·¥å…·æ¥å®Œæˆ</li>
</ul>
<h3 id="swc"><a href="#swc" class="headerlink" title="swc"></a>swc</h3><h3 id="Vite"><a href="#Vite" class="headerlink" title="Vite"></a>Vite</h3><p>å‡ å¤§ç‰¹ç‚¹</p>
<p>1ã€å†·å¯åŠ¨<br>2ã€å¿«é€Ÿçƒ­æ›´æ–°<br>3ã€bundleless<br>4ã€ä¼˜åŒ–æ„å»º</p>
<p>ç‰¹æ€§è¯´æ˜ï¼š<br>1ã€å¼€å‘ç¯å¢ƒå†·å¯åŠ¨ï¼Œæ„å»ºåŸºäºESBuildï¼Œçº¿ä¸Šäº§ç‰©æ„å»º rollup<br>2ã€æœ¬åœ°HMRï¼Œåšäº†å¾ˆå¤šä¼˜åŒ–ï¼Œwebpackæ˜¯ä¸æ˜¯éœ€è¦åˆ†æä¾èµ–å›¾ï¼ˆè€—æ—¶çš„ï¼‰ï¼Œå› ä¸ºå¼€å‘ç¯å¢ƒESMæ–¹å¼è¯·æ±‚èµ„æºæ–‡ä»¶<br>3ã€é…ç½®ç®€å•ï¼Œæ¯”parcelè¿˜æ˜¯å¤æ‚ç‚¹</p>
<p>åŒºåˆ†ç¯å¢ƒæ„å»º</p>
<ul>
<li>å¼€å‘ç¯å¢ƒ esbuildï¼Œbundlelessæ–¹æ¡ˆè¿›è¡Œæ„å»º</li>
<li>å¼€å‘ç¯å¢ƒ rollup</li>
</ul>
<p>å¦‚æœä½ æƒ³åœ¨ä½ç‰ˆæœ¬æµè§ˆå™¨è°ƒè¯•ï¼Œä¸å¥½æ„æ€ï¼Œviteä¸æ”¯æŒï¼Œå› ä¸ºviteæ˜¯åŸºäºESMçš„ï¼Œä½ç‰ˆæœ¬æµè§ˆå™¨ä¸æ”¯æŒESM</p>
<p>çƒ­æ›´æ–°åŸç†</p>
<p>å»ºç«‹é•¿é“¾æ¥ï¼Œwebsocket</p>
<p>vite&#x2F;client æ’å…¥åˆ°å®¢æˆ·ç«¯<br>vite websocket æœåŠ¡</p>
<p>æµè§ˆå™¨çš„çƒ­æ›´æ–°éœ€è¦ç»“åˆï¼Œå®šä¹‰ä¸€äº›äº‹ä»¶æ¥å¤„ç†ï¼šconnectã€disconnectã€message<br>vite&#x2F;client ä¼šç›‘å¬æ–‡ä»¶å˜åŒ–ï¼Œç„¶åé€šçŸ¥viteæœåŠ¡ï¼ŒviteæœåŠ¡ä¼šæ¨é€åˆ°å®¢æˆ·ç«¯</p>
<p>turbopack</p>
]]></content>
  </entry>
</search>
