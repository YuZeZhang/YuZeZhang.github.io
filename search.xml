<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>MAC å†…ç½‘ç©¿é€ cpolar</title>
    <url>/Yuyang/cpolar/</url>
    <content><![CDATA[<blockquote>
<p>ä»‹ç»å¦‚ä½•é€šè¿‡ä½¿ç”¨cpolaræ¥å®Œæˆå°†å†…ç½‘ä¸‹çš„æœ¬åœ°æœåŠ¡å™¨é€šè¿‡å®‰å…¨éš§é“æš´éœ²è‡³å…¬ç½‘ï¼Œå®Œæˆå…¬ç½‘æ­£å¸¸è®¿é—®å†…ç½‘æœåŠ¡ã€‚ç›®å‰æˆ‘çš„æœ¬åœ°webæœåŠ¡åªèƒ½åœ¨å±€åŸŸç½‘å†…è®¿é—®ï¼Œä½¿ç”¨cpolarå†…ç½‘ç©¿é€å¯ä»¥å°†æœ¬åœ°æœåŠ¡æ˜ å°„åˆ°å…¬ç½‘ï¼Œå®ç°å…¬ç½‘ç”¨æˆ·ä¹Ÿå¯ä»¥è®¿é—®åˆ°æœ¬åœ°æœåŠ¡ï¼Œæ— éœ€å…¬ç½‘IPï¼Œä¹Ÿæ— éœ€è®¾ç½®è·¯ç”±å™¨ã€‚<br>cpolarå®˜ç½‘ï¼š<a class="link"   href="https://www.cpolar.com/" >https://www.cpolar.com <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</blockquote>
<h2 id="1ã€å®‰è£…é…ç½®cpolar"><a href="#1ã€å®‰è£…é…ç½®cpolar" class="headerlink" title="1ã€å®‰è£…é…ç½®cpolar"></a>1ã€å®‰è£…é…ç½®cpolar</h2><ul>
<li>é€šè¿‡HomebrewåŒ…ç®¡ç†å™¨å®‰è£…cpolar</li>
</ul>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">brew tap probezy/core &amp;&amp; brew install cpolar</span><br></pre></td></tr></table></figure></div>

<ul>
<li>tokenè®¤è¯ï¼šåœ¨cpolarå®˜ç½‘åå°çš„éªŒè¯åˆå¤åˆ¶è‡ªå·±çš„token</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232255851.png"
                      alt="img"
                ></p>
<p>cpolar authtoken xxx</p>
<p>Â Â Â Â Â Â Â Â Â xxxå¤„ç”¨å¤åˆ¶çš„tokenä»£æ›¿</p>
<ul>
<li><p>å®‰è£…cpolaræœåŠ¡</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo cpolar service install</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="2ã€ä½¿ç”¨cpolar"><a href="#2ã€ä½¿ç”¨cpolar" class="headerlink" title="2ã€ä½¿ç”¨cpolar"></a>2ã€ä½¿ç”¨cpolar</h2><ul>
<li><p>å¯åŠ¨æœåŠ¡</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo cpolar service start</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>cpolar web UIç®¡ç†ç•Œé¢</p>
<p>Â è®¿é—®æœ¬åœ°9200ç«¯å£ã€<a class="link"   href="http://127.0.0.1:9200/%E3%80%91%EF%BC%8C%E4%BD%BF%E7%94%A8cpolar%E8%B4%A6%E5%8F%B7%E7%99%BB%E5%BD%95%E3%80%82" >http://127.0.0.1:9200/ã€‘ï¼Œä½¿ç”¨cpolarè´¦å·ç™»å½•ã€‚ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232257170.png"
                      alt="img"
                ></p>
<p>Â Â Â Â Â Â Â Â Â å¯åœ¨UIç•Œé¢ä¸­æŸ¥çœ‹è‡ªå·±çš„éš§é“ä¿¡æ¯ ä»¥åŠç¼–è¾‘ã€å¯åŠ¨ã€åœæ­¢å’Œåˆ é™¤ã€‚å…¶ä¸­çŠ¶æ€åˆ—è¡¨ä¸‹çš„çš„åœ¨çº¿éš§é“åˆ—è¡¨æ˜¾ç¤ºäº†ç›®å‰çš„å…¬ç½‘åœ°å€å’Œæœ¬åœ°åœ°å€æ˜ å°„å…³ç³»ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232257753.png"
                      alt="img"
                ></p>
<ul>
<li><p>Â å…¬ç½‘è¯·æ±‚æµ‹è¯•ã€‚</p>
<p> Â  Â  å¯å€ŸåŠ©APIFOXåœ¨çº¿æµ‹è¯•ã€‚å®˜ç½‘åœ°å€ï¼š<a class="link"   href="https://apifox.com/" >https://apifox.com <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232258155.png"
                      alt="img"
                ></p>
<p>Â æ ¹æ®è‡ªå·±æƒ…å†µå¡«å†™ã€‚ç¤ºä¾‹ä¸­çš„æ¥å£åœ°å€ä¸º&#x2F;model</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232258116.png"
                      alt="img"
                ></p>
<p>Â Â Â Â Â Â Â Â è¯·æ±‚æˆåŠŸğŸ‰Â </p>
<ul>
<li>Â åœæ­¢æœåŠ¡</li>
</ul>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo cpolar service stop</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>æ³¨æ„âš ï¸ï¼šåœæ­¢åå†å¯åŠ¨ï¼Œå…è´¹ç‰ˆçš„åŸŸåä¼šå‘ç”Ÿå˜åŒ–éœ€è¦é‡æ–°è®¾ç½®ï¼ŒåŠæ—¶æ›´æ–°ã€‚ </p>
</blockquote>
<p>Referenceï¼š<a class="link"   href="https://www.cpolar.com/blog/cpolar-quick-start-tutorial-macos-series" >https://www.cpolar.com/blog/cpolar-quick-start-tutorial-macos-series <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
  </entry>
  <entry>
    <title>å‰ç«¯è·¯ç”±hashå’Œhistory</title>
    <url>/Yuyang/hash_history/</url>
    <content><![CDATA[<p>å‰ç«¯è·¯ç”±hashå’Œhistory</p>
<h2 id="hashæ¨¡å¼"><a href="#hashæ¨¡å¼" class="headerlink" title="hashæ¨¡å¼"></a>hashæ¨¡å¼</h2><p>ä½¿ç”¨window.location.hashå±æ€§ä»¥åŠonhashchangeäº‹ä»¶ï¼Œå®ç°ç›‘å¬æµè§ˆå™¨åœ°å€çš„hashå€¼å˜åŒ–ï¼Œæ‰§è¡Œç›¸åº”çš„jsåˆ‡æ¢ç½‘é¡µ</p>
<table>
<thead>
<tr>
<th align="center">å±æ€§</th>
<th align="center">å«ä¹‰</th>
<th align="center">ä¾‹å­</th>
</tr>
</thead>
<tbody><tr>
<td align="center">location.href</td>
<td align="center">å®Œæ•´çš„URLå­—ç¬¦ä¸²</td>
<td align="center"><a class="link"   href="https://www.example.com:8080/pathname/?search=test#hash" >https://www.example.com:8080/pathname/?search=test#hash <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
</tr>
<tr>
<td align="center">location.protocol</td>
<td align="center">åè®®éƒ¨åˆ†</td>
<td align="center">https:</td>
</tr>
<tr>
<td align="center">location.hostname</td>
<td align="center">ä¸»æœºå</td>
<td align="center"><a class="link"   href="http://www.example.com/" >www.example.com <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
</tr>
<tr>
<td align="center">location.port</td>
<td align="center">ç«¯å£å·</td>
<td align="center">8080</td>
</tr>
<tr>
<td align="center">location.host</td>
<td align="center">ä¸»æœºåå’Œç«¯å£å·</td>
<td align="center"><a class="link"   href="http://www.example.com:8080/" >www.example.com:8080 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
</tr>
<tr>
<td align="center">location.pathname</td>
<td align="center">è·¯å¾„éƒ¨åˆ†</td>
<td align="center">&#x2F;post&#x2F;6993840419041706014</td>
</tr>
<tr>
<td align="center">location.search</td>
<td align="center">æŸ¥è¯¢å­—ç¬¦ä¸²éƒ¨åˆ†</td>
<td align="center">?search&#x3D;test</td>
</tr>
<tr>
<td align="center">location.hash</td>
<td align="center">å“ˆå¸Œå€¼</td>
<td align="center">#hash</td>
</tr>
</tbody></table>
<p>window.locationè¿˜æä¾›äº†ä¸€äº›æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th align="center">æ–¹æ³•</th>
<th align="center">å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center">location.assign(url)</td>
<td align="center">åŠ è½½æŒ‡å®šçš„URL</td>
</tr>
<tr>
<td align="center">location.replace(url)</td>
<td align="center">æ›¿æ¢å½“å‰çš„ URLï¼Œä½†ä¸ä¼šåœ¨å†å²è®°å½•ä¸­åˆ›å»ºæ–°çš„æ¡ç›®ã€‚å³ç”¨æˆ·æ— æ³•é€šè¿‡æµè§ˆå™¨çš„â€œåé€€â€æŒ‰é’®è¿”å›åˆ°ä¹‹å‰çš„é¡µé¢ã€‚</td>
</tr>
<tr>
<td align="center">location.reload(forceReload)</td>
<td align="center">é‡æ–°åŠ è½½å½“å‰é¡µé¢ã€‚forceReload å‚æ•°ä¸º true æ—¶ä¼šå¼ºåˆ¶ä»æœåŠ¡å™¨é‡æ–°åŠ è½½é¡µé¢ï¼ˆè€Œä¸æ˜¯ä»ç¼“å­˜ä¸­åŠ è½½ï¼‰ã€‚</td>
</tr>
<tr>
<td align="center">location.toString()</td>
<td align="center">è¿”å›å½“å‰ URL çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚</td>
</tr>
</tbody></table>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–å½“å‰ URL çš„å„ç§éƒ¨åˆ†</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>);      <span class="comment">// è¾“å‡ºå®Œæ•´çš„ URL</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">protocol</span>);  <span class="comment">// è¾“å‡ºåè®®éƒ¨åˆ†</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">host</span>);      <span class="comment">// è¾“å‡ºä¸»æœºå’Œç«¯å£å·</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">hostname</span>);  <span class="comment">// è¾“å‡ºä¸»æœºå</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">port</span>);      <span class="comment">// è¾“å‡ºç«¯å£å·</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span>);  <span class="comment">// è¾“å‡ºè·¯å¾„</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span>);    <span class="comment">// è¾“å‡ºæŸ¥è¯¢å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">hash</span>);      <span class="comment">// è¾“å‡ºå“ˆå¸Œ</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">origin</span>);    <span class="comment">// è¾“å‡ºæº URL</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ”¹å˜ URL å¹¶é‡æ–°åŠ è½½é¡µé¢</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = <span class="string">&#x27;https://www.example.com&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›¿æ¢å½“å‰ URLï¼Œä¸ä¼šåœ¨å†å²è®°å½•ä¸­åˆ›å»ºæ–°çš„æ¡ç›®</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">location</span>.<span class="title function_">replace</span>(<span class="string">&#x27;https://www.example.com&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡æ–°åŠ è½½é¡µé¢</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">location</span>.<span class="title function_">reload</span>();     <span class="comment">// ä»ç¼“å­˜ä¸­é‡æ–°åŠ è½½</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">location</span>.<span class="title function_">reload</span>(<span class="literal">true</span>); <span class="comment">// å¼ºåˆ¶ä»æœåŠ¡å™¨é‡æ–°åŠ è½½</span></span><br></pre></td></tr></table></figure></div>



<h2 id="historyæ¨¡å¼"><a href="#historyæ¨¡å¼" class="headerlink" title="historyæ¨¡å¼"></a>historyæ¨¡å¼</h2><p>History APIæ˜¯H5æä¾›çš„æ–°ç‰¹æ€§ï¼Œå…è®¸å¼€å‘è€…ç›´æ¥æ›´æ”¹å‰ç«¯è·¯ç”±ï¼Œå³æ›´æ–°æµè§ˆå™¨URLåœ°å€è€Œä¸é‡æ–°å‘èµ·è¯·æ±‚ã€‚å®ƒè¡¨ç¤ºå½“å‰çª—å£çš„æµè§ˆå†å²ã€‚å½“å‘ç”Ÿæ”¹å˜æ—¶ï¼Œåªä¼šæ”¹å˜é¡µé¢çš„è·¯å¾„ï¼Œä¸ä¼šåˆ·æ–°é¡µé¢ã€‚ History å¯¹è±¡ä¿å­˜äº†å½“å‰çª—å£è®¿é—®è¿‡çš„æ‰€æœ‰é¡µé¢ç½‘å€ã€‚é€šè¿‡ history.length å¯ä»¥å¾—å‡ºå½“å‰çª—å£ä¸€å…±è®¿é—®è¿‡å‡ ä¸ªç½‘å€ã€‚ ç”±äºå®‰å…¨åŸå› ï¼Œæµè§ˆå™¨ä¸å…è®¸è„šæœ¬è¯»å–è¿™äº›åœ°å€ï¼Œä½†æ˜¯å…è®¸åœ¨åœ°å€ä¹‹é—´å¯¼èˆªã€‚ æµè§ˆå™¨å·¥å…·æ çš„â€œå‰è¿›â€å’Œâ€œåé€€â€æŒ‰é’®ï¼Œå…¶å®å°±æ˜¯å¯¹ History å¯¹è±¡è¿›è¡Œæ“ä½œã€‚</p>
<table>
<thead>
<tr>
<th align="center">å±æ€§</th>
<th align="center">å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center">history.length</td>
<td align="center">å†å²è®°å½•ä¸­çš„æ¡ç›®æ•°</td>
</tr>
<tr>
<td align="center">history.state</td>
<td align="center">å†å²è®°å½•æ¡ç›®çš„çŠ¶æ€å¯¹è±¡</td>
</tr>
</tbody></table>
<p>window.history è¿˜æä¾›äº†ä¸€äº›æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th align="center">æ–¹æ³•</th>
<th align="center">å«ä¹‰</th>
<th>ä¾‹å­</th>
</tr>
</thead>
<tbody><tr>
<td align="center">history.pushState(state, title, url)</td>
<td align="center">å°†ä¸€ä¸ªçŠ¶æ€å¯¹è±¡æ·»åŠ åˆ°å†å²è®°å½•æ ˆä¸­</td>
<td>window.history.pushState({ page: 1 }, â€œtitle 1â€, â€œ&#x2F;page1â€);</td>
</tr>
<tr>
<td align="center">history.replaceState(state, title, url)</td>
<td align="center">ä¿®æ”¹å½“å‰å†å²è®°å½•æ¡ç›®çš„çŠ¶æ€å¯¹è±¡ã€æ ‡é¢˜å’Œ URL</td>
<td>window.history.replaceState({ page: 2 }, â€œtitle 2â€, â€œ&#x2F;page2â€);</td>
</tr>
<tr>
<td align="center">history.back()</td>
<td align="center">åŠ è½½å†å²è®°å½•åˆ—è¡¨ä¸­çš„å‰ä¸€ä¸ª URLï¼Œä¸ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨çš„åé€€æŒ‰é’®ç›¸åŒã€‚</td>
<td>window.history.back();</td>
</tr>
<tr>
<td align="center">history.forward()</td>
<td align="center">åŠ è½½å†å²è®°å½•åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ª URLï¼Œä¸ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨çš„å‰è¿›æŒ‰é’®ç›¸åŒã€‚</td>
<td>window.history.forward();</td>
</tr>
<tr>
<td align="center">history.go(delta)</td>
<td align="center">æ ¹æ® delta å€¼åŠ è½½å†å²è®°å½•ä¸­çš„ç‰¹å®šé¡µé¢ã€‚delta: ä¸ºæ­£å€¼æ—¶å‰è¿›ï¼Œä¸ºè´Ÿå€¼æ—¶åé€€ã€‚</td>
<td>window.history.go(-1); &#x2F;&#x2F; åé€€ä¸€é¡µ<br/>window.history.go(1);  &#x2F;&#x2F; å‰è¿›ä¸€é¡µ</td>
</tr>
</tbody></table>
<h2 id="historyä»£ç å®ç°"><a href="#historyä»£ç å®ç°" class="headerlink" title="historyä»£ç å®ç°"></a>historyä»£ç å®ç°</h2><div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CustomHistory</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">stack</span> = [];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">currentIndex</span> = -<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">pushState</span>(<span class="params">state, title, url</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">currentIndex</span> &lt; <span class="variable language_">this</span>.<span class="property">stack</span>.<span class="property">length</span> - <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">stack</span> = <span class="variable language_">this</span>.<span class="property">stack</span>.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">currentIndex</span> + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">stack</span>.<span class="title function_">push</span>(&#123; state, title, url &#125;);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">currentIndex</span>++;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">updateUrl</span>(url);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">replaceState</span>(<span class="params">state, title, url</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">currentIndex</span> &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">stack</span>[<span class="variable language_">this</span>.<span class="property">currentIndex</span>] = &#123; state, title, url &#125;;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">updateUrl</span>(url);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">pushState</span>(state, title, url);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">go</span>(<span class="params">index</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> newIndex = <span class="variable language_">this</span>.<span class="property">currentIndex</span> + index;</span><br><span class="line">    <span class="keyword">if</span> (newIndex &gt;= <span class="number">0</span> &amp;&amp; newIndex &lt; <span class="variable language_">this</span>.<span class="property">stack</span>.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">currentIndex</span> = newIndex;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">back</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">currentIndex</span> &gt; <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">currentIndex</span>--;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">applyState</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">forward</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">currentIndex</span> &lt; <span class="variable language_">this</span>.<span class="property">stack</span>.<span class="property">length</span> - <span class="number">1</span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">currentIndex</span>++;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">applyState</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">applyState</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> currentState = <span class="variable language_">this</span>.<span class="property">stack</span>[<span class="variable language_">this</span>.<span class="property">currentIndex</span>];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">updateUrl</span>(currentState.<span class="property">url</span>);</span><br><span class="line">    <span class="comment">// this.dispatchPopStaet(currentState);</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">updateUrl</span>(<span class="params">url</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ CustomHistory ~ updateUrl ~ url:&quot;</span>, url)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">dispatchPopStaet</span>(<span class="params">state</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> event = <span class="keyword">new</span> <span class="title class_">CustomEvent</span>(<span class="string">&#x27;popstate&#x27;</span>, &#123; <span class="attr">detail</span>: state &#125;);</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">dispatchEvent</span>(event);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage example:</span></span><br><span class="line"><span class="keyword">const</span> customHistory = <span class="keyword">new</span> <span class="title class_">CustomHistory</span>();</span><br><span class="line"></span><br><span class="line">customHistory.<span class="title function_">pushState</span>(&#123; <span class="attr">page</span>: <span class="number">1</span> &#125;, <span class="string">&quot;Title 1&quot;</span>, <span class="string">&quot;/page1&quot;</span>);</span><br><span class="line">customHistory.<span class="title function_">pushState</span>(&#123; <span class="attr">page</span>: <span class="number">2</span> &#125;, <span class="string">&quot;Title 2&quot;</span>, <span class="string">&quot;/page2&quot;</span>);</span><br><span class="line">customHistory.<span class="title function_">replaceState</span>(&#123; <span class="attr">page</span>: <span class="number">3</span> &#125;, <span class="string">&quot;Title 3&quot;</span>, <span class="string">&quot;/page3&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// window.addEventListener(&#x27;popstate&#x27;, (event) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//     console.log(&#x27;Popstate event:&#x27;, event.detail);</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line"></span><br><span class="line">customHistory.<span class="title function_">back</span>(); <span class="comment">// Navigating to: /page1</span></span><br><span class="line">customHistory.<span class="title function_">forward</span>(); <span class="comment">// Navigating to: /page3</span></span><br><span class="line">customHistory.<span class="title function_">go</span>(-<span class="number">1</span>); <span class="comment">// Navigating to: /page1</span></span><br></pre></td></tr></table></figure></div>

]]></content>
  </entry>
  <entry>
    <title>å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜</title>
    <url>/Yuyang/cache/</url>
    <content><![CDATA[<h2 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h2><p>ä¸ºäº†å‡å°‘èµ„æºè¯·æ±‚æ¬¡æ•°ï¼ŒåŠ å¿«èµ„æºè®¿é—®é€Ÿåº¦ï¼Œæµè§ˆå™¨ä¼šå¯¹èµ„æºæ–‡ä»¶å¦‚å›¾ç‰‡ã€cssæ–‡ä»¶ã€jsæ–‡ä»¶ç­‰è¿›è¡Œç¼“å­˜ï¼Œè€Œæµè§ˆå™¨ç¼“å­˜ç­–ç•¥åˆåˆ†ä¸ºå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ã€‚</p>
<h2 id="å¼ºç¼“å­˜"><a href="#å¼ºç¼“å­˜" class="headerlink" title="å¼ºç¼“å­˜"></a>å¼ºç¼“å­˜</h2><p>å¼ºç¼“å­˜æ˜¯æŒ‡æµè§ˆå™¨åœ¨ç¼“å­˜æœ‰æ•ˆæœŸå†…ç›´æ¥ä»æœ¬åœ°ç¼“å­˜ä¸­è¯»å–èµ„æºï¼Œè€Œä¸ä¸æœåŠ¡å™¨è¿›è¡Œä»»ä½•é€šä¿¡ã€‚å¼ºç¼“å­˜çš„å®ç°ä¾èµ–äº HTTP å“åº”å¤´ä¸­çš„ Expires æˆ– Cache-Controlã€‚</p>
<h3 id="Expires"><a href="#Expires" class="headerlink" title="Expires"></a>Expires</h3><p><a class="link"   href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expires" >https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expires <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>ä¸€ä¸ªç»å¯¹çš„è¿‡æœŸæ—¶é—´ï¼ˆGMT æ—¶é—´ï¼‰ï¼Œåœ¨æ­¤æ—¶é—´ä¹‹å‰ï¼Œæµè§ˆå™¨ä¼šè®¤ä¸ºç¼“å­˜æ˜¯æœ‰æ•ˆçš„ã€‚</p>
<div class="highlight-container" data-rel="Http"><figure class="iseeu highlight http"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Expires</span><span class="punctuation">: </span>Wed, 21 Oct 2024 07:28:00 GMT</span><br></pre></td></tr></table></figure></div>

<h3 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h3><p>max-ageä»£è¡¨ç¼“å­˜æ—¶é—´ï¼Œå•ä½ä¸ºç§’</p>
<div class="highlight-container" data-rel="Http"><figure class="iseeu highlight http"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>max-age=3600</span><br></pre></td></tr></table></figure></div>

<p><a class="link"   href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control" >https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121558393.webp"
                      alt="img"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121558374.webp"
                      alt="img"
                ></p>
<p>ä½¿ç”¨ç¼“å­˜çš„è¯ï¼ŒçŠ¶æ€ç 200åé¢ä¼šæ ‡æ˜æƒ…å†µã€‚æµè§ˆå™¨ç¼“å­˜èµ„æºçš„åœ°æ–¹æœ‰ä¸¤ä¸ªï¼šç£ç›˜ç¼“å­˜ï¼ˆdisk cacheï¼‰å’Œå†…å­˜ç¼“å­˜ï¼ˆmemory cacheï¼‰ã€‚</p>
<p>å½“ç¼“å­˜æ—¶é—´åˆ°æœŸåå†æ¬¡è®¿é—®æ—¶ï¼ŒçŠ¶æ€ç 200åé¢ä¾¿æ²¡æœ‰æ‹¬å·å†…çš„å†…å®¹äº†ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121558501.webp"
                      alt="img"
                ></p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œæµè§ˆå™¨ä¼šå°†è¾ƒå¤§çš„èµ„æºç¼“å­˜åˆ°disk cacheï¼Œè€Œè¾ƒå°çš„èµ„æºåˆ™è¢«ç¼“å­˜åˆ°memory cacheé‡Œã€‚å†…å­˜ç¼“å­˜ä¸ç£ç›˜ç¼“å­˜ç›¸æ¯”ï¼Œè®¿é—®é€Ÿåº¦è¦æ›´å¿«ä¸€äº›ï¼</p>
<p>Cache-Controlé™¤äº†max-ageå¤–ï¼Œè¿˜å¯ä»¥è®¾ç½®å…¶å®ƒå±æ€§å€¼ï¼š</p>
<ul>
<li>no-cache: ä¸ä½¿ç”¨å¼ºç¼“å­˜ï¼ˆä½†ä»ä¼šä½¿ç”¨åå•†ç¼“å­˜ï¼‰ã€‚</li>
<li>no-store: ä¸ä½¿ç”¨ç¼“å­˜ï¼ˆä¸ä½¿ç”¨å¼ºç¼“å­˜ä¹Ÿä¸ä½¿ç”¨åå•†ç¼“å­˜ï¼‰ï¼Œæ¯æ¬¡éƒ½å‘æœåŠ¡å™¨å‘é€èµ„æºè¯·æ±‚ã€‚</li>
<li>privateï¼š åªå…è®¸å®¢æˆ·ç«¯ä½¿ç”¨ç¼“å­˜ï¼Œä¸å…è®¸å…¶ä»–ä»£ç†æœåŠ¡å™¨è¿›è¡Œç¼“å­˜ã€‚</li>
<li>public: å®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨éƒ½å¯ç¼“å­˜ã€‚</li>
<li>s-maxage: ä¸max-ageç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯s-maxageæ˜¯è®¾å®šä»£ç†æœåŠ¡å™¨çš„ç¼“å­˜æ—¶é—´ã€‚</li>
</ul>
<p>å¦å¤–ï¼ŒCache-controlçš„ä¼˜å…ˆçº§è¦é«˜äºExpiresï¼Œå¦‚æœä¸¤è€…åŒæ—¶è®¾ç½®ï¼Œä¼šä¼˜å…ˆä½¿ç”¨Cache-controlè€Œå¿½ç•¥æ‰Expiresã€‚</p>
<h2 id="åå•†ç¼“å­˜"><a href="#åå•†ç¼“å­˜" class="headerlink" title="åå•†ç¼“å­˜"></a>åå•†ç¼“å­˜</h2><p><strong>åœ¨å¼ºç¼“å­˜é‡Œï¼Œæ˜¯å¦ä½¿ç”¨ç¼“å­˜æ˜¯ç”±æµè§ˆå™¨æ¥ç¡®å®šçš„ï¼Œè€Œåå•†ç¼“å­˜åˆ™æ˜¯ç”±æœåŠ¡å™¨æ¥å‘Šè¯‰æµè§ˆå™¨æ˜¯å¦ä½¿ç”¨ç¼“å­˜èµ„æºï¼Œä¹Ÿå°±æ˜¯æµè§ˆå™¨æ¯ä¸€æ¬¡éƒ½è¦å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨è¯¢é—®æ˜¯å¦ä½¿ç”¨ç¼“å­˜</strong>ï¼Œåå•†ç¼“å­˜çš„å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p>
<p>æµè§ˆå™¨åˆæ¬¡è¯·æ±‚èµ„æºï¼ŒæœåŠ¡å™¨è¿”å›èµ„æºï¼ŒåŒæ—¶ç”Ÿæˆä¸€ä¸ªEtagå€¼æºå¸¦åœ¨å“åº”å¤´é‡Œè¿”å›ç»™æµè§ˆå™¨ï¼Œå½“æµè§ˆå™¨å†æ¬¡è¯·æ±‚èµ„æºæ—¶ä¼šåœ¨è¯·æ±‚å¤´é‡Œæºå¸¦If-None-Matchï¼Œå€¼æ˜¯ä¹‹å‰æœåŠ¡å™¨è¿”å›çš„Etagçš„å€¼ï¼ŒæœåŠ¡å™¨æ”¶åˆ°ä¹‹åæ‹¿è¯¥å€¼ä¸èµ„æºæ–‡ä»¶æœ€æ–°çš„Etagå€¼åšå¯¹æ¯”ã€‚</p>
<ul>
<li>å¦‚æœæ²¡æœ‰å˜åŒ–åˆ™è¿”å›304ï¼Œå‘Šè¯‰æµè§ˆå™¨ç»§ç»­ä½¿ç”¨ç¼“å­˜ï¼ˆä¸è¿”å›èµ„æºæ–‡ä»¶ï¼‰ã€‚</li>
<li>å¦‚æœå‘ç”Ÿå˜åŒ–ï¼Œåˆ™è¿”å›200å’Œæœ€æ–°çš„èµ„æºæ–‡ä»¶ç»™æµè§ˆå™¨ä½¿ç”¨ã€‚</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121603356.webp"
                      alt="img"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121603175.webp"
                      alt="img"
                ></p>
<p>é™¤äº†Etagå¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªLast-Modifiedçš„å±æ€§ï¼Œå®ƒæ˜¯Http1.0è§„èŒƒçš„ï¼ŒæœåŠ¡å™¨è¿”å›Last-Modifiedï¼Œæµè§ˆå™¨è¯·æ±‚å¤´å¯¹åº”æºå¸¦çš„æ˜¯If-Modified-sinceï¼Œä¸Etagä¸åŒçš„æ˜¯ï¼ŒLast-Modifiedçš„å€¼æ˜¯ä¸€ä¸ªæ—¶é—´å€¼ï¼Œä»£è¡¨æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ï¼ŒæœåŠ¡å™¨é€šè¿‡å¯¹æ¯”æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´æ˜¯å¦å‘ç”Ÿæ”¹å˜æ¥åˆ¤æ–­æ˜¯å¦ä½¿ç”¨ç¼“å­˜ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121603459.webp"
                      alt="img"
                ></p>
<p>ç›¸æ¯”Last-Modifiedï¼ŒEtagä¼˜å…ˆçº§æ›´é«˜ï¼Œä½¿ç”¨ä¸Šä¹Ÿæ›´ç²¾ç¡®ä¸€äº›ï¼Œå› ä¸ºæœ‰æ—¶å€™ä¼šå­˜åœ¨æ–‡ä»¶å†…å®¹å¹¶æ²¡æœ‰æ”¹å˜ï¼Œä½†æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´å˜æ›´äº†ï¼ŒLast-Modifiedä¸ä¸€è‡´æ‰€ä»¥æœåŠ¡å™¨ä¼šé‡æ–°è¿”å›èµ„æºæ–‡ä»¶ï¼Œå®é™…ä¸Šè¿˜æ˜¯å¯ä»¥ç»§ç»­ä½¿ç”¨ç¼“å­˜çš„ã€‚</p>
<p>å¼ºç¼“å­˜ä¼˜å…ˆçº§å¤§äºåå•†ç¼“å­˜ï¼Œå³ä¸¤è€…åŒæ—¶å­˜åœ¨æ—¶ï¼Œå¦‚æœå¼ºç¼“å­˜å¼€å¯ä¸”åœ¨æœ‰æ•ˆæœŸå†…ï¼Œåˆ™ä¸ä¼šèµ°åå•†ç¼“å­˜ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å¼ºç¼“å­˜å°±æ˜¯æµè§ˆå™¨æœ¬åœ°æ ¹æ®æœåŠ¡å™¨è®¾ç½®çš„è¿‡æœŸæ—¶é—´æ¥åˆ¤æ–­æ˜¯å¦ä½¿ç”¨ç¼“å­˜ï¼Œæœªè¿‡æœŸåˆ™ä»æœ¬åœ°ç¼“å­˜é‡Œæ‹¿èµ„æºï¼Œå·²è¿‡æœŸåˆ™é‡æ–°è¯·æ±‚æœåŠ¡å™¨è·å–æœ€æ–°èµ„æºã€‚</p>
<p>åå•†ç¼“å­˜åˆ™æ˜¯æµè§ˆå™¨æœ¬åœ°æ¯æ¬¡éƒ½å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç”±æœåŠ¡å™¨æ¥å‘Šè¯‰æµè§ˆå™¨æ˜¯ä»ç¼“å­˜é‡Œæ‹¿èµ„æºè¿˜æ˜¯è¿”å›æœ€æ–°èµ„æºç»™æµè§ˆå™¨ä½¿ç”¨ã€‚</p>
<p>Reference: <a class="link"   href="https://juejin.cn/post/7259298281578889273?searchId=20240712153934B2B3A1160462EB235132" >https://juejin.cn/post/7259298281578889273?searchId=20240712153934B2B3A1160462EB235132 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
  </entry>
  <entry>
    <title>åŸå‹å’ŒåŸå‹é“¾</title>
    <url>/Yuyang/prototype/</url>
    <content><![CDATA[<h2 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h2><p>ä»€ä¹ˆæ˜¯åŸå‹ï¼Ÿä»€ä¹ˆæ˜¯æ„é€ å‡½æ•°ã€å®ä¾‹åŸå‹ã€å®ä¾‹ï¼Ÿå®ƒä»¬çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<h3 id="åŸå‹ï¼ˆPrototypeï¼‰"><a href="#åŸå‹ï¼ˆPrototypeï¼‰" class="headerlink" title="åŸå‹ï¼ˆPrototypeï¼‰"></a>åŸå‹ï¼ˆPrototypeï¼‰</h3><p>æ¯ä¸ª JavaScript å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…éƒ¨é“¾æ¥åˆ°å¦ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œè¿™ä¸ªå¯¹è±¡è¢«ç§°ä¸ºåŸå‹ã€‚å½“è¯•å›¾è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼ŒJavaScript ä¼šé¦–å…ˆåœ¨è¿™ä¸ªå¯¹è±¡è‡ªèº«ä¸Šå¯»æ‰¾è¯¥å±æ€§ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™ä¼šæŸ¥æ‰¾è¯¥å¯¹è±¡çš„åŸå‹ï¼Œå¦‚æ­¤é€’å½’ä¸‹å»ï¼Œç›´åˆ°æ‰¾åˆ°è¯¥å±æ€§æˆ–è¾¾åˆ°åŸå‹é“¾çš„æœ«ç«¯ã€‚</p>
<h3 id="æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰"><a href="#æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰" class="headerlink" title="æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰"></a>æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰</h3><p>æ„é€ å‡½æ•°æ˜¯ç”¨äºåˆ›å»ºå¯¹è±¡çš„å‡½æ•°ã€‚é€šè¿‡ new æ“ä½œç¬¦è°ƒç”¨æ„é€ å‡½æ•°æ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¹¶å°†è¿™ä¸ªæ–°å¯¹è±¡çš„å†…éƒ¨ [[Prototype]] è¿æ¥åˆ°æ„é€ å‡½æ•°çš„ prototype å±æ€§ã€‚</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;Yuyang&#x27;</span>);</span><br></pre></td></tr></table></figure></div>

<p>Personæ˜¯æ„é€ å‡½æ•°ï¼Œpersonæ˜¯åˆ›å»ºçš„å¯¹è±¡</p>
<h3 id="å®ä¾‹åŸå‹ï¼ˆInstance-Prototypeï¼‰"><a href="#å®ä¾‹åŸå‹ï¼ˆInstance-Prototypeï¼‰" class="headerlink" title="å®ä¾‹åŸå‹ï¼ˆInstance Prototypeï¼‰"></a>å®ä¾‹åŸå‹ï¼ˆInstance Prototypeï¼‰</h3><p>å®ä¾‹åŸå‹æ˜¯ç”±æ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§å¼•ç”¨çš„å¯¹è±¡ã€‚æ‰€æœ‰ç”±è¯¥æ„é€ å‡½æ•°åˆ›å»ºçš„å®ä¾‹å¯¹è±¡éƒ½å°†å…±äº«è¿™ä¸ªå®ä¾‹åŸå‹å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">callName</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;zyz&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Yuyang&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> person2 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;YuyangA&quot;</span>);</span><br><span class="line">person1.<span class="property">callName</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">&#125;</span><br><span class="line">person1.<span class="title function_">callName</span>();</span><br><span class="line">person2.<span class="title function_">callName</span>();</span><br></pre></td></tr></table></figure></div>

<h3 id="å®ä¾‹ï¼ˆInstanceï¼‰"><a href="#å®ä¾‹ï¼ˆInstanceï¼‰" class="headerlink" title="å®ä¾‹ï¼ˆInstanceï¼‰"></a>å®ä¾‹ï¼ˆInstanceï¼‰</h3><p>å®ä¾‹æ˜¯é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºçš„å…·ä½“å¯¹è±¡ã€‚æ¯ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ªå†…éƒ¨é“¾æ¥åˆ°å®ƒçš„æ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§çš„å¼•ç”¨ï¼Œè¿™ä¸ªé“¾æ¥å¯ä»¥é€šè¿‡ <code>__proto__</code>ï¼ˆéæ ‡å‡†ï¼‰æˆ– <code>Object.getPrototypeOf</code> æ–¹æ³•æ¥è®¿é—®ã€‚</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> person3 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;Charlie&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person3.<span class="property">__proto__</span> === <span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>); <span class="comment">// è¾“å‡ºï¼štrue</span></span><br></pre></td></tr></table></figure></div>

<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121647943.png"
                      alt="image.png"
                ></p>
<h2 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202407121648478.png"
                      alt="image.png"
                ></p>
<h2 id="è¯æ³•ä½œç”¨åŸŸ"><a href="#è¯æ³•ä½œç”¨åŸŸ" class="headerlink" title="è¯æ³•ä½œç”¨åŸŸ"></a>è¯æ³•ä½œç”¨åŸŸ</h2><p><strong>JavaScript é‡‡ç”¨è¯æ³•ä½œç”¨åŸŸ(lexical scoping)ï¼Œä¹Ÿå°±æ˜¯é™æ€ä½œç”¨åŸŸã€‚</strong></p>
<h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><p>JavaScriptä¸­çš„thisæ€»æ˜¯æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œå…·ä½“æŒ‡å‘å“ªä¸ªå¯¹è±¡æ˜¯åœ¨è¿è¡Œæ—¶åŸºäºå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒåŠ¨æ€ç»‘å®šçš„ï¼Œè€Œéå‡½æ•°è¢«å£°æ˜æ—¶çš„ç¯å¢ƒã€‚</p>
<h3 id="thisçš„æŒ‡å‘"><a href="#thisçš„æŒ‡å‘" class="headerlink" title="thisçš„æŒ‡å‘"></a>thisçš„æŒ‡å‘</h3><ul>
<li>ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨</li>
<li>ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨</li>
<li>æ„é€ å™¨è°ƒç”¨</li>
<li>Function.prototype.call æˆ– Function.prototype.apply è°ƒç”¨</li>
</ul>
<h4 id="ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼š"><a href="#ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼š" class="headerlink" title="ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼š"></a>ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼š</h4><p>å‡½æ•°ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼ŒthisæŒ‡å‘è¯¥å¯¹è±¡ï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">getA</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="variable language_">this</span> === obj);</span><br><span class="line">        <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="title function_">getA</span>();</span><br></pre></td></tr></table></figure></div>

<h4 id="ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ï¼š"><a href="#ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ï¼š" class="headerlink" title="ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ï¼š"></a>ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ï¼š</h4><p>å½“å‡½æ•°ä¸ä½œä¸ºå¯¹è±¡çš„å±æ€§è¢«è°ƒç”¨æ—¶ï¼Œæ­¤æ—¶çš„thisæ€»æ˜¯æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚åœ¨æµè§ˆå™¨çš„javascripté‡Œï¼Œè¿™ä¸ªå…¨å±€å¯¹è±¡æ˜¯windowå¯¹è±¡ã€‚</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">name</span> = <span class="string">&quot;globalName&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> getName = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getName</span>()); <span class="comment">//è¾“å‡º: globalName</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">name</span> = <span class="string">&quot;globalName&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">	<span class="attr">name</span>: <span class="string">&quot;sven&quot;</span>,</span><br><span class="line">	<span class="attr">getName</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> getName = myObject.<span class="property">getName</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getName</span>()); <span class="comment">// globalName</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>



<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">id</span> = <span class="string">&quot;window&quot;</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, <span class="variable language_">this</span>.<span class="property">id</span>, <span class="variable language_">this</span>)Â </span><br><span class="line">  <span class="keyword">var</span> callback = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, <span class="variable language_">this</span>.<span class="property">id</span>, <span class="variable language_">this</span>)</span><br><span class="line">  &#125;Â  Â  Â  Â  </span><br><span class="line">  <span class="title function_">callback</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// callbackä¸­çš„thisæŒ‡å‘window</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, <span class="variable language_">this</span>.<span class="property">id</span>, <span class="variable language_">this</span>);</span><br><span class="line">  <span class="keyword">var</span> <span class="title function_">callback</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, <span class="variable language_">this</span>.<span class="property">id</span>, <span class="variable language_">this</span>);</span><br><span class="line">  &#125;;Â  Â  Â  Â  </span><br><span class="line">  <span class="title function_">callback</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°æ²¡æœ‰this æ•è·å…¶ä¸Šä¸‹æ–‡çš„thiså€¼</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, <span class="variable language_">this</span>.<span class="property">id</span>, <span class="variable language_">this</span>);</span><br><span class="line">  <span class="keyword">var</span> callback = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, <span class="variable language_">this</span>.<span class="property">id</span>, <span class="variable language_">this</span>);</span><br><span class="line">  &#125;.<span class="title function_">bind</span>(<span class="variable language_">this</span>);Â  Â  Â  Â  </span><br><span class="line">  <span class="title function_">callback</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ bind æ˜¾å¼åœ°å°† this ç»‘å®šåˆ° div1</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, <span class="variable language_">this</span>.<span class="property">id</span>, <span class="variable language_">this</span>);</span><br><span class="line">  <span class="keyword">var</span> self = <span class="variable language_">this</span>;</span><br><span class="line">  <span class="keyword">var</span> callback = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ window.id:&quot;</span>, self.<span class="property">id</span>, self);</span><br><span class="line">  &#125;;Â  Â  Â  Â  </span><br><span class="line">  <span class="title function_">callback</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æš‚å­˜this</span></span><br></pre></td></tr></table></figure></div>

<h4 id="æ„é€ å™¨è°ƒç”¨ï¼š"><a href="#æ„é€ å™¨è°ƒç”¨ï¼š" class="headerlink" title="æ„é€ å™¨è°ƒç”¨ï¼š"></a>æ„é€ å™¨è°ƒç”¨ï¼š</h4><p>ç”¨newè°ƒç”¨å‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæ„é€ å™¨çš„thiså°±ä¼šæŒ‡å‘è¿”å›çš„è¿™ä¸ªå¯¹è±¡ï¼Œ</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">MyClass</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&quot;seven&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">MyClass</span>();</span><br><span class="line"><span class="title function_">alert</span>(obj.<span class="property">name</span>);</span><br></pre></td></tr></table></figure></div>

<p>å½“æ„é€ å™¨æ˜¾å¼çš„è¿”å›ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œé‚£ä¹ˆæ­¤æ¬¡è¿ç®—ç»“æœæœ€ç»ˆä¼šè¿”å›è¿™ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬ä¹‹å‰æœŸå¾…çš„this</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">MyClass</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&quot;sven&quot;</span>;</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		<span class="attr">name</span>: <span class="string">&quot;anne&quot;</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">MyClass</span>();</span><br><span class="line"><span class="title function_">alert</span>(obj.<span class="property">name</span>); <span class="comment">//anne</span></span><br></pre></td></tr></table></figure></div>

<h4 id="Function-prototype-call-æˆ–-Function-prototype-apply-è°ƒç”¨"><a href="#Function-prototype-call-æˆ–-Function-prototype-apply-è°ƒç”¨" class="headerlink" title="Function.prototype.call æˆ– Function.prototype.apply è°ƒç”¨:"></a>Function.prototype.call æˆ– Function.prototype.apply è°ƒç”¨:</h4><div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;seven&#x27;</span>,</span><br><span class="line">  <span class="attr">getName</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;anne&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="title function_">getName</span>()) <span class="comment">// seven</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">getName</span>.<span class="title function_">call</span>(obj2)) <span class="comment">// anne</span></span><br></pre></td></tr></table></figure></div>

<p><code>call</code> æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶æ˜¾å¼åœ°æŒ‡å®š <code>this</code> å€¼å’Œä¼ é€’çš„å‚æ•°ã€‚</p>
<p>callæºç å®ç°ï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myCall</span> = <span class="keyword">function</span>(<span class="params">context, ...args</span>) &#123;</span><br><span class="line">  <span class="comment">// å¦‚æœæ²¡æœ‰æä¾› contextï¼Œé»˜è®¤è®¾ç½®ä¸ºå…¨å±€å¯¹è±¡ï¼ˆåœ¨æµè§ˆå™¨ä¸­æ˜¯ windowï¼‰</span></span><br><span class="line">  context = context || globalThis;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ä¸º context åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„ä¸´æ—¶å±æ€§æ¥å­˜å‚¨å‡½æ•°</span></span><br><span class="line">  <span class="keyword">const</span> fnSymbol = <span class="title class_">Symbol</span>();</span><br><span class="line">  context[fnSymbol] = <span class="variable language_">this</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ä½¿ç”¨ context è°ƒç”¨å‡½æ•°ï¼Œå¹¶ä¼ é€’å‚æ•°</span></span><br><span class="line">  <span class="keyword">const</span> result = context[fnSymbol](...args);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// åˆ é™¤ä¸´æ—¶å±æ€§</span></span><br><span class="line">  <span class="keyword">delete</span> context[fnSymbol];</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ä½¿ç”¨ myCall</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params">greeting, punctuation</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(greeting + <span class="string">&#x27;, &#x27;</span> + <span class="variable language_">this</span>.<span class="property">name</span> + punctuation);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person = &#123; <span class="attr">name</span>: <span class="string">&#x27;Alice&#x27;</span> &#125;;</span><br><span class="line">greet.<span class="title function_">myCall</span>(person, <span class="string">&#x27;Hello&#x27;</span>, <span class="string">&#x27;!&#x27;</span>);  <span class="comment">// è¾“å‡º: &quot;Hello, Alice!&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<p> <strong>call() æ–¹æ³•æ¥å—çš„æ˜¯å‚æ•°åˆ—è¡¨ï¼Œè€Œ apply() æ–¹æ³•æ¥å—çš„æ˜¯ä¸€ä¸ªå‚æ•°æ•°ç»„</strong>ã€‚</p>
<p>callï¼š</p>
<blockquote>
<p><em>function</em>.call(<em>thisArg</em>, <em>arg1</em>, <em>arg2</em>, â€¦)</p>
</blockquote>
<p>applyï¼š</p>
<blockquote>
<p><em>func</em>.apply(<em>thisArg, [argsArray</em>])</p>
</blockquote>
<p><code>bind</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨è°ƒç”¨æ—¶ï¼Œå…¶ <code>this</code> å€¼å’Œä¼ é€’çš„å‚æ•°è¢«é¢„å…ˆè®¾ç½®ã€‚ä¸ <code>call</code> æ–¹æ³•ä¸åŒï¼Œ<code>bind</code> ä¸ä¼šç«‹å³è°ƒç”¨å‡½æ•°ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">  <span class="attr">value</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">bind2</span> = <span class="keyword">function</span>(<span class="params">context</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> _this = <span class="variable language_">this</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    _this.<span class="title function_">apply</span>(context);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bindFoo2 = bar.<span class="title function_">bind2</span>(foo);</span><br></pre></td></tr></table></figure></div>

<h3 id="ä¸¢å¤±çš„this"><a href="#ä¸¢å¤±çš„this" class="headerlink" title="ä¸¢å¤±çš„this"></a>ä¸¢å¤±çš„this</h3>]]></content>
  </entry>
  <entry>
    <title>node_moduleså›°å¢ƒä»¥åŠpnpm</title>
    <url>/Yuyang/pnpm/</url>
    <content><![CDATA[<p>node_modulesçš„è®¾è®¡è™½ç„¶èƒ½æ»¡è¶³å¤§éƒ¨åˆ†çš„åœºæ™¯ï¼Œä½†æ˜¯å…¶ä»ç„¶å­˜åœ¨ç€ç§ç§ç¼ºé™·ç”±äºæ¯ä¸ªé¡¹ç›®å¯èƒ½ä¾èµ–æˆç™¾ä¸Šåƒä¸ªå°æ¨¡å—ï¼Œnode_modules ç›®å½•çš„ä½“ç§¯å¾€å¾€éå¸¸åºå¤§ï¼ŒåŠ¨è¾„å‡ ç™¾MBç”šè‡³è¶…è¿‡1GBã€‚è¿™ä¸ä»…å¢åŠ äº†å­˜å‚¨è´Ÿæ‹…ï¼Œä¹Ÿå½±å“äº†é¡¹ç›®çš„å…‹éš†ã€å¤‡ä»½å’Œéƒ¨ç½²é€Ÿåº¦ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232217640.png"
                      alt="image.png"
                ></p>
<p>pnpm çš„æœºåˆ¶å¯¹äº yarn å’Œ npm æ¥è¯´æ˜¯é™ç»´æ‰“å‡»ã€‚</p>
<p>åŒ…ç®¡ç†å·¥å…·å‘å±•å²ï¼Œnpm2 å¼€å§‹</p>
<h2 id="npm2"><a href="#npm2" class="headerlink" title="npm2"></a>npm2</h2><p>ç”¨ node ç‰ˆæœ¬ç®¡ç†å·¥å…·æŠŠ node ç‰ˆæœ¬é™åˆ° 4ï¼Œé‚£ npm ç‰ˆæœ¬å°±æ˜¯ 2.x äº†ã€‚</p>
<p>ç„¶åæ‰¾ä¸ªç›®å½•ï¼Œæ‰§è¡Œä¸‹ npm init -yï¼Œå¿«é€Ÿåˆ›å»ºä¸ª package.jsonã€‚ç„¶åæ‰§è¡Œ npm install expressï¼Œé‚£ä¹ˆ express åŒ…å’Œå®ƒçš„ä¾èµ–éƒ½ä¼šè¢«ä¸‹è½½ä¸‹æ¥ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232247533.webp"
                      alt="img"
                ></p>
<p>å±•å¼€ expressï¼Œå®ƒä¹Ÿæœ‰ node_modulesï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232247605.webp"
                      alt="img"
                ></p>
<p>å†å±•å¼€å‡ å±‚ï¼Œæ¯ä¸ªä¾èµ–éƒ½æœ‰è‡ªå·±çš„ node_modulesï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232247887.webp"
                      alt="img"
                ></p>
<p>ä¹Ÿå°±æ˜¯è¯´ npm2 çš„ node_modules æ˜¯åµŒå¥—çš„ã€‚</p>
<p><strong>å­˜åœ¨çš„ç¼ºé™·ï¼š</strong></p>
<ul>
<li>åµŒå¥—æ·±åº¦é—®é¢˜ï¼šæ·±å±‚åµŒå¥—ç»“æ„å®¹æ˜“å¯¼è‡´è·¯å¾„è¿‡é•¿ï¼Œç‰¹åˆ«æ˜¯åœ¨ Windows ç³»ç»Ÿä¸­ï¼Œè¿™å¯èƒ½å¯¼è‡´ç³»ç»Ÿè·¯å¾„é•¿åº¦é™åˆ¶é—®é¢˜ã€‚ windows çš„æ–‡ä»¶è·¯å¾„æœ€é•¿æ˜¯ 260 å¤šä¸ªå­—ç¬¦ï¼Œè¿™æ ·åµŒå¥—æ˜¯ä¼šè¶…è¿‡ windows è·¯å¾„çš„é•¿åº¦é™åˆ¶çš„ã€‚</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232247173.png"
                      alt="img"
                ></p>
<ul>
<li>é‡å¤çš„åŒ…ï¼šå¤šå±‚åµŒå¥—æ„å‘³ç€å¤§é‡é‡å¤çš„åŒ…å®ä¾‹ï¼Œè¿™æ— ç–‘å¢åŠ äº†ç£ç›˜ç©ºé—´çš„ä½¿ç”¨ä¸”å½±å“å®‰è£…é€Ÿåº¦ã€‚å¤šä¸ªåŒ…ä¹‹é—´éš¾å…ä¼šæœ‰å…¬å…±çš„ä¾èµ–ï¼Œè¿™æ ·åµŒå¥—çš„è¯ï¼ŒåŒæ ·çš„ä¾èµ–ä¼šå¤åˆ¶å¾ˆå¤šæ¬¡ï¼Œä¼šå æ®æ¯”è¾ƒå¤§çš„ç£ç›˜ç©ºé—´ã€‚</li>
</ul>
<h2 id="YARN-NPM-3"><a href="#YARN-NPM-3" class="headerlink" title="YARN &amp; NPM@3"></a>YARN &amp; NPM@3</h2><p>yarn æ˜¯æ€ä¹ˆè§£å†³ä¾èµ–é‡å¤å¾ˆå¤šæ¬¡ï¼ŒåµŒå¥—è·¯å¾„è¿‡é•¿çš„é—®é¢˜çš„å‘¢ï¼Ÿ</p>
<p><strong>å¤„ç†æ–¹å¼ï¼š</strong></p>
<ul>
<li>æ‰å¹³åŒ–ç»“æ„ï¼šå¤§éƒ¨åˆ†ä¾èµ–è¢«å®‰è£…åœ¨é¡¶å±‚ node_modules ç›®å½•ï¼Œå‡å°‘äº†é‡å¤å®‰è£…ç›¸åŒåŒ…çš„æƒ…å†µã€‚</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232247543.png"
                      alt="img"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232247991.png"
                      alt="img"
                ></p>
<ul>
<li>ç‰ˆæœ¬å†²çªå¤„ç†ï¼šå½“ä¸¤ä¸ªåŒ…éœ€è¦ä¸åŒç‰ˆæœ¬çš„åŒä¸€ä¸ªä¾èµ–æ—¶ï¼Œæ— æ³•è¢«æå‡è‡³é¡¶å±‚çš„ä¾èµ–ä¼šè¢«å®‰è£…åœ¨éœ€è¦å®ƒä»¬çš„åŒ…çš„ node_modules ç›®å½•ä¸‹ã€‚</li>
</ul>
<p><strong>å­˜åœ¨çš„ç¼ºé™·ï¼š</strong></p>
<ul>
<li>ä¾èµ–ç»“æ„çš„ä¸ç¡®å®šæ€§å¯¼è‡´æ‰å¹³åŒ–ç»“æœçš„ä¸ç¡®å®šè§£å†³æ–¹æ³•.lock æ–‡ä»¶</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232247361.png"
                      alt="img"
                ></p>
<ul>
<li>å¹½çµä¾èµ–ï¼šæœ€ä¸»è¦çš„ä¸€ä¸ªé—®é¢˜æ˜¯å¹½çµä¾èµ–ï¼Œä¹Ÿå°±æ˜¯ä½ æ˜æ˜æ²¡æœ‰å£°æ˜åœ¨ dependencies é‡Œçš„ä¾èµ–ï¼Œä½†åœ¨ä»£ç é‡Œå´å¯ä»¥ require è¿›æ¥ã€‚è¿™ä¸ªä¹Ÿå¾ˆå®¹æ˜“ç†è§£ï¼Œå› ä¸ºéƒ½é“ºå¹³äº†å˜›ï¼Œé‚£ä¾èµ–çš„ä¾èµ–ä¹Ÿæ˜¯å¯ä»¥æ‰¾åˆ°çš„ã€‚ä½†æ˜¯è¿™æ ·æ˜¯æœ‰éšæ‚£çš„ï¼Œå› ä¸ºæ²¡æœ‰æ˜¾å¼ä¾èµ–ï¼Œä¸‡ä¸€æœ‰ä¸€å¤©åˆ«çš„åŒ…ä¸ä¾èµ–è¿™ä¸ªåŒ…äº†ï¼Œé‚£ä½ çš„ä»£ç ä¹Ÿå°±ä¸èƒ½è·‘äº†ï¼Œå› ä¸ºä½ ä¾èµ–è¿™ä¸ªåŒ…ï¼Œä½†æ˜¯ç°åœ¨ä¸ä¼šè¢«å®‰è£…äº†ã€‚è¿™å°±æ˜¯å¹½çµä¾èµ–çš„é—®é¢˜ã€‚</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232248078.png"
                      alt="img"
                ><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232248136.png"
                      alt="img"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232248329.png"
                      alt="img"
                ></p>
<ul>
<li>åŒ…é‡å¤å®‰è£…é—®é¢˜ã€‚æå‡æœºåˆ¶ä»ç„¶å¯èƒ½å¯¼è‡´å¤§é‡çš„ä¾èµ–è¢«é‡å¤å®‰è£…ã€‚</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232248172.png"
                      alt="img"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232248183.png"
                      alt="img"
                ></p>
<p>æ‰å¹³åŒ–å¤„ç†ï¼š</p>
<p>æˆ‘ä»¬æŠŠ node_modules åˆ äº†ï¼Œç”¨ yarn å†é‡æ–°å®‰è£…ä¸‹ï¼Œæ‰§è¡Œ yarn add expressï¼š</p>
<p>è¿™æ—¶å€™ node_modules å°±æ˜¯è¿™æ ·äº†ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249070.webp"
                      alt="img"
                ></p>
<p>å…¨éƒ¨é“ºå¹³åœ¨äº†ä¸€å±‚ï¼Œå±•å¼€ä¸‹é¢çš„åŒ…å¤§éƒ¨åˆ†æ˜¯æ²¡æœ‰äºŒå±‚ node_modules çš„ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249644.webp"
                      alt="img"
                ></p>
<p>å½“ç„¶ä¹Ÿæœ‰çš„åŒ…è¿˜æ˜¯æœ‰ node_modules çš„ï¼Œæ¯”å¦‚è¿™æ ·ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249531.webp"
                      alt="img"
                ></p>
<p>ä¸ºä»€ä¹ˆè¿˜æœ‰åµŒå¥—å‘¢ï¼Ÿ</p>
<p>å› ä¸ºä¸€ä¸ªåŒ…æ˜¯å¯èƒ½æœ‰å¤šä¸ªç‰ˆæœ¬çš„ï¼Œæå‡åªèƒ½æå‡ä¸€ä¸ªï¼Œæ‰€ä»¥åé¢å†é‡åˆ°ç›¸åŒåŒ…çš„ä¸åŒç‰ˆæœ¬ï¼Œä¾ç„¶è¿˜æ˜¯ç”¨åµŒå¥—çš„æ–¹å¼ã€‚</p>
<p>npm åæ¥å‡çº§åˆ° 3 ä¹‹åï¼Œä¹Ÿæ˜¯é‡‡ç”¨è¿™ç§é“ºå¹³çš„æ–¹æ¡ˆäº†ï¼Œå’Œ yarn å¾ˆç±»ä¼¼ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249282.webp"
                      alt="img"
                ></p>
<p>å½“ç„¶ï¼Œyarn è¿˜å®ç°äº† yarn.lock æ¥é”å®šä¾èµ–ç‰ˆæœ¬çš„åŠŸèƒ½ï¼Œä¸è¿‡è¿™ä¸ª npm ä¹Ÿå®ç°äº†ã€‚</p>
<p>æ‰å¹³åŒ–çš„æ–¹æ¡ˆä¹Ÿæœ‰ç›¸åº”çš„é—®é¢˜ã€‚è€Œä¸”è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä¸Šé¢æåˆ°çš„ä¾èµ–åŒ…æœ‰å¤šä¸ªç‰ˆæœ¬çš„æ—¶å€™ï¼Œåªä¼šæå‡ä¸€ä¸ªï¼Œé‚£å…¶ä½™ç‰ˆæœ¬çš„åŒ…ä¸è¿˜æ˜¯å¤åˆ¶äº†å¾ˆå¤šæ¬¡ä¹ˆï¼Œä¾ç„¶æœ‰æµªè´¹ç£ç›˜ç©ºé—´çš„é—®é¢˜ã€‚</p>
<p>é‚£ pnpm æ˜¯æ€ä¹ˆè§£å†³è¿™ä¿©é—®é¢˜çš„å‘¢ï¼Ÿ</p>
<h2 id="pnpm"><a href="#pnpm" class="headerlink" title="pnpm"></a>pnpm</h2><p><strong>pnpmï¼š</strong>æ˜¯ä¸€ä¸ªæ›´æ–°çš„åŒ…ç®¡ç†å·¥å…·ï¼Œæ—¨åœ¨æä¾›æ¯” npm å’Œ Yarn æ›´å¥½çš„ç£ç›˜ç©ºé—´æ•ˆç‡å’Œæ›´å¿«çš„å®‰è£…é€Ÿåº¦ã€‚</p>
<p>pnpm é€šè¿‡ä½¿ç”¨è½¯ç¡¬é“¾æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>è½¯é“¾æ¥ï¼š</p>
<p>ç¡¬é“¾æ¥ï¼š</p>
<p>è¿™æ ·ä¸ä¼šæœ‰å¤åˆ¶å¤šæ¬¡çš„ç£ç›˜ç©ºé—´æµªè´¹ï¼Œè€Œä¸”ä¹Ÿä¸ä¼šæœ‰è·¯å¾„è¿‡é•¿çš„é—®é¢˜ã€‚å› ä¸ºè·¯å¾„è¿‡é•¿çš„é™åˆ¶æœ¬è´¨ä¸Šæ˜¯ä¸èƒ½æœ‰å¤ªæ·±çš„ç›®å½•å±‚çº§ï¼Œç°åœ¨éƒ½æ˜¯å„ä¸ªä½ç½®çš„ç›®å½•çš„ linkï¼Œå¹¶ä¸æ˜¯åŒä¸€ä¸ªç›®å½•ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šæœ‰é•¿åº¦é™åˆ¶ã€‚</p>
<p>æ²¡é”™ï¼Œpnpm å°±æ˜¯é€šè¿‡è¿™ç§æ€è·¯æ¥å®ç°çš„ã€‚</p>
<p>å†æŠŠ node_modules åˆ æ‰ï¼Œç„¶åç”¨ pnpm é‡æ–°è£…ä¸€éï¼Œæ‰§è¡Œ pnpm installã€‚</p>
<p>ä½ ä¼šå‘ç°å®ƒæ‰“å°äº†è¿™æ ·ä¸€å¥è¯ï¼š</p>
<p>åŒ…æ˜¯ä»å…¨å±€ store ç¡¬è¿æ¥åˆ°è™šæ‹Ÿ store çš„ï¼Œè¿™é‡Œçš„è™šæ‹Ÿ store å°±æ˜¯ node_modules&#x2F;.pnpmã€‚</p>
<p>æˆ‘ä»¬æ‰“å¼€ node_modules çœ‹ä¸€ä¸‹ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249706.webp"
                      alt="img"
                ></p>
<p>ç¡®å®ä¸æ˜¯æ‰å¹³åŒ–çš„äº†ï¼Œä¾èµ–äº† expressï¼Œé‚£ node_modules ä¸‹å°±åªæœ‰ expressï¼Œæ²¡æœ‰å¹½çµä¾èµ–ã€‚</p>
<p>å±•å¼€ .pnpm çœ‹ä¸€ä¸‹ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249750.webp"
                      alt="img"
                ></p>
<p>æ‰€æœ‰çš„ä¾èµ–éƒ½åœ¨è¿™é‡Œé“ºå¹³äº†ï¼Œéƒ½æ˜¯ä»å…¨å±€ store ç¡¬è¿æ¥è¿‡æ¥çš„ï¼Œç„¶ååŒ…å’ŒåŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»æ˜¯é€šè¿‡è½¯é“¾æ¥ç»„ç»‡çš„ã€‚</p>
<p>æ¯”å¦‚ .pnpm ä¸‹çš„ expresssï¼Œè¿™äº›éƒ½æ˜¯è½¯é“¾æ¥ï¼Œ</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249099.webp"
                      alt="img"
                ></p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰çš„ä¾èµ–éƒ½æ˜¯ä»å…¨å±€ store ç¡¬è¿æ¥åˆ°äº† node_modules&#x2F;.pnpm ä¸‹ï¼Œç„¶åä¹‹é—´é€šè¿‡è½¯é“¾æ¥æ¥ç›¸äº’ä¾èµ–ã€‚</p>
<p>å®˜æ–¹ç»™äº†ä¸€å¼ åŸç†å›¾ï¼Œé…åˆç€çœ‹ä¸€ä¸‹å°±æ˜ç™½äº†ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232249755.webp"
                      alt="img"
                ></p>
<p>è¿™å°±æ˜¯ pnpm çš„å®ç°åŸç†ã€‚</p>
<p>é‚£ä¹ˆå›è¿‡å¤´æ¥çœ‹ä¸€ä¸‹ï¼Œpnpm ä¸ºä»€ä¹ˆä¼˜ç§€å‘¢ï¼Ÿ</p>
<p>é¦–å…ˆï¼Œæœ€å¤§çš„ä¼˜ç‚¹æ˜¯èŠ‚çœç£ç›˜ç©ºé—´å‘€ï¼Œä¸€ä¸ªåŒ…å…¨å±€åªä¿å­˜ä¸€ä»½ï¼Œå‰©ä¸‹çš„éƒ½æ˜¯è½¯ç¡¬è¿æ¥ï¼Œè¿™å¾—èŠ‚çœå¤šå°‘ç£ç›˜ç©ºé—´å‘€ã€‚</p>
<p>å…¶æ¬¡å°±æ˜¯å¿«ï¼Œå› ä¸ºé€šè¿‡é“¾æ¥çš„æ–¹å¼è€Œä¸æ˜¯å¤åˆ¶ï¼Œè‡ªç„¶ä¼šå¿«ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯å®ƒæ‰€æ ‡æ¦œçš„ä¼˜ç‚¹ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406232250962.webp"
                      alt="img"
                ></p>
<p>ç›¸æ¯” npm2 çš„ä¼˜ç‚¹å°±æ˜¯ä¸ä¼šè¿›è¡ŒåŒæ ·ä¾èµ–çš„å¤šæ¬¡å¤åˆ¶ã€‚</p>
<p>ç›¸æ¯” yarn å’Œ npm3+ å‘¢ï¼Œé‚£å°±æ˜¯æ²¡æœ‰å¹½çµä¾èµ–ï¼Œä¹Ÿä¸ä¼šæœ‰æ²¡æœ‰è¢«æå‡çš„ä¾èµ–ä¾ç„¶å¤åˆ¶å¤šä»½çš„é—®é¢˜ã€‚</p>
<p>è¿™å°±å·²ç»è¶³å¤Ÿä¼˜ç§€äº†ï¼Œå¯¹ yarn å’Œ npm å¯ä»¥è¯´æ˜¯é™ç»´æ‰“å‡»ã€‚</p>
<p>Referenceï¼š<a class="link"   href="https://juejin.cn/post/7127295203177676837?searchId=20240623222554B51B38FF0362E0D545BE" >https://juejin.cn/post/7127295203177676837?searchId=20240623222554B51B38FF0362E0D545BE <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
  </entry>
  <entry>
    <title>å‰ç«¯åŸ‹ç‚¹ä¸å…¨é“¾è·¯</title>
    <url>/Yuyang/eventTracking/</url>
    <content><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯åŸ‹ç‚¹ï¼š"><a href="#ä»€ä¹ˆæ˜¯åŸ‹ç‚¹ï¼š" class="headerlink" title="ä»€ä¹ˆæ˜¯åŸ‹ç‚¹ï¼š"></a>ä»€ä¹ˆæ˜¯åŸ‹ç‚¹ï¼š</h2><p>â€‹	å‰ç«¯åŸ‹ç‚¹æ˜¯ä¸€ç§ç”¨äºæ”¶é›†ç”¨æˆ·åœ¨ç½‘ç«™æˆ–åº”ç”¨ç¨‹åºä¸Šçš„è¡Œä¸ºæ•°æ®çš„æ–¹æ³•ã€‚è¿™äº›æ•°æ®å¯ä»¥å¸®åŠ©ä¼ä¸šäº†è§£ç”¨æˆ·çš„è¡Œä¸ºæ¨¡å¼ã€ä½¿ç”¨ä¹ æƒ¯ï¼Œå¹¶å¯¹äº§å“è¿›è¡Œä¼˜åŒ–ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆè¦åŸ‹ç‚¹ï¼š"><a href="#ä¸ºä»€ä¹ˆè¦åŸ‹ç‚¹ï¼š" class="headerlink" title="ä¸ºä»€ä¹ˆè¦åŸ‹ç‚¹ï¼š"></a>ä¸ºä»€ä¹ˆè¦åŸ‹ç‚¹ï¼š</h2><ul>
<li>æµé‡ç›‘æµ‹ï¼ˆæŒ‰æ—¶é—´ç©ºé—´ç»´åº¦åˆ†æï¼Œç•™å­˜åˆ†æï¼Œè½¬åŒ–åˆ†æï¼‰ã€‚</li>
<li>æ„å»ºè¡Œä¸ºè·¯å¾„ï¼Œè·å–ç”¨æˆ·çš„å…¨é“¾è·¯ä¿¡æ¯è·å–ï¼Œå®ç°ç”¨æˆ·åˆ†ç¾¤ã€äººç¾¤æ´å¯Ÿã€è¡Œä¸ºç»†æŸ¥ç­‰ï¼Œæ„å»ºç”¨æˆ·ç”»åƒã€‚</li>
<li>é€šè¿‡å¯¹åŸ‹ç‚¹æ•°æ®çš„å¤„ç†ã€åˆ†æã€å»ºæ¨¡ï¼Œåˆ¤æ–­äº§å“çš„æ•ˆæœå’Œæœªæ¥èµ°å‘ã€‚</li>
<li>ä¸ºè¥é”€ç­–ç•¥æä¾›æ•°æ®æ”¯æŒï¼Œåˆ†æè¥é”€æ•ˆæœï¼Œæé«˜æ¸ é“è½¬åŒ–ã€‚</li>
<li>çƒ­åŠ›åˆ†æï¼Œå¸®åŠ©åˆ¤æ–­è®¿å®¢çƒ­è¡·çš„åŒºåŸŸï¼Œè¯„ä¼°ç½‘é¡µè®¾è®¡æ˜¯å¦åˆç†ç­‰ã€‚</li>
<li>å®æ–½AB Testï¼ŒæŒç»­ä¼˜åŒ–äº§å“ï¼Œä½¿äº§å“åœ¨å¸‚åœºä¸Šæ›´å…·æœ‰ç«äº‰åŠ›ã€‚</li>
<li>ç”¨æˆ·è¡Œä¸ºå¼‚å¸¸ç›‘æµ‹ä»¥åŠé—®é¢˜å¿«é€Ÿå®šä½ä¸å“åº”ã€‚</li>
</ul>
<h2 id="åŸ‹ç‚¹çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼š"><a href="#åŸ‹ç‚¹çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼š" class="headerlink" title="åŸ‹ç‚¹çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼š"></a>åŸ‹ç‚¹çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼š</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406250013175.png"
                      alt="image-20240625001317104"
                ></p>
<h2 id="åŸ‹ç‚¹æ–¹å¼ï¼š"><a href="#åŸ‹ç‚¹æ–¹å¼ï¼š" class="headerlink" title="åŸ‹ç‚¹æ–¹å¼ï¼š"></a>åŸ‹ç‚¹æ–¹å¼ï¼š</h2><table>
<thead>
<tr>
<th></th>
<th>ä»£ç åŸ‹ç‚¹</th>
<th>å…¨åŸ‹ç‚¹</th>
<th>å¯è§†åŒ–åŸ‹ç‚¹</th>
</tr>
</thead>
<tbody><tr>
<td>å®šä¹‰</td>
<td><strong>ä»£ç åŸ‹ç‚¹</strong>æ˜¯æŒ‡åœ¨å‰ç«¯ä»£ç ä¸­æ‰‹åŠ¨æ·»åŠ åŸ‹ç‚¹ä»£ç ï¼Œç”¨äºæ•è·ç‰¹å®šç”¨æˆ·è¡Œä¸ºäº‹ä»¶ã€‚è¿™ç§æ–¹æ³•çµæ´»ä¸”ç²¾ç¡®ï¼Œé€‚ç”¨äºéœ€è¦ç»†ç²’åº¦æ•°æ®æ”¶é›†çš„åœºæ™¯ã€‚</td>
<td><strong>å…¨åŸ‹ç‚¹</strong>æ˜¯ä¸€ç§è‡ªåŠ¨åŒ–çš„åŸ‹ç‚¹æ–¹å¼ï¼Œæ—¨åœ¨æ•è·é¡µé¢ä¸Šçš„æ‰€æœ‰ç”¨æˆ·è¡Œä¸ºäº‹ä»¶ã€‚é€šè¿‡å…¨åŸ‹ç‚¹ï¼Œå¯ä»¥è‡ªåŠ¨è®°å½•ç”¨æˆ·åœ¨é¡µé¢ä¸Šçš„æ‰€æœ‰æ“ä½œï¼Œå¦‚ç‚¹å‡»ã€æ»‘åŠ¨ã€è¾“å…¥ç­‰ï¼Œå‡å°‘äº†æ‰‹åŠ¨æ·»åŠ åŸ‹ç‚¹çš„å·¥ä½œé‡ã€‚</td>
<td><strong>å¯è§†åŒ–åŸ‹ç‚¹</strong>æ˜¯é€šè¿‡å¯è§†åŒ–ç•Œé¢é…ç½®åŸ‹ç‚¹ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ä»£ç ã€‚é€šè¿‡å¯è§†åŒ–å·¥å…·ï¼ŒéæŠ€æœ¯äººå‘˜ä¹Ÿå¯ä»¥æ–¹ä¾¿åœ°é…ç½®å’Œç®¡ç†åŸ‹ç‚¹ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>â€¢	ç²¾ç¡®æ§åˆ¶åŸ‹ç‚¹çš„ä½ç½®å’Œäº‹ä»¶ã€‚	<br />â€¢	å¯ä»¥æ”¶é›†è¯¦ç»†çš„äº‹ä»¶ä¿¡æ¯ã€‚</td>
<td>â€¢	è¦†ç›–å…¨é¢ï¼Œæ— éœ€æ‰‹åŠ¨æ·»åŠ åŸ‹ç‚¹ä»£ç ã€‚<br />â€¢	èƒ½å¤Ÿæ•è·æ‰€æœ‰ç”¨æˆ·è¡Œä¸ºï¼Œæ•°æ®æ›´å®Œæ•´</td>
<td>â€¢	æ— éœ€ä¿®æ”¹ä»£ç ï¼Œé…ç½®æ–¹ä¾¿ã€‚<br />â€¢	éæŠ€æœ¯äººå‘˜ä¹Ÿå¯ä»¥é…ç½®å’Œç®¡ç†åŸ‹ç‚¹ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>â€¢	æ‰‹åŠ¨ç»´æŠ¤åŸ‹ç‚¹ä»£ç ï¼Œå·¥ä½œé‡å¤§ï¼Œå®¹æ˜“å‡ºé”™ã€‚<br />â€¢	éœ€è¦å¼€å‘äººå‘˜ä»‹å…¥ï¼Œç»´æŠ¤æˆæœ¬é«˜ã€‚</td>
<td>â€¢	æ•°æ®é‡å¤§ï¼Œå¯èƒ½å¸¦æ¥å­˜å‚¨å’Œå¤„ç†çš„å‹åŠ›ã€‚<br />â€¢	éœ€è¦åœ¨æ•°æ®æ¸…æ´—å’Œåˆ†æé˜¶æ®µè¿›è¡Œå¤§é‡å¤„ç†ã€‚</td>
<td>â€¢	å¯èƒ½æ— æ³•æ»¡è¶³æ‰€æœ‰ç»†ç²’åº¦çš„åŸ‹ç‚¹éœ€æ±‚ã€‚<br />â€¢	é…ç½®ä¸å½“å¯èƒ½å¯¼è‡´æ•°æ®ä¸å‡†ç¡®ã€‚</td>
</tr>
</tbody></table>
<h2 id="åŸ‹ç‚¹ä¾‹å­ï¼š"><a href="#åŸ‹ç‚¹ä¾‹å­ï¼š" class="headerlink" title="åŸ‹ç‚¹ä¾‹å­ï¼š"></a>åŸ‹ç‚¹ä¾‹å­ï¼š</h2><p>ä»£ç åŸ‹ç‚¹ä¾‹å­ï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&#x27;#button&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// æ„å»ºåŸ‹ç‚¹æ•°æ®</span></span><br><span class="line">    <span class="keyword">var</span> eventData = &#123;</span><br><span class="line">        <span class="attr">eventType</span>: <span class="string">&#x27;button_click&#x27;</span>,</span><br><span class="line">        <span class="attr">buttonId</span>: <span class="string">&#x27;button&#x27;</span>,</span><br><span class="line">        <span class="attr">timestamp</span>: <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">toISOString</span>()</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å‘é€æ•°æ®åˆ°æœåŠ¡å™¨</span></span><br><span class="line">    $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;https://example.com/track&#x27;</span>,</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">        <span class="attr">contentType</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(eventData),</span><br><span class="line">        <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">response</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;åŸ‹ç‚¹æ•°æ®å‘é€æˆåŠŸ&#x27;</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">error</span>: <span class="keyword">function</span>(<span class="params">error</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;åŸ‹ç‚¹æ•°æ®å‘é€å¤±è´¥&#x27;</span>, error);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div>

<p>å…¨åŸ‹ç‚¹ä¾‹å­ï¼š</p>
<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å…¨åŸ‹ç‚¹è„šæœ¬</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// äº‹ä»¶ç›‘å¬å™¨</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">eventListener</span>(<span class="params">event</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> eventData = &#123;</span><br><span class="line">            <span class="attr">eventType</span>: event.<span class="property">type</span>,</span><br><span class="line">            <span class="attr">timestamp</span>: <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">toISOString</span>(),</span><br><span class="line">            <span class="attr">element</span>: event.<span class="property">target</span>.<span class="property">tagName</span>,</span><br><span class="line">            <span class="attr">id</span>: event.<span class="property">target</span>.<span class="property">id</span>,</span><br><span class="line">            <span class="attr">className</span>: event.<span class="property">target</span>.<span class="property">className</span>,</span><br><span class="line">            <span class="attr">pageX</span>: event.<span class="property">pageX</span>,</span><br><span class="line">            <span class="attr">pageY</span>: event.<span class="property">pageY</span>,</span><br><span class="line">            <span class="attr">url</span>: <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span></span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å‘é€æ•°æ®åˆ°æœåŠ¡å™¨</span></span><br><span class="line">        <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">        xhr.<span class="title function_">open</span>(<span class="string">&quot;POST&quot;</span>, <span class="string">&quot;https://example.com/track&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">        xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;application/json;charset=UTF-8&quot;</span>);</span><br><span class="line">        xhr.<span class="title function_">send</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(eventData));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›‘å¬ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, eventListener, <span class="literal">true</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;input&#x27;</span>, eventListener, <span class="literal">true</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, eventListener, <span class="literal">true</span>);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></div>

<h2 id="åŸ‹ç‚¹æ¨¡å‹ï¼š"><a href="#åŸ‹ç‚¹æ¨¡å‹ï¼š" class="headerlink" title="åŸ‹ç‚¹æ¨¡å‹ï¼š"></a>åŸ‹ç‚¹æ¨¡å‹ï¼š</h2><blockquote>
<p>åŸ‹ç‚¹æ¨¡å‹åŒ…å«ä¸¤ä¸ªä¸»è¦æ¦‚å¿µï¼š<strong>äº‹ä»¶(event)</strong> ã€<strong>å±æ€§(params)</strong></p>
<p><strong>äº‹ä»¶</strong>ï¼šé€šè¿‡åŸ‹ç‚¹å®šä¹‰çš„ç”¨æˆ·è¡Œä¸ºæˆ–ä¸šåŠ¡æ“ä½œï¼Œæ¯”å¦‚é¡µé¢æ‰“å¼€ï¼Œé¡µé¢ç¦»å¼€ï¼Œæ¨¡å—æ›å…‰ï¼Œæ¨¡å—ç‚¹å‡»</p>
<p><strong>å±æ€§</strong>ï¼šäº‹ä»¶é™„å¸¦çš„å„ç§ç»´åº¦ä¿¡æ¯ï¼Œæ¯”å¦‚ç”¨æˆ·ä¿¡æ¯ï¼Œç½‘ç»œä¿¡æ¯ï¼Œè®¾å¤‡ä¿¡æ¯ï¼Œäº‹ä»¶å…·ä½“ç»´åº¦ä¿¡æ¯ç­‰</p>
</blockquote>
<p>ä¸€ä¸ªè®¾è®¡çš„ç›¸å¯¹å®Œå–„çš„æ¨¡å‹,ä¸€èˆ¬åŒ…å«ç”¨æˆ·è¡Œä¸ºäº”å…ƒç´ </p>
<p>é€šè¿‡è¿™ä¸ªå¯ä»¥è¯¦ç»†çš„åˆ†ææ˜¯è°åœ¨ä»€ä¹ˆåœ°æ–¹ä»€ä¹ˆæ—¶é—´ï¼Œæ€ä¹ˆæ ·è¿›è¡Œäº†ä»€ä¹ˆæ“ä½œ</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406250041129.png"
                      alt="image-20240625004123315"
                ></p>
<p>æ¨¡å‹äº‹ä»¶ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406250047727.png"
                      alt="image-20240625004727426"
                ></p>
<p>æ¨¡å‹ä¿¡æ¯ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406250053185.png"
                      alt="image-20240625005335046"
                ></p>
<h2 id="åŸ‹ç‚¹ä¸ŠæŠ¥ï¼š"><a href="#åŸ‹ç‚¹ä¸ŠæŠ¥ï¼š" class="headerlink" title="åŸ‹ç‚¹ä¸ŠæŠ¥ï¼š"></a>åŸ‹ç‚¹ä¸ŠæŠ¥ï¼š</h2><p>æ•°æ®é˜Ÿåˆ—å¤„ç†ï¼šå½“éœ€è¦ä¸ŠæŠ¥çš„æ•°æ®é‡é€æ¸å˜å¤šæ—¶ï¼Œå°±éœ€è¦è€ƒè™‘è¿›è¡Œæ‰¹é‡ä¸ŠæŠ¥å’Œå»¶è¿Ÿä¸ŠæŠ¥ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯ä¸ºäº†ä¸é˜»å¡ä¸šåŠ¡ç¨‹åºçš„æ‰§è¡Œï¼Œä¸ŠæŠ¥æœ¬æ¥å°±æ˜¯ç”¨æˆ·æ— æ„ŸçŸ¥çš„äº‹æƒ…ï¼Œç”¨æˆ·ä¸èƒ½ä¸ºæ­¤è€—æ—¶ä¹°å•ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://raw.githubusercontent.com/YuZeZhang/myImgslib/main/202406250115952.png"
                      alt="image-20240625011532834"
                ></p>
<p>å¯¹äºæ•°æ®è¯·æ±‚å¤„ç†ï¼Œä¸»è¦è€ƒè™‘çš„æœ‰ä¸‰ä¸ªå› ç´ </p>
<ul>
<li>è·¨åŸŸçš„é—®é¢˜</li>
<li>é¡µé¢é”€æ¯æ—¶ï¼Œå¦‚ä½•ä¿éšœè¿˜æœªæˆåŠŸä¸Šä¼ çš„æ•°æ®å®Œæˆæ•°æ®ä¸Šä¼ è¯·æ±‚</li>
<li>å¤§æ•°æ®é‡çš„ä¸Šä¼ </li>
</ul>
<p>è¾ƒä¸ºæ ‡å‡†çš„é’ˆå¯¹æ¨¡å—æ›å…‰çš„å®šä¹‰ï¼šçª—å£å¯è§†åŒºåŸŸå†… &amp;&amp; ç»„ä»¶çŸ©å½¢ä¸è§†çª—åŒºåŸŸå‘ç”Ÿäº¤é›† &amp;&amp; äº¤é›†å‚çº¿è·ç¦» &gt;&#x3D; 1px &amp;&amp; åœç•™æ—¶é—´ &gt;&#x3D; XXms</p>
<p>Referenceï¼š<a class="link"   href="https://juejin.cn/post/7324334380373426227?searchId=202406242342178A14CCB0DE15106BCCCB" >https://juejin.cn/post/7324334380373426227?searchId=202406242342178A14CCB0DE15106BCCCB <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>å¤‡æ³¨ï¼šè¿‘å‡ ä¸ªæœˆæ¥çœ‹åˆ°ğŸ‘€è¿‡è´¨é‡æœ€é«˜çš„æ–‡ç« ï¼å­¦åˆ°äº†ï¼</p>
]]></content>
  </entry>
</search>
